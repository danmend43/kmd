"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/catalog-config/route";
exports.ids = ["app/api/catalog-config/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_danie_Desktop_kwai_app_api_catalog_config_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/catalog-config/route.ts */ \"(rsc)/./app/api/catalog-config/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/catalog-config/route\",\n        pathname: \"/api/catalog-config\",\n        filename: \"route\",\n        bundlePath: \"app/api/catalog-config/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\danie\\\\Desktop\\\\kwai\\\\app\\\\api\\\\catalog-config\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_danie_Desktop_kwai_app_api_catalog_config_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/catalog-config/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjYXRhbG9nLWNvbmZpZyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2F0YWxvZy1jb25maWclMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjYXRhbG9nLWNvbmZpZyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQjtBQUNoRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2t3YWktcHJvZmlsZS1hbmFseXplci8/MDI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxkYW5pZVxcXFxEZXNrdG9wXFxcXGt3YWlcXFxcYXBwXFxcXGFwaVxcXFxjYXRhbG9nLWNvbmZpZ1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2F0YWxvZy1jb25maWcvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jYXRhbG9nLWNvbmZpZ1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2F0YWxvZy1jb25maWcvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxkYW5pZVxcXFxEZXNrdG9wXFxcXGt3YWlcXFxcYXBwXFxcXGFwaVxcXFxjYXRhbG9nLWNvbmZpZ1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2F0YWxvZy1jb25maWcvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/catalog-config/route.ts":
/*!*****************************************!*\
  !*** ./app/api/catalog-config/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n\n\n\nconst configFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"catalog-config.json\");\nconst catalogsDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"catalogs\");\n// Fun칞칚o auxiliar para parsear seguidores\nfunction parseFollowers(followersStr) {\n    if (!followersStr || followersStr === \"N/A\" || followersStr === \"0\") return 0;\n    const cleaned = followersStr.replace(/[^\\d.,KkMmBb]/g, \"\");\n    if (cleaned.toLowerCase().includes(\"k\")) {\n        const num = parseFloat(cleaned.replace(/[kK]/g, \"\").replace(\",\", \".\"));\n        return Math.floor(num * 1000);\n    }\n    if (cleaned.toLowerCase().includes(\"m\")) {\n        const num = parseFloat(cleaned.replace(/[mM]/g, \"\").replace(\",\", \".\"));\n        return Math.floor(num * 1000000);\n    }\n    return parseInt(cleaned.replace(/[^\\d]/g, \"\") || \"0\");\n}\n// Fun칞칚o auxiliar para obter nome do grupo\nfunction getGroupName(followers) {\n    if (followers < 1000) return \"inicio\";\n    const groupK = Math.floor(followers / 1000);\n    return `${groupK}k`;\n}\n// Fun칞칚o para limpar nome de exibi칞칚o\nfunction cleanDisplayName(name) {\n    if (!name) return \"\";\n    return name.replace(/\\s*\\(@[^)]+\\)\\s*on\\s+Kwai\\s*$/i, \"\").trim();\n}\n// Fun칞칚o para normalizar nome para c칩pia\nfunction normalizeNameForCopy(name) {\n    if (!name) return \"\";\n    return name.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[^a-z0-9]/g, \"\").trim();\n}\n// Fun칞칚o para obter data/hora do 칰ltimo hist칩rico\nasync function getLastHistoryDate() {\n    try {\n        const historyDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"history\");\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(historyDir)) {\n            return null;\n        }\n        const files = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readdir)(historyDir);\n        const jsonFiles = files.filter((file)=>file.startsWith(\"historico_\") && file.endsWith(\".json\")).sort().reverse();\n        if (jsonFiles.length === 0) {\n            return null;\n        }\n        const latestJsonFile = jsonFiles[0];\n        // Extrair data do nome do arquivo: historico_2025-11-02H03-25.json\n        const dateMatch = latestJsonFile.match(/historico_(\\d{4})-(\\d{2})-(\\d{2})H(\\d{2})-(\\d{2})\\.json/);\n        if (dateMatch) {\n            const [, year, month, day, hour, minute] = dateMatch;\n            return `${day}/${month}/${year} ${hour}:${minute}`;\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Erro ao obter data do hist\\xf3rico:\", error);\n        return null;\n    }\n}\n// Fun칞칚o para carregar perfis do hist칩rico\nasync function loadProfilesFromHistory() {\n    try {\n        const historyDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"history\");\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(historyDir)) {\n            return [];\n        }\n        const files = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readdir)(historyDir);\n        const jsonFiles = files.filter((file)=>file.startsWith(\"historico_\") && file.endsWith(\".json\")).sort().reverse();\n        if (jsonFiles.length === 0) {\n            return [];\n        }\n        const latestJsonFile = jsonFiles[0];\n        const jsonFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(historyDir, latestJsonFile);\n        const jsonContent = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(jsonFilePath, \"utf-8\");\n        const jsonData = JSON.parse(jsonContent);\n        // Carregar contas\n        const accountsFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"accounts-data.json\");\n        let accounts = [];\n        if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(accountsFilePath)) {\n            const accountsContent = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(accountsFilePath, \"utf-8\");\n            const accountsData = JSON.parse(accountsContent);\n            accounts = accountsData.accounts || [];\n        }\n        // Converter e associar IDs\n        return jsonData.map((item, index)=>{\n            let matchingAccount = null;\n            const profileEmail = (item.email || \"\").toLowerCase().trim();\n            const profileName = (item.displayName || item.name || item.username || \"\").toLowerCase().trim();\n            // Buscar conta correspondente\n            if (profileEmail && accounts.length > 0) {\n                matchingAccount = accounts.find((acc)=>{\n                    const accEmail = (acc.email || \"\").toLowerCase().trim();\n                    return accEmail && accEmail === profileEmail;\n                });\n            }\n            if (!matchingAccount && profileName && accounts.length > 0) {\n                matchingAccount = accounts.find((acc)=>{\n                    const accName = (acc.name || \"\").toLowerCase().trim();\n                    return accName && accName === profileName;\n                });\n            }\n            if (!matchingAccount && accounts.length > 0 && index < accounts.length) {\n                matchingAccount = accounts[index];\n            }\n            let avatarUrl = item.avatar || \"\";\n            if (avatarUrl && avatarUrl.startsWith(\"http://\")) {\n                avatarUrl = avatarUrl.replace(\"http://\", \"https://\");\n            }\n            return {\n                email: item.email || \"\",\n                displayName: item.displayName || item.name || item.username || \"\",\n                avatar: avatarUrl,\n                followers: item.followers || \"0\",\n                likes: item.likes || \"0\",\n                url: item.url || \"\",\n                username: item.username || \"\",\n                id: matchingAccount?.id || \"\"\n            };\n        });\n    } catch (error) {\n        console.error(\"Erro ao carregar perfis do hist\\xf3rico:\", error);\n        return [];\n    }\n}\n// Fun칞칚o para escapar HTML\nfunction escapeHtml(text) {\n    if (!text) return \"\";\n    return String(text).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n}\n// Fun칞칚o para escapar JavaScript\nfunction escapeJs(text) {\n    if (!text) return \"\";\n    return String(text).replace(/\\\\/g, \"\\\\\\\\\").replace(/'/g, \"\\\\'\").replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\");\n}\n// Fun칞칚o para gerar HTML est치tico do cat치logo\nasync function generateCatalogHTML(catalog, profiles, lastUpdateDate) {\n    // Agrupar perfis\n    const groups = {};\n    profiles.forEach((profile)=>{\n        const followersNum = parseFollowers(profile.followers || \"0\");\n        const groupName = getGroupName(followersNum);\n        if (!groups[groupName]) {\n            groups[groupName] = [];\n        }\n        groups[groupName].push(profile);\n    });\n    // Filtrar grupos selecionados\n    const filteredGroups = {};\n    if (catalog.selectedGroups && catalog.selectedGroups.length > 0) {\n        catalog.selectedGroups.forEach((groupName)=>{\n            if (groups[groupName]) {\n                filteredGroups[groupName] = groups[groupName];\n            }\n        });\n    } else {\n        Object.assign(filteredGroups, groups);\n    }\n    // Calcular total de seguidores\n    let totalFollowers = 0;\n    Object.values(filteredGroups).forEach((groupProfiles)=>{\n        groupProfiles.forEach((profile)=>{\n            totalFollowers += parseFollowers(profile.followers || \"0\");\n        });\n    });\n    const formatFollowers = (num)=>{\n        if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\n        if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\n        return num.toString();\n    };\n    // N칚o h치 mais timer de expira칞칚o\n    // Gerar HTML\n    const groupEntries = Object.entries(filteredGroups).sort((a, b)=>{\n        if (a[0] === \"inicio\") return -1;\n        if (b[0] === \"inicio\") return 1;\n        const numA = parseInt(a[0].replace(\"k\", \"\")) || 0;\n        const numB = parseInt(b[0].replace(\"k\", \"\")) || 0;\n        return numA - numB;\n    });\n    const groupsHTML = groupEntries.map(([groupName, groupProfiles])=>{\n        const groupDisplayName = groupName === \"inicio\" ? \"< 1k\" : groupName.toUpperCase();\n        const profilesHTML = groupProfiles.map((profile, index)=>{\n            const displayName = cleanDisplayName(profile.displayName || profile.name || profile.email || \"N/A\");\n            const normalizedName = normalizeNameForCopy(displayName);\n            const copyText = profile.id ? `${normalizedName}-${profile.id}` : \"\";\n            const kwaiUrl = profile.url || (profile.email ? `https://k.kwai.com/u/@${profile.email.split(\"@\")[0]}` : \"\");\n            // Escapar valores para HTML\n            const safeDisplayName = escapeHtml(displayName);\n            const safeAvatar = escapeHtml(profile.avatar || \"\");\n            const safeFollowers = escapeHtml(profile.followers || \"N/A\");\n            const safeLikes = escapeHtml(profile.likes || \"N/A\");\n            const safeId = escapeHtml(profile.id || \"\");\n            const safeCopyText = escapeJs(copyText);\n            const safeKwaiUrl = escapeHtml(kwaiUrl);\n            const firstLetter = safeDisplayName[0]?.toUpperCase() || \"?\";\n            return `\n        <div class=\"bg-white rounded-2xl p-5 border border-gray-200 hover:border-purple-300 transition-colors\">\n          <div class=\"space-y-3\">\n            <div class=\"flex items-start gap-3\">\n              ${profile.avatar ? `\n                <img src=\"${safeAvatar}\" alt=\"${safeDisplayName}\" class=\"w-16 h-16 rounded-2xl border-[3px] border-purple-400 object-cover flex-shrink-0 shadow-lg\" onerror=\"this.style.display='none'\">\n              ` : `\n                <div class=\"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-400 to-pink-400 border-[3px] border-purple-400 flex items-center justify-center flex-shrink-0 shadow-lg\">\n                  <span class=\"text-2xl text-white font-bold\">${firstLetter}</span>\n                </div>\n              `}\n              <div class=\"flex-1 min-w-0 pt-1\">\n                ${profile.id ? `\n                  <div class=\"inline-block px-2 py-1 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg mb-2\">\n                    <span class=\"text-xs text-purple-700 font-bold\">ID: ${safeId}</span>\n                  </div>\n                ` : \"\"}\n                <div class=\"font-bold text-gray-800 truncate text-base\">${safeDisplayName}</div>\n              </div>\n            </div>\n            <div class=\"grid grid-cols-2 gap-3 pt-2 border-t border-gray-100\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center\">\n                  <span class=\"text-sm\">游논</span>\n                </div>\n                <div>\n                  <div class=\"text-xs text-gray-500\">Seguidores</div>\n                  <div class=\"text-sm font-bold text-gray-800\">${safeFollowers}</div>\n                </div>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-8 h-8 rounded-lg bg-pink-100 flex items-center justify-center\">\n                  <span class=\"text-sm\">仇벒잺</span>\n                </div>\n                <div>\n                  <div class=\"text-xs text-gray-500\">Curtidas</div>\n                  <div class=\"text-sm font-bold text-gray-800\">${safeLikes}</div>\n                </div>\n              </div>\n            </div>\n            ${copyText ? `\n              <button onclick=\"copyToClipboard('${safeCopyText}')\" class=\"w-full mt-2 px-4 py-2 bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 hover:from-purple-100 hover:to-pink-100 rounded-lg font-medium text-sm transition-all border border-purple-200\">\n                Copiar ID\n              </button>\n            ` : \"\"}\n            ${kwaiUrl ? `\n              <a href=\"${safeKwaiUrl}\" target=\"_blank\" class=\"w-full mt-2 block px-4 py-2 bg-gradient-to-r from-sky-50 to-blue-50 text-blue-700 hover:from-sky-100 hover:to-blue-100 rounded-lg font-medium text-sm transition-all border border-blue-200 text-center\">\n                Ver Perfil\n              </a>\n            ` : \"\"}\n          </div>\n        </div>\n      `;\n        }).join(\"\");\n        return `\n      <div class=\"mb-8\">\n        <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">${groupDisplayName} (${groupProfiles.length} contas)</h2>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          ${profilesHTML}\n        </div>\n      </div>\n    `;\n    }).join(\"\");\n    return `<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${escapeHtml(catalog.name)} - Cat치logo Kwai</title>\n  <script src=\"https://cdn.tailwindcss.com\"></script>\n  <style>\n    @keyframes fadeIn {\n      from { opacity: 0; transform: translateY(10px); }\n      to { opacity: 1; transform: translateY(0); }\n    }\n    .animate-fade-in {\n      animation: fadeIn 0.3s ease-out;\n    }\n  </style>\n</head>\n<body class=\"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50\">\n  <div class=\"bg-white/80 backdrop-blur-lg shadow-lg border-b border-purple-100 sticky top-0 z-10\">\n    <div class=\"max-w-7xl mx-auto px-6 py-5\">\n      <div class=\"flex items-center justify-between flex-wrap gap-4\">\n        <div>\n          <h1 class=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-1\">\n            ${escapeHtml(catalog.name)}\n          </h1>\n          <p class=\"text-sm text-gray-600 font-medium\">N칰mero: <span class=\"text-purple-600 font-bold\">${escapeHtml(catalog.number)}</span></p>\n          ${catalog.selectedGroups && catalog.selectedGroups.length > 0 ? `\n            <p class=\"text-sm text-gray-600 font-medium mt-1\">\n              Seguidores: <span class=\"text-purple-600 font-bold\">${formatFollowers(totalFollowers)}</span>\n              <span class=\"text-gray-500 ml-2\">(${catalog.selectedGroups.join(\", \")})</span>\n            </p>\n          ` : \"\"}\n        </div>\n        ${lastUpdateDate ? `\n          <div class=\"text-right bg-gradient-to-r from-blue-500 to-cyan-500 rounded-xl px-6 py-3 shadow-lg\">\n            <div class=\"text-xs text-white/90 font-medium uppercase tracking-wide mb-1\">칔ltima Atualiza칞칚o</div>\n            <div class=\"text-lg font-bold text-white\">\n              ${escapeHtml(lastUpdateDate)}\n            </div>\n          </div>\n        ` : \"\"}\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-7xl mx-auto px-6 py-8\">\n    ${groupsHTML}\n  </div>\n\n  <script>\n    function copyToClipboard(text) {\n      navigator.clipboard.writeText(text).then(() => {\n        alert('ID copiado: ' + text);\n      }).catch(err => {\n        console.error('Erro ao copiar:', err);\n      });\n    }\n\n  </script>\n</body>\n</html>`;\n}\n// GET 칠 p칰blico (usado pela p치gina de cat치logo p칰blica)\nasync function GET() {\n    try {\n        // Se o arquivo n칚o existe, retornar array vazio (n칚o 칠 erro)\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configFilePath)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                catalogs: []\n            });\n        }\n        let content;\n        try {\n            content = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(configFilePath, \"utf-8\");\n        } catch (readError) {\n            console.error(\"Erro ao ler arquivo de configura\\xe7\\xe3o:\", readError);\n            // Se n칚o conseguir ler, retornar array vazio\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                catalogs: []\n            });\n        }\n        let data;\n        try {\n            data = JSON.parse(content);\n        } catch (parseError) {\n            console.error(\"Erro ao parsear JSON de configura\\xe7\\xe3o:\", parseError);\n            // Se o JSON estiver corrompido, retornar array vazio\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                catalogs: []\n            });\n        }\n        // Retornar todos os cat치logos ativos (sem filtro de expira칞칚o)\n        const activeCatalogs = (data.catalogs || []).filter((cat)=>{\n            return cat.active !== false;\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            catalogs: activeCatalogs\n        });\n    } catch (error) {\n        console.error(\"Erro ao carregar configura\\xe7\\xf5es:\", error);\n        // Em caso de erro, retornar array vazio ao inv칠s de erro 500\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            catalogs: []\n        });\n    }\n}\n// POST requer autentica칞칚o (apenas admin pode criar cat치logos)\nasync function POST(request) {\n    const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.verifyAuth)(request);\n    if (!auth.authenticated) {\n        return auth.response || next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"N\\xe3o autenticado\"\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const { name, selectedGroups } = await request.json();\n        if (!selectedGroups || selectedGroups.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Selecione pelo menos um grupo de seguidores\"\n            }, {\n                status: 400\n            });\n        }\n        const catalogName = name || \"Contas do Kwai\";\n        // Gerar link aleat칩rio\n        const randomLink = crypto__WEBPACK_IMPORTED_MODULE_4___default().randomBytes(16).toString(\"hex\");\n        // Carregar cat치logos existentes para verificar n칰meros\n        let catalogs = [];\n        if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configFilePath)) {\n            const content = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(configFilePath, \"utf-8\");\n            const data = JSON.parse(content);\n            catalogs = data.catalogs || [];\n        }\n        // Gerar n칰mero aleat칩rio 칰nico que nunca se repete\n        let randomNumber;\n        let isUnique = false;\n        while(!isUnique){\n            // Gerar n칰mero aleat칩rio de 6 d칤gitos\n            randomNumber = Math.floor(100000 + Math.random() * 900000).toString();\n            // Verificar se j치 existe (verificar todos os cat치logos)\n            isUnique = !catalogs.some((cat)=>cat.number === randomNumber);\n        }\n        console.log(\"[CATALOG] Criando cat\\xe1logo:\", {\n            link: randomLink,\n            createdAt: new Date().toISOString()\n        });\n        const catalog = {\n            link: randomLink,\n            number: randomNumber,\n            name: catalogName,\n            createdAt: new Date().toISOString(),\n            active: true,\n            selectedGroups: selectedGroups || [] // Grupos selecionados\n        };\n        // Adicionar novo cat치logo\n        catalogs.push(catalog);\n        const configDir = path__WEBPACK_IMPORTED_MODULE_3___default().dirname(configFilePath);\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configDir)) {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(configDir, {\n                recursive: true\n            });\n        }\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(configFilePath, JSON.stringify({\n            catalogs\n        }, null, 2), \"utf-8\");\n        // Gerar e salvar HTML est치tico do cat치logo\n        try {\n            console.log(\"[CATALOG] Carregando perfis para gerar HTML...\");\n            const profiles = await loadProfilesFromHistory();\n            const lastUpdateDate = await getLastHistoryDate();\n            console.log(`[CATALOG] ${profiles.length} perfis carregados`);\n            console.log(`[CATALOG] 칔ltima atualiza칞칚o: ${lastUpdateDate || \"N/A\"}`);\n            const htmlContent = await generateCatalogHTML(catalog, profiles, lastUpdateDate);\n            // Criar diret칩rio de cat치logos se n칚o existir\n            if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(catalogsDir)) {\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(catalogsDir, {\n                    recursive: true\n                });\n            }\n            // Salvar arquivo HTML\n            const htmlFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(catalogsDir, `${catalog.link}.html`);\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(htmlFilePath, htmlContent, \"utf-8\");\n            console.log(`[CATALOG] HTML gerado e salvo em: ${htmlFilePath}`);\n        } catch (htmlError) {\n            console.error(\"[CATALOG] Erro ao gerar HTML:\", htmlError);\n        // Continuar mesmo se falhar - o cat치logo ainda 칠 criado\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Cat\\xe1logo criado com sucesso\",\n            catalog,\n            htmlUrl: `/catalogs/${catalog.link}.html`\n        });\n    } catch (error) {\n        console.error(\"Erro ao salvar configura\\xe7\\xe3o:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Erro ao salvar configura칞칚o: ${error.message}`\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE requer autentica칞칚o (apenas admin pode deletar cat치logos)\nasync function DELETE(request) {\n    const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.verifyAuth)(request);\n    if (!auth.authenticated) {\n        return auth.response || next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"N\\xe3o autenticado\"\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const { link } = await request.json();\n        if (!link) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Link \\xe9 obrigat\\xf3rio\"\n            }, {\n                status: 400\n            });\n        }\n        let catalogs = [];\n        if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configFilePath)) {\n            const content = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(configFilePath, \"utf-8\");\n            const data = JSON.parse(content);\n            catalogs = data.catalogs || [];\n        }\n        const originalLength = catalogs.length;\n        catalogs = catalogs.filter((cat)=>cat.link !== link);\n        // Verificar se realmente removeu algo\n        if (catalogs.length === originalLength) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Cat\\xe1logo n\\xe3o encontrado\"\n            }, {\n                status: 404\n            });\n        }\n        // Remover arquivo HTML do cat치logo\n        try {\n            const htmlFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(catalogsDir, `${link}.html`);\n            if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(htmlFilePath)) {\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.unlink)(htmlFilePath);\n                console.log(`[CATALOG] HTML removido: ${htmlFilePath}`);\n            }\n        } catch (htmlError) {\n            console.warn(\"[CATALOG] Aviso: N\\xe3o foi poss\\xedvel remover HTML:\", htmlError.message);\n        // Continuar mesmo se falhar - o cat치logo ainda 칠 removido\n        }\n        const configDir = path__WEBPACK_IMPORTED_MODULE_3___default().dirname(configFilePath);\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configDir)) {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(configDir, {\n                recursive: true\n            });\n        }\n        try {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(configFilePath, JSON.stringify({\n                catalogs\n            }, null, 2), \"utf-8\");\n        } catch (writeError) {\n            console.warn(\"Aviso: N\\xe3o foi poss\\xedvel salvar no sistema de arquivos:\", writeError.message);\n        // Continuar mesmo assim - no Vercel pode ser tempor치rio\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Cat\\xe1logo removido com sucesso\",\n            catalogs: catalogs.length\n        });\n    } catch (error) {\n        console.error(\"Erro ao remover cat\\xe1logo:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Erro ao remover cat치logo: ${error.message}`\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NhdGFsb2ctY29uZmlnL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDa0I7QUFDMUM7QUFDUjtBQUNJO0FBQ1k7QUFFdkMsTUFBTVUsaUJBQWlCSCxnREFBUyxDQUFDSyxRQUFRQyxHQUFHLElBQUksVUFBVTtBQUMxRCxNQUFNQyxjQUFjUCxnREFBUyxDQUFDSyxRQUFRQyxHQUFHLElBQUksVUFBVTtBQUV2RCwwQ0FBMEM7QUFDMUMsU0FBU0UsZUFBZUMsWUFBb0I7SUFDMUMsSUFBSSxDQUFDQSxnQkFBZ0JBLGlCQUFpQixTQUFTQSxpQkFBaUIsS0FBSyxPQUFPO0lBQzVFLE1BQU1DLFVBQVVELGFBQWFFLE9BQU8sQ0FBQyxrQkFBa0I7SUFDdkQsSUFBSUQsUUFBUUUsV0FBVyxHQUFHQyxRQUFRLENBQUMsTUFBTTtRQUN2QyxNQUFNQyxNQUFNQyxXQUFXTCxRQUFRQyxPQUFPLENBQUMsU0FBUyxJQUFJQSxPQUFPLENBQUMsS0FBSztRQUNqRSxPQUFPSyxLQUFLQyxLQUFLLENBQUNILE1BQU07SUFDMUI7SUFDQSxJQUFJSixRQUFRRSxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxNQUFNO1FBQ3ZDLE1BQU1DLE1BQU1DLFdBQVdMLFFBQVFDLE9BQU8sQ0FBQyxTQUFTLElBQUlBLE9BQU8sQ0FBQyxLQUFLO1FBQ2pFLE9BQU9LLEtBQUtDLEtBQUssQ0FBQ0gsTUFBTTtJQUMxQjtJQUNBLE9BQU9JLFNBQVNSLFFBQVFDLE9BQU8sQ0FBQyxVQUFVLE9BQU87QUFDbkQ7QUFFQSwyQ0FBMkM7QUFDM0MsU0FBU1EsYUFBYUMsU0FBaUI7SUFDckMsSUFBSUEsWUFBWSxNQUFNLE9BQU87SUFDN0IsTUFBTUMsU0FBU0wsS0FBS0MsS0FBSyxDQUFDRyxZQUFZO0lBQ3RDLE9BQU8sQ0FBQyxFQUFFQyxPQUFPLENBQUMsQ0FBQztBQUNyQjtBQUVBLHNDQUFzQztBQUN0QyxTQUFTQyxpQkFBaUJDLElBQVk7SUFDcEMsSUFB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QUFTLENBQUM7Z0JBQUU3QjtZQUFTLEdBQUcsTUFBTSxJQUFJO1FBQ3pFLEVBQUUsT0FBT3VDLFlBQWlCO1lBQ3hCckgsUUFBUW9ILElBQUksQ0FBQyxnRUFBMERDLFdBQVdMLE9BQU87UUFDekYsd0RBQXdEO1FBQzFEO1FBRUEsT0FBT3RLLHFEQUFZQSxDQUFDbUksSUFBSSxDQUFDO1lBQ3ZCa0MsU0FBUztZQUNUQyxTQUFTO1lBQ1RsQyxVQUFVQSxTQUFTeEYsTUFBTTtRQUMzQjtJQUNGLEVBQUUsT0FBT1MsT0FBWTtRQUNuQkMsUUFBUUQsS0FBSyxDQUFDLGdDQUE2QkE7UUFDM0MsT0FBT3JELHFEQUFZQSxDQUFDbUksSUFBSSxDQUN0QjtZQUFFOUUsT0FBTyxDQUFDLDBCQUEwQixFQUFFQSxNQUFNaUgsT0FBTyxDQUFDLENBQUM7UUFBQyxHQUN0RDtZQUFFckIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rd2FpLXByb2ZpbGUtYW5hbHl6ZXIvLi9hcHAvYXBpL2NhdGFsb2ctY29uZmlnL3JvdXRlLnRzP2QxYmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgcmVhZEZpbGUsIHdyaXRlRmlsZSwgbWtkaXIsIHJlYWRkaXIsIHVubGluayB9IGZyb20gJ2ZzL3Byb21pc2VzJ1xuaW1wb3J0IHsgZXhpc3RzU3luYyB9IGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJ1xuaW1wb3J0IHsgdmVyaWZ5QXV0aCB9IGZyb20gJ0AvbGliL2F1dGgnXG5cbmNvbnN0IGNvbmZpZ0ZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAnY2F0YWxvZy1jb25maWcuanNvbicpXG5jb25zdCBjYXRhbG9nc0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ2NhdGFsb2dzJylcblxuLy8gRnVuw6fDo28gYXV4aWxpYXIgcGFyYSBwYXJzZWFyIHNlZ3VpZG9yZXNcbmZ1bmN0aW9uIHBhcnNlRm9sbG93ZXJzKGZvbGxvd2Vyc1N0cjogc3RyaW5nKTogbnVtYmVyIHtcbiAgaWYgKCFmb2xsb3dlcnNTdHIgfHwgZm9sbG93ZXJzU3RyID09PSAnTi9BJyB8fCBmb2xsb3dlcnNTdHIgPT09ICcwJykgcmV0dXJuIDBcbiAgY29uc3QgY2xlYW5lZCA9IGZvbGxvd2Vyc1N0ci5yZXBsYWNlKC9bXlxcZC4sS2tNbUJiXS9nLCAnJylcbiAgaWYgKGNsZWFuZWQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaycpKSB7XG4gICAgY29uc3QgbnVtID0gcGFyc2VGbG9hdChjbGVhbmVkLnJlcGxhY2UoL1trS10vZywgJycpLnJlcGxhY2UoJywnLCAnLicpKVxuICAgIHJldHVybiBNYXRoLmZsb29yKG51bSAqIDEwMDApXG4gIH1cbiAgaWYgKGNsZWFuZWQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnbScpKSB7XG4gICAgY29uc3QgbnVtID0gcGFyc2VGbG9hdChjbGVhbmVkLnJlcGxhY2UoL1ttTV0vZywgJycpLnJlcGxhY2UoJywnLCAnLicpKVxuICAgIHJldHVybiBNYXRoLmZsb29yKG51bSAqIDEwMDAwMDApXG4gIH1cbiAgcmV0dXJuIHBhcnNlSW50KGNsZWFuZWQucmVwbGFjZSgvW15cXGRdL2csICcnKSB8fCAnMCcpXG59XG5cbi8vIEZ1bsOnw6NvIGF1eGlsaWFyIHBhcmEgb2J0ZXIgbm9tZSBkbyBncnVwb1xuZnVuY3Rpb24gZ2V0R3JvdXBOYW1lKGZvbGxvd2VyczogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKGZvbGxvd2VycyA8IDEwMDApIHJldHVybiAnaW5pY2lvJ1xuICBjb25zdCBncm91cEsgPSBNYXRoLmZsb29yKGZvbGxvd2VycyAvIDEwMDApXG4gIHJldHVybiBgJHtncm91cEt9a2Bcbn1cblxuLy8gRnVuw6fDo28gcGFyYSBsaW1wYXIgbm9tZSBkZSBleGliacOnw6NvXG5mdW5jdGlvbiBjbGVhbkRpc3BsYXlOYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghbmFtZSkgcmV0dXJuICcnXG4gIHJldHVybiBuYW1lLnJlcGxhY2UoL1xccypcXChAW14pXStcXClcXHMqb25cXHMrS3dhaVxccyokL2ksICcnKS50cmltKClcbn1cblxuLy8gRnVuw6fDo28gcGFyYSBub3JtYWxpemFyIG5vbWUgcGFyYSBjw7NwaWFcbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWVGb3JDb3B5KG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghbmFtZSkgcmV0dXJuICcnXG4gIHJldHVybiBuYW1lXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAubm9ybWFsaXplKCdORkQnKVxuICAgIC5yZXBsYWNlKC9bXFx1MDMwMC1cXHUwMzZmXS9nLCAnJylcbiAgICAucmVwbGFjZSgvW15hLXowLTldL2csICcnKVxuICAgIC50cmltKClcbn1cblxuLy8gRnVuw6fDo28gcGFyYSBvYnRlciBkYXRhL2hvcmEgZG8gw7psdGltbyBoaXN0w7NyaWNvXG5hc3luYyBmdW5jdGlvbiBnZXRMYXN0SGlzdG9yeURhdGUoKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaGlzdG9yeURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ2hpc3RvcnknKVxuICAgIGlmICghZXhpc3RzU3luYyhoaXN0b3J5RGlyKSkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHJlYWRkaXIoaGlzdG9yeURpcilcbiAgICBjb25zdCBqc29uRmlsZXMgPSBmaWxlc1xuICAgICAgLmZpbHRlcihmaWxlID0+IGZpbGUuc3RhcnRzV2l0aCgnaGlzdG9yaWNvXycpICYmIGZpbGUuZW5kc1dpdGgoJy5qc29uJykpXG4gICAgICAuc29ydCgpXG4gICAgICAucmV2ZXJzZSgpXG5cbiAgICBpZiAoanNvbkZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBsYXRlc3RKc29uRmlsZSA9IGpzb25GaWxlc1swXVxuICAgIC8vIEV4dHJhaXIgZGF0YSBkbyBub21lIGRvIGFycXVpdm86IGhpc3Rvcmljb18yMDI1LTExLTAySDAzLTI1Lmpzb25cbiAgICBjb25zdCBkYXRlTWF0Y2ggPSBsYXRlc3RKc29uRmlsZS5tYXRjaCgvaGlzdG9yaWNvXyhcXGR7NH0pLShcXGR7Mn0pLShcXGR7Mn0pSChcXGR7Mn0pLShcXGR7Mn0pXFwuanNvbi8pXG4gICAgaWYgKGRhdGVNYXRjaCkge1xuICAgICAgY29uc3QgWywgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlXSA9IGRhdGVNYXRjaFxuICAgICAgcmV0dXJuIGAke2RheX0vJHttb250aH0vJHt5ZWFyfSAke2hvdXJ9OiR7bWludXRlfWBcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gb2J0ZXIgZGF0YSBkbyBoaXN0w7NyaWNvOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cblxuLy8gRnVuw6fDo28gcGFyYSBjYXJyZWdhciBwZXJmaXMgZG8gaGlzdMOzcmljb1xuYXN5bmMgZnVuY3Rpb24gbG9hZFByb2ZpbGVzRnJvbUhpc3RvcnkoKTogUHJvbWlzZTxhbnlbXT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGhpc3RvcnlEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICdoaXN0b3J5JylcbiAgICBpZiAoIWV4aXN0c1N5bmMoaGlzdG9yeURpcikpIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgcmVhZGRpcihoaXN0b3J5RGlyKVxuICAgIGNvbnN0IGpzb25GaWxlcyA9IGZpbGVzXG4gICAgICAuZmlsdGVyKGZpbGUgPT4gZmlsZS5zdGFydHNXaXRoKCdoaXN0b3JpY29fJykgJiYgZmlsZS5lbmRzV2l0aCgnLmpzb24nKSlcbiAgICAgIC5zb3J0KClcbiAgICAgIC5yZXZlcnNlKClcblxuICAgIGlmIChqc29uRmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW11cbiAgICB9XG5cbiAgICBjb25zdCBsYXRlc3RKc29uRmlsZSA9IGpzb25GaWxlc1swXVxuICAgIGNvbnN0IGpzb25GaWxlUGF0aCA9IHBhdGguam9pbihoaXN0b3J5RGlyLCBsYXRlc3RKc29uRmlsZSlcbiAgICBjb25zdCBqc29uQ29udGVudCA9IGF3YWl0IHJlYWRGaWxlKGpzb25GaWxlUGF0aCwgJ3V0Zi04JylcbiAgICBjb25zdCBqc29uRGF0YSA9IEpTT04ucGFyc2UoanNvbkNvbnRlbnQpXG5cbiAgICAvLyBDYXJyZWdhciBjb250YXNcbiAgICBjb25zdCBhY2NvdW50c0ZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAnYWNjb3VudHMtZGF0YS5qc29uJylcbiAgICBsZXQgYWNjb3VudHM6IGFueVtdID0gW11cbiAgICBpZiAoZXhpc3RzU3luYyhhY2NvdW50c0ZpbGVQYXRoKSkge1xuICAgICAgY29uc3QgYWNjb3VudHNDb250ZW50ID0gYXdhaXQgcmVhZEZpbGUoYWNjb3VudHNGaWxlUGF0aCwgJ3V0Zi04JylcbiAgICAgIGNvbnN0IGFjY291bnRzRGF0YSA9IEpTT04ucGFyc2UoYWNjb3VudHNDb250ZW50KVxuICAgICAgYWNjb3VudHMgPSBhY2NvdW50c0RhdGEuYWNjb3VudHMgfHwgW11cbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0ZXIgZSBhc3NvY2lhciBJRHNcbiAgICByZXR1cm4ganNvbkRhdGEubWFwKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGxldCBtYXRjaGluZ0FjY291bnQgPSBudWxsXG4gICAgICBjb25zdCBwcm9maWxlRW1haWwgPSAoaXRlbS5lbWFpbCB8fCAnJykudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgIGNvbnN0IHByb2ZpbGVOYW1lID0gKGl0ZW0uZGlzcGxheU5hbWUgfHwgaXRlbS5uYW1lIHx8IGl0ZW0udXNlcm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICBcbiAgICAgIC8vIEJ1c2NhciBjb250YSBjb3JyZXNwb25kZW50ZVxuICAgICAgaWYgKHByb2ZpbGVFbWFpbCAmJiBhY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1hdGNoaW5nQWNjb3VudCA9IGFjY291bnRzLmZpbmQoYWNjID0+IHtcbiAgICAgICAgICBjb25zdCBhY2NFbWFpbCA9IChhY2MuZW1haWwgfHwgJycpLnRvTG93ZXJDYXNlKCkudHJpbSgpXG4gICAgICAgICAgcmV0dXJuIGFjY0VtYWlsICYmIGFjY0VtYWlsID09PSBwcm9maWxlRW1haWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFtYXRjaGluZ0FjY291bnQgJiYgcHJvZmlsZU5hbWUgJiYgYWNjb3VudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBtYXRjaGluZ0FjY291bnQgPSBhY2NvdW50cy5maW5kKGFjYyA9PiB7XG4gICAgICAgICAgY29uc3QgYWNjTmFtZSA9IChhY2MubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgICByZXR1cm4gYWNjTmFtZSAmJiBhY2NOYW1lID09PSBwcm9maWxlTmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIW1hdGNoaW5nQWNjb3VudCAmJiBhY2NvdW50cy5sZW5ndGggPiAwICYmIGluZGV4IDwgYWNjb3VudHMubGVuZ3RoKSB7XG4gICAgICAgIG1hdGNoaW5nQWNjb3VudCA9IGFjY291bnRzW2luZGV4XVxuICAgICAgfVxuXG4gICAgICBsZXQgYXZhdGFyVXJsID0gaXRlbS5hdmF0YXIgfHwgJydcbiAgICAgIGlmIChhdmF0YXJVcmwgJiYgYXZhdGFyVXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSkge1xuICAgICAgICBhdmF0YXJVcmwgPSBhdmF0YXJVcmwucmVwbGFjZSgnaHR0cDovLycsICdodHRwczovLycpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVtYWlsOiBpdGVtLmVtYWlsIHx8ICcnLFxuICAgICAgICBkaXNwbGF5TmFtZTogaXRlbS5kaXNwbGF5TmFtZSB8fCBpdGVtLm5hbWUgfHwgaXRlbS51c2VybmFtZSB8fCAnJyxcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJVcmwsXG4gICAgICAgIGZvbGxvd2VyczogaXRlbS5mb2xsb3dlcnMgfHwgJzAnLFxuICAgICAgICBsaWtlczogaXRlbS5saWtlcyB8fCAnMCcsXG4gICAgICAgIHVybDogaXRlbS51cmwgfHwgJycsXG4gICAgICAgIHVzZXJuYW1lOiBpdGVtLnVzZXJuYW1lIHx8ICcnLFxuICAgICAgICBpZDogbWF0Y2hpbmdBY2NvdW50Py5pZCB8fCAnJyxcbiAgICAgIH1cbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBjYXJyZWdhciBwZXJmaXMgZG8gaGlzdMOzcmljbzonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIGVzY2FwYXIgSFRNTFxuZnVuY3Rpb24gZXNjYXBlSHRtbCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXRleHQpIHJldHVybiAnJ1xuICByZXR1cm4gU3RyaW5nKHRleHQpXG4gICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAucmVwbGFjZSgvJy9nLCAnJiMwMzk7Jylcbn1cblxuLy8gRnVuw6fDo28gcGFyYSBlc2NhcGFyIEphdmFTY3JpcHRcbmZ1bmN0aW9uIGVzY2FwZUpzKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghdGV4dCkgcmV0dXJuICcnXG4gIHJldHVybiBTdHJpbmcodGV4dClcbiAgICAucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKVxuICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpXG4gICAgLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxuICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJylcbn1cblxuLy8gRnVuw6fDo28gcGFyYSBnZXJhciBIVE1MIGVzdMOhdGljbyBkbyBjYXTDoWxvZ29cbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlQ2F0YWxvZ0hUTUwoY2F0YWxvZzogYW55LCBwcm9maWxlczogYW55W10sIGxhc3RVcGRhdGVEYXRlOiBzdHJpbmcgfCBudWxsKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgLy8gQWdydXBhciBwZXJmaXNcbiAgY29uc3QgZ3JvdXBzOiB7IFtrZXk6IHN0cmluZ106IGFueVtdIH0gPSB7fVxuICBwcm9maWxlcy5mb3JFYWNoKHByb2ZpbGUgPT4ge1xuICAgIGNvbnN0IGZvbGxvd2Vyc051bSA9IHBhcnNlRm9sbG93ZXJzKHByb2ZpbGUuZm9sbG93ZXJzIHx8ICcwJylcbiAgICBjb25zdCBncm91cE5hbWUgPSBnZXRHcm91cE5hbWUoZm9sbG93ZXJzTnVtKVxuICAgIGlmICghZ3JvdXBzW2dyb3VwTmFtZV0pIHtcbiAgICAgIGdyb3Vwc1tncm91cE5hbWVdID0gW11cbiAgICB9XG4gICAgZ3JvdXBzW2dyb3VwTmFtZV0ucHVzaChwcm9maWxlKVxuICB9KVxuXG4gIC8vIEZpbHRyYXIgZ3J1cG9zIHNlbGVjaW9uYWRvc1xuICBjb25zdCBmaWx0ZXJlZEdyb3VwczogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0ge31cbiAgaWYgKGNhdGFsb2cuc2VsZWN0ZWRHcm91cHMgJiYgY2F0YWxvZy5zZWxlY3RlZEdyb3Vwcy5sZW5ndGggPiAwKSB7XG4gICAgY2F0YWxvZy5zZWxlY3RlZEdyb3Vwcy5mb3JFYWNoKChncm91cE5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKGdyb3Vwc1tncm91cE5hbWVdKSB7XG4gICAgICAgIGZpbHRlcmVkR3JvdXBzW2dyb3VwTmFtZV0gPSBncm91cHNbZ3JvdXBOYW1lXVxuICAgICAgfVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmFzc2lnbihmaWx0ZXJlZEdyb3VwcywgZ3JvdXBzKVxuICB9XG5cbiAgLy8gQ2FsY3VsYXIgdG90YWwgZGUgc2VndWlkb3Jlc1xuICBsZXQgdG90YWxGb2xsb3dlcnMgPSAwXG4gIE9iamVjdC52YWx1ZXMoZmlsdGVyZWRHcm91cHMpLmZvckVhY2goZ3JvdXBQcm9maWxlcyA9PiB7XG4gICAgZ3JvdXBQcm9maWxlcy5mb3JFYWNoKHByb2ZpbGUgPT4ge1xuICAgICAgdG90YWxGb2xsb3dlcnMgKz0gcGFyc2VGb2xsb3dlcnMocHJvZmlsZS5mb2xsb3dlcnMgfHwgJzAnKVxuICAgIH0pXG4gIH0pXG5cbiAgY29uc3QgZm9ybWF0Rm9sbG93ZXJzID0gKG51bTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICBpZiAobnVtID49IDEwMDAwMDApIHJldHVybiBgJHsobnVtIC8gMTAwMDAwMCkudG9GaXhlZCgxKX1NYFxuICAgIGlmIChudW0gPj0gMTAwMCkgcmV0dXJuIGAkeyhudW0gLyAxMDAwKS50b0ZpeGVkKDEpfUtgXG4gICAgcmV0dXJuIG51bS50b1N0cmluZygpXG4gIH1cblxuICAvLyBOw6NvIGjDoSBtYWlzIHRpbWVyIGRlIGV4cGlyYcOnw6NvXG5cbiAgLy8gR2VyYXIgSFRNTFxuICBjb25zdCBncm91cEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhmaWx0ZXJlZEdyb3Vwcykuc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChhWzBdID09PSAnaW5pY2lvJykgcmV0dXJuIC0xXG4gICAgaWYgKGJbMF0gPT09ICdpbmljaW8nKSByZXR1cm4gMVxuICAgIGNvbnN0IG51bUEgPSBwYXJzZUludChhWzBdLnJlcGxhY2UoJ2snLCAnJykpIHx8IDBcbiAgICBjb25zdCBudW1CID0gcGFyc2VJbnQoYlswXS5yZXBsYWNlKCdrJywgJycpKSB8fCAwXG4gICAgcmV0dXJuIG51bUEgLSBudW1CXG4gIH0pXG5cbiAgICBjb25zdCBncm91cHNIVE1MID0gZ3JvdXBFbnRyaWVzLm1hcCgoW2dyb3VwTmFtZSwgZ3JvdXBQcm9maWxlc10pID0+IHtcbiAgICBjb25zdCBncm91cERpc3BsYXlOYW1lID0gZ3JvdXBOYW1lID09PSAnaW5pY2lvJyA/ICc8IDFrJyA6IGdyb3VwTmFtZS50b1VwcGVyQ2FzZSgpXG4gICAgY29uc3QgcHJvZmlsZXNIVE1MID0gZ3JvdXBQcm9maWxlcy5tYXAoKHByb2ZpbGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBkaXNwbGF5TmFtZSA9IGNsZWFuRGlzcGxheU5hbWUocHJvZmlsZS5kaXNwbGF5TmFtZSB8fCBwcm9maWxlLm5hbWUgfHwgcHJvZmlsZS5lbWFpbCB8fCAnTi9BJylcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWROYW1lID0gbm9ybWFsaXplTmFtZUZvckNvcHkoZGlzcGxheU5hbWUpXG4gICAgICBjb25zdCBjb3B5VGV4dCA9IHByb2ZpbGUuaWQgPyBgJHtub3JtYWxpemVkTmFtZX0tJHtwcm9maWxlLmlkfWAgOiAnJ1xuICAgICAgY29uc3Qga3dhaVVybCA9IHByb2ZpbGUudXJsIHx8IChwcm9maWxlLmVtYWlsID8gYGh0dHBzOi8vay5rd2FpLmNvbS91L0Ake3Byb2ZpbGUuZW1haWwuc3BsaXQoJ0AnKVswXX1gIDogJycpXG4gICAgICBcbiAgICAgIC8vIEVzY2FwYXIgdmFsb3JlcyBwYXJhIEhUTUxcbiAgICAgIGNvbnN0IHNhZmVEaXNwbGF5TmFtZSA9IGVzY2FwZUh0bWwoZGlzcGxheU5hbWUpXG4gICAgICBjb25zdCBzYWZlQXZhdGFyID0gZXNjYXBlSHRtbChwcm9maWxlLmF2YXRhciB8fCAnJylcbiAgICAgIGNvbnN0IHNhZmVGb2xsb3dlcnMgPSBlc2NhcGVIdG1sKHByb2ZpbGUuZm9sbG93ZXJzIHx8ICdOL0EnKVxuICAgICAgY29uc3Qgc2FmZUxpa2VzID0gZXNjYXBlSHRtbChwcm9maWxlLmxpa2VzIHx8ICdOL0EnKVxuICAgICAgY29uc3Qgc2FmZUlkID0gZXNjYXBlSHRtbChwcm9maWxlLmlkIHx8ICcnKVxuICAgICAgY29uc3Qgc2FmZUNvcHlUZXh0ID0gZXNjYXBlSnMoY29weVRleHQpXG4gICAgICBjb25zdCBzYWZlS3dhaVVybCA9IGVzY2FwZUh0bWwoa3dhaVVybClcbiAgICAgIGNvbnN0IGZpcnN0TGV0dGVyID0gc2FmZURpc3BsYXlOYW1lWzBdPy50b1VwcGVyQ2FzZSgpIHx8ICc/J1xuXG4gICAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwiYmctd2hpdGUgcm91bmRlZC0yeGwgcC01IGJvcmRlciBib3JkZXItZ3JheS0yMDAgaG92ZXI6Ym9yZGVyLXB1cnBsZS0zMDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICAgICAgICAke3Byb2ZpbGUuYXZhdGFyID8gYFxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtzYWZlQXZhdGFyfVwiIGFsdD1cIiR7c2FmZURpc3BsYXlOYW1lfVwiIGNsYXNzPVwidy0xNiBoLTE2IHJvdW5kZWQtMnhsIGJvcmRlci1bM3B4XSBib3JkZXItcHVycGxlLTQwMCBvYmplY3QtY292ZXIgZmxleC1zaHJpbmstMCBzaGFkb3ctbGdcIiBvbmVycm9yPVwidGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJ1wiPlxuICAgICAgICAgICAgICBgIDogYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTE2IGgtMTYgcm91bmRlZC0yeGwgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtNDAwIHRvLXBpbmstNDAwIGJvcmRlci1bM3B4XSBib3JkZXItcHVycGxlLTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LTJ4bCB0ZXh0LXdoaXRlIGZvbnQtYm9sZFwiPiR7Zmlyc3RMZXR0ZXJ9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIG1pbi13LTAgcHQtMVwiPlxuICAgICAgICAgICAgICAgICR7cHJvZmlsZS5pZCA/IGBcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmxpbmUtYmxvY2sgcHgtMiBweS0xIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtMTAwIHRvLXBpbmstMTAwIHJvdW5kZWQtbGcgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQteHMgdGV4dC1wdXJwbGUtNzAwIGZvbnQtYm9sZFwiPklEOiAke3NhZmVJZH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBgIDogJyd9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIHRydW5jYXRlIHRleHQtYmFzZVwiPiR7c2FmZURpc3BsYXlOYW1lfTwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTMgcHQtMiBib3JkZXItdCBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1sZyBiZy1ibHVlLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtXCI+8J+RpTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlNlZ3VpZG9yZXM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwXCI+JHtzYWZlRm9sbG93ZXJzfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInctOCBoLTggcm91bmRlZC1sZyBiZy1waW5rLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtXCI+4p2k77iPPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+Q3VydGlkYXM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwXCI+JHtzYWZlTGlrZXN9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAke2NvcHlUZXh0ID8gYFxuICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9XCJjb3B5VG9DbGlwYm9hcmQoJyR7c2FmZUNvcHlUZXh0fScpXCIgY2xhc3M9XCJ3LWZ1bGwgbXQtMiBweC00IHB5LTIgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MCB0by1waW5rLTUwIHRleHQtcHVycGxlLTcwMCBob3Zlcjpmcm9tLXB1cnBsZS0xMDAgaG92ZXI6dG8tcGluay0xMDAgcm91bmRlZC1sZyBmb250LW1lZGl1bSB0ZXh0LXNtIHRyYW5zaXRpb24tYWxsIGJvcmRlciBib3JkZXItcHVycGxlLTIwMFwiPlxuICAgICAgICAgICAgICAgIENvcGlhciBJRFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgICAgICR7a3dhaVVybCA/IGBcbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7c2FmZUt3YWlVcmx9XCIgdGFyZ2V0PVwiX2JsYW5rXCIgY2xhc3M9XCJ3LWZ1bGwgbXQtMiBibG9jayBweC00IHB5LTIgYmctZ3JhZGllbnQtdG8tciBmcm9tLXNreS01MCB0by1ibHVlLTUwIHRleHQtYmx1ZS03MDAgaG92ZXI6ZnJvbS1za3ktMTAwIGhvdmVyOnRvLWJsdWUtMTAwIHJvdW5kZWQtbGcgZm9udC1tZWRpdW0gdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgVmVyIFBlcmZpbFxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICBgIDogJyd9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuICAgIH0pLmpvaW4oJycpXG5cbiAgICByZXR1cm4gYFxuICAgICAgPGRpdiBjbGFzcz1cIm1iLThcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS04MDAgbWItNFwiPiR7Z3JvdXBEaXNwbGF5TmFtZX0gKCR7Z3JvdXBQcm9maWxlcy5sZW5ndGh9IGNvbnRhcyk8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyB4bDpncmlkLWNvbHMtNCBnYXAtNlwiPlxuICAgICAgICAgICR7cHJvZmlsZXNIVE1MfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGBcbiAgfSkuam9pbignJylcblxuICByZXR1cm4gYDwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cInB0LUJSXCI+XG48aGVhZD5cbiAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCI+XG4gIDx0aXRsZT4ke2VzY2FwZUh0bWwoY2F0YWxvZy5uYW1lKX0gLSBDYXTDoWxvZ28gS3dhaTwvdGl0bGU+XG4gIDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly9jZG4udGFpbHdpbmRjc3MuY29tXCI+PC9zY3JpcHQ+XG4gIDxzdHlsZT5cbiAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7XG4gICAgICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpOyB9XG4gICAgICB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfVxuICAgIH1cbiAgICAuYW5pbWF0ZS1mYWRlLWluIHtcbiAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1vdXQ7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9oZWFkPlxuPGJvZHkgY2xhc3M9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtNTAgdmlhLXBpbmstNTAgdG8tYmx1ZS01MFwiPlxuICA8ZGl2IGNsYXNzPVwiYmctd2hpdGUvODAgYmFja2Ryb3AtYmx1ci1sZyBzaGFkb3ctbGcgYm9yZGVyLWIgYm9yZGVyLXB1cnBsZS0xMDAgc3RpY2t5IHRvcC0wIHotMTBcIj5cbiAgICA8ZGl2IGNsYXNzPVwibWF4LXctN3hsIG14LWF1dG8gcHgtNiBweS01XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGZsZXgtd3JhcCBnYXAtNFwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxoMSBjbGFzcz1cInRleHQtM3hsIGZvbnQtYm9sZCBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTYwMCB0by1waW5rLTYwMCBiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCBtYi0xXCI+XG4gICAgICAgICAgICAke2VzY2FwZUh0bWwoY2F0YWxvZy5uYW1lKX1cbiAgICAgICAgICA8L2gxPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGZvbnQtbWVkaXVtXCI+TsO6bWVybzogPHNwYW4gY2xhc3M9XCJ0ZXh0LXB1cnBsZS02MDAgZm9udC1ib2xkXCI+JHtlc2NhcGVIdG1sKGNhdGFsb2cubnVtYmVyKX08L3NwYW4+PC9wPlxuICAgICAgICAgICR7Y2F0YWxvZy5zZWxlY3RlZEdyb3VwcyAmJiBjYXRhbG9nLnNlbGVjdGVkR3JvdXBzLmxlbmd0aCA+IDAgPyBgXG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBmb250LW1lZGl1bSBtdC0xXCI+XG4gICAgICAgICAgICAgIFNlZ3VpZG9yZXM6IDxzcGFuIGNsYXNzPVwidGV4dC1wdXJwbGUtNjAwIGZvbnQtYm9sZFwiPiR7Zm9ybWF0Rm9sbG93ZXJzKHRvdGFsRm9sbG93ZXJzKX08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1ncmF5LTUwMCBtbC0yXCI+KCR7Y2F0YWxvZy5zZWxlY3RlZEdyb3Vwcy5qb2luKCcsICcpfSk8L3NwYW4+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgYCA6ICcnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgJHtsYXN0VXBkYXRlRGF0ZSA/IGBcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tY3lhbi01MDAgcm91bmRlZC14bCBweC02IHB5LTMgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LXdoaXRlLzkwIGZvbnQtbWVkaXVtIHVwcGVyY2FzZSB0cmFja2luZy13aWRlIG1iLTFcIj7Dmmx0aW1hIEF0dWFsaXphw6fDo288L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICR7ZXNjYXBlSHRtbChsYXN0VXBkYXRlRGF0ZSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYCA6ICcnfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJtYXgtdy03eGwgbXgtYXV0byBweC02IHB5LThcIj5cbiAgICAke2dyb3Vwc0hUTUx9XG4gIDwvZGl2PlxuXG4gIDxzY3JpcHQ+XG4gICAgZnVuY3Rpb24gY29weVRvQ2xpcGJvYXJkKHRleHQpIHtcbiAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBhbGVydCgnSUQgY29waWFkbzogJyArIHRleHQpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJybyBhbyBjb3BpYXI6JywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICA8L3NjcmlwdD5cbjwvYm9keT5cbjwvaHRtbD5gXG59XG5cbi8vIEdFVCDDqSBww7pibGljbyAodXNhZG8gcGVsYSBww6FnaW5hIGRlIGNhdMOhbG9nbyBww7pibGljYSlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgLy8gU2UgbyBhcnF1aXZvIG7Do28gZXhpc3RlLCByZXRvcm5hciBhcnJheSB2YXppbyAobsOjbyDDqSBlcnJvKVxuICAgIGlmICghZXhpc3RzU3luYyhjb25maWdGaWxlUGF0aCkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNhdGFsb2dzOiBbXSB9KVxuICAgIH1cblxuICAgIGxldCBjb250ZW50OiBzdHJpbmdcbiAgICB0cnkge1xuICAgICAgY29udGVudCA9IGF3YWl0IHJlYWRGaWxlKGNvbmZpZ0ZpbGVQYXRoLCAndXRmLTgnKVxuICAgIH0gY2F0Y2ggKHJlYWRFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGxlciBhcnF1aXZvIGRlIGNvbmZpZ3VyYcOnw6NvOicsIHJlYWRFcnJvcilcbiAgICAgIC8vIFNlIG7Do28gY29uc2VndWlyIGxlciwgcmV0b3JuYXIgYXJyYXkgdmF6aW9cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNhdGFsb2dzOiBbXSB9KVxuICAgIH1cblxuICAgIGxldCBkYXRhOiBhbnlcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudClcbiAgICB9IGNhdGNoIChwYXJzZUVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gcGFyc2VhciBKU09OIGRlIGNvbmZpZ3VyYcOnw6NvOicsIHBhcnNlRXJyb3IpXG4gICAgICAvLyBTZSBvIEpTT04gZXN0aXZlciBjb3Jyb21waWRvLCByZXRvcm5hciBhcnJheSB2YXppb1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY2F0YWxvZ3M6IFtdIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIFJldG9ybmFyIHRvZG9zIG9zIGNhdMOhbG9nb3MgYXRpdm9zIChzZW0gZmlsdHJvIGRlIGV4cGlyYcOnw6NvKVxuICAgIGNvbnN0IGFjdGl2ZUNhdGFsb2dzID0gKGRhdGEuY2F0YWxvZ3MgfHwgW10pLmZpbHRlcigoY2F0OiBhbnkpID0+IHtcbiAgICAgIHJldHVybiBjYXQuYWN0aXZlICE9PSBmYWxzZVxuICAgIH0pXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY2F0YWxvZ3M6IGFjdGl2ZUNhdGFsb2dzIH0pXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNhcnJlZ2FyIGNvbmZpZ3VyYcOnw7VlczonLCBlcnJvcilcbiAgICAvLyBFbSBjYXNvIGRlIGVycm8sIHJldG9ybmFyIGFycmF5IHZhemlvIGFvIGludsOpcyBkZSBlcnJvIDUwMFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNhdGFsb2dzOiBbXSB9KVxuICB9XG59XG5cbi8vIFBPU1QgcmVxdWVyIGF1dGVudGljYcOnw6NvIChhcGVuYXMgYWRtaW4gcG9kZSBjcmlhciBjYXTDoWxvZ29zKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgYXV0aCA9IHZlcmlmeUF1dGgocmVxdWVzdClcbiAgaWYgKCFhdXRoLmF1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gYXV0aC5yZXNwb25zZSB8fCBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTsOjbyBhdXRlbnRpY2FkbycgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IG5hbWUsIHNlbGVjdGVkR3JvdXBzIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuXG4gICAgaWYgKCFzZWxlY3RlZEdyb3VwcyB8fCBzZWxlY3RlZEdyb3Vwcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1NlbGVjaW9uZSBwZWxvIG1lbm9zIHVtIGdydXBvIGRlIHNlZ3VpZG9yZXMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIGNvbnN0IGNhdGFsb2dOYW1lID0gbmFtZSB8fCAnQ29udGFzIGRvIEt3YWknXG5cbiAgICAvLyBHZXJhciBsaW5rIGFsZWF0w7NyaW9cbiAgICBjb25zdCByYW5kb21MaW5rID0gY3J5cHRvLnJhbmRvbUJ5dGVzKDE2KS50b1N0cmluZygnaGV4JylcbiAgICBcbiAgICAvLyBDYXJyZWdhciBjYXTDoWxvZ29zIGV4aXN0ZW50ZXMgcGFyYSB2ZXJpZmljYXIgbsO6bWVyb3NcbiAgICBsZXQgY2F0YWxvZ3MgPSBbXVxuICAgIGlmIChleGlzdHNTeW5jKGNvbmZpZ0ZpbGVQYXRoKSkge1xuICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHJlYWRGaWxlKGNvbmZpZ0ZpbGVQYXRoLCAndXRmLTgnKVxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudClcbiAgICAgIGNhdGFsb2dzID0gZGF0YS5jYXRhbG9ncyB8fCBbXVxuICAgIH1cblxuICAgIC8vIEdlcmFyIG7Dum1lcm8gYWxlYXTDs3JpbyDDum5pY28gcXVlIG51bmNhIHNlIHJlcGV0ZVxuICAgIGxldCByYW5kb21OdW1iZXI6IHN0cmluZ1xuICAgIGxldCBpc1VuaXF1ZSA9IGZhbHNlXG4gICAgXG4gICAgd2hpbGUgKCFpc1VuaXF1ZSkge1xuICAgICAgLy8gR2VyYXIgbsO6bWVybyBhbGVhdMOzcmlvIGRlIDYgZMOtZ2l0b3NcbiAgICAgIHJhbmRvbU51bWJlciA9IE1hdGguZmxvb3IoMTAwMDAwICsgTWF0aC5yYW5kb20oKSAqIDkwMDAwMCkudG9TdHJpbmcoKVxuICAgICAgXG4gICAgICAvLyBWZXJpZmljYXIgc2UgasOhIGV4aXN0ZSAodmVyaWZpY2FyIHRvZG9zIG9zIGNhdMOhbG9nb3MpXG4gICAgICBpc1VuaXF1ZSA9ICFjYXRhbG9ncy5zb21lKChjYXQ6IGFueSkgPT4gY2F0Lm51bWJlciA9PT0gcmFuZG9tTnVtYmVyKVxuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygnW0NBVEFMT0ddIENyaWFuZG8gY2F0w6Fsb2dvOicsIHtcbiAgICAgIGxpbms6IHJhbmRvbUxpbmssXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pXG5cbiAgICBjb25zdCBjYXRhbG9nID0ge1xuICAgICAgbGluazogcmFuZG9tTGluayxcbiAgICAgIG51bWJlcjogcmFuZG9tTnVtYmVyISxcbiAgICAgIG5hbWU6IGNhdGFsb2dOYW1lLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgICBzZWxlY3RlZEdyb3Vwczogc2VsZWN0ZWRHcm91cHMgfHwgW10gLy8gR3J1cG9zIHNlbGVjaW9uYWRvc1xuICAgIH1cblxuICAgIC8vIEFkaWNpb25hciBub3ZvIGNhdMOhbG9nb1xuICAgIGNhdGFsb2dzLnB1c2goY2F0YWxvZylcblxuICAgIGNvbnN0IGNvbmZpZ0RpciA9IHBhdGguZGlybmFtZShjb25maWdGaWxlUGF0aClcbiAgICBpZiAoIWV4aXN0c1N5bmMoY29uZmlnRGlyKSkge1xuICAgICAgYXdhaXQgbWtkaXIoY29uZmlnRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxuICAgIH1cblxuICAgIGF3YWl0IHdyaXRlRmlsZShjb25maWdGaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkoeyBjYXRhbG9ncyB9LCBudWxsLCAyKSwgJ3V0Zi04JylcblxuICAgIC8vIEdlcmFyIGUgc2FsdmFyIEhUTUwgZXN0w6F0aWNvIGRvIGNhdMOhbG9nb1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnW0NBVEFMT0ddIENhcnJlZ2FuZG8gcGVyZmlzIHBhcmEgZ2VyYXIgSFRNTC4uLicpXG4gICAgICBjb25zdCBwcm9maWxlcyA9IGF3YWl0IGxvYWRQcm9maWxlc0Zyb21IaXN0b3J5KClcbiAgICAgIGNvbnN0IGxhc3RVcGRhdGVEYXRlID0gYXdhaXQgZ2V0TGFzdEhpc3RvcnlEYXRlKClcbiAgICAgIGNvbnNvbGUubG9nKGBbQ0FUQUxPR10gJHtwcm9maWxlcy5sZW5ndGh9IHBlcmZpcyBjYXJyZWdhZG9zYClcbiAgICAgIGNvbnNvbGUubG9nKGBbQ0FUQUxPR10gw5psdGltYSBhdHVhbGl6YcOnw6NvOiAke2xhc3RVcGRhdGVEYXRlIHx8ICdOL0EnfWApXG4gICAgICBcbiAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gYXdhaXQgZ2VuZXJhdGVDYXRhbG9nSFRNTChjYXRhbG9nLCBwcm9maWxlcywgbGFzdFVwZGF0ZURhdGUpXG4gICAgICBcbiAgICAgIC8vIENyaWFyIGRpcmV0w7NyaW8gZGUgY2F0w6Fsb2dvcyBzZSBuw6NvIGV4aXN0aXJcbiAgICAgIGlmICghZXhpc3RzU3luYyhjYXRhbG9nc0RpcikpIHtcbiAgICAgICAgYXdhaXQgbWtkaXIoY2F0YWxvZ3NEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNhbHZhciBhcnF1aXZvIEhUTUxcbiAgICAgIGNvbnN0IGh0bWxGaWxlUGF0aCA9IHBhdGguam9pbihjYXRhbG9nc0RpciwgYCR7Y2F0YWxvZy5saW5rfS5odG1sYClcbiAgICAgIGF3YWl0IHdyaXRlRmlsZShodG1sRmlsZVBhdGgsIGh0bWxDb250ZW50LCAndXRmLTgnKVxuICAgICAgY29uc29sZS5sb2coYFtDQVRBTE9HXSBIVE1MIGdlcmFkbyBlIHNhbHZvIGVtOiAke2h0bWxGaWxlUGF0aH1gKVxuICAgIH0gY2F0Y2ggKGh0bWxFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQ0FUQUxPR10gRXJybyBhbyBnZXJhciBIVE1MOicsIGh0bWxFcnJvcilcbiAgICAgIC8vIENvbnRpbnVhciBtZXNtbyBzZSBmYWxoYXIgLSBvIGNhdMOhbG9nbyBhaW5kYSDDqSBjcmlhZG9cbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgbWVzc2FnZTogJ0NhdMOhbG9nbyBjcmlhZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgY2F0YWxvZyxcbiAgICAgIGh0bWxVcmw6IGAvY2F0YWxvZ3MvJHtjYXRhbG9nLmxpbmt9Lmh0bWxgXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gc2FsdmFyIGNvbmZpZ3VyYcOnw6NvOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGBFcnJvIGFvIHNhbHZhciBjb25maWd1cmHDp8OjbzogJHtlcnJvci5tZXNzYWdlfWAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBERUxFVEUgcmVxdWVyIGF1dGVudGljYcOnw6NvIChhcGVuYXMgYWRtaW4gcG9kZSBkZWxldGFyIGNhdMOhbG9nb3MpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IGF1dGggPSB2ZXJpZnlBdXRoKHJlcXVlc3QpXG4gIGlmICghYXV0aC5hdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIGF1dGgucmVzcG9uc2UgfHwgTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ07Do28gYXV0ZW50aWNhZG8nIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBsaW5rIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuXG4gICAgaWYgKCFsaW5rKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdMaW5rIMOpIG9icmlnYXTDs3JpbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgbGV0IGNhdGFsb2dzID0gW11cbiAgICBpZiAoZXhpc3RzU3luYyhjb25maWdGaWxlUGF0aCkpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCByZWFkRmlsZShjb25maWdGaWxlUGF0aCwgJ3V0Zi04JylcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpXG4gICAgICBjYXRhbG9ncyA9IGRhdGEuY2F0YWxvZ3MgfHwgW11cbiAgICB9XG5cbiAgICBjb25zdCBvcmlnaW5hbExlbmd0aCA9IGNhdGFsb2dzLmxlbmd0aFxuICAgIGNhdGFsb2dzID0gY2F0YWxvZ3MuZmlsdGVyKChjYXQ6IGFueSkgPT4gY2F0LmxpbmsgIT09IGxpbmspXG4gICAgXG4gICAgLy8gVmVyaWZpY2FyIHNlIHJlYWxtZW50ZSByZW1vdmV1IGFsZ29cbiAgICBpZiAoY2F0YWxvZ3MubGVuZ3RoID09PSBvcmlnaW5hbExlbmd0aCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQ2F0w6Fsb2dvIG7Do28gZW5jb250cmFkbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlciBhcnF1aXZvIEhUTUwgZG8gY2F0w6Fsb2dvXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGh0bWxGaWxlUGF0aCA9IHBhdGguam9pbihjYXRhbG9nc0RpciwgYCR7bGlua30uaHRtbGApXG4gICAgICBpZiAoZXhpc3RzU3luYyhodG1sRmlsZVBhdGgpKSB7XG4gICAgICAgIGF3YWl0IHVubGluayhodG1sRmlsZVBhdGgpXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQ0FUQUxPR10gSFRNTCByZW1vdmlkbzogJHtodG1sRmlsZVBhdGh9YClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChodG1sRXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKCdbQ0FUQUxPR10gQXZpc286IE7Do28gZm9pIHBvc3PDrXZlbCByZW1vdmVyIEhUTUw6JywgaHRtbEVycm9yLm1lc3NhZ2UpXG4gICAgICAvLyBDb250aW51YXIgbWVzbW8gc2UgZmFsaGFyIC0gbyBjYXTDoWxvZ28gYWluZGEgw6kgcmVtb3ZpZG9cbiAgICB9XG5cbiAgICBjb25zdCBjb25maWdEaXIgPSBwYXRoLmRpcm5hbWUoY29uZmlnRmlsZVBhdGgpXG4gICAgaWYgKCFleGlzdHNTeW5jKGNvbmZpZ0RpcikpIHtcbiAgICAgIGF3YWl0IG1rZGlyKGNvbmZpZ0RpciwgeyByZWN1cnNpdmU6IHRydWUgfSlcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgd3JpdGVGaWxlKGNvbmZpZ0ZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeSh7IGNhdGFsb2dzIH0sIG51bGwsIDIpLCAndXRmLTgnKVxuICAgIH0gY2F0Y2ggKHdyaXRlRXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKCdBdmlzbzogTsOjbyBmb2kgcG9zc8OtdmVsIHNhbHZhciBubyBzaXN0ZW1hIGRlIGFycXVpdm9zOicsIHdyaXRlRXJyb3IubWVzc2FnZSlcbiAgICAgIC8vIENvbnRpbnVhciBtZXNtbyBhc3NpbSAtIG5vIFZlcmNlbCBwb2RlIHNlciB0ZW1wb3LDoXJpb1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICBtZXNzYWdlOiAnQ2F0w6Fsb2dvIHJlbW92aWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIGNhdGFsb2dzOiBjYXRhbG9ncy5sZW5ndGhcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyByZW1vdmVyIGNhdMOhbG9nbzonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBgRXJybyBhbyByZW1vdmVyIGNhdMOhbG9nbzogJHtlcnJvci5tZXNzYWdlfWAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicmVhZEZpbGUiLCJ3cml0ZUZpbGUiLCJta2RpciIsInJlYWRkaXIiLCJ1bmxpbmsiLCJleGlzdHNTeW5jIiwicGF0aCIsImNyeXB0byIsInZlcmlmeUF1dGgiLCJjb25maWdGaWxlUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiY2F0YWxvZ3NEaXIiLCJwYXJzZUZvbGxvd2VycyIsImZvbGxvd2Vyc1N0ciIsImNsZWFuZWQiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIm51bSIsInBhcnNlRmxvYXQiLCJNYXRoIiwiZmxvb3IiLCJwYXJzZUludCIsImdldEdyb3VwTmFtZSIsImZvbGxvd2VycyIsImdyb3VwSyIsImNsZWFuRGlzcGxheU5hbWUiLCJuYW1lIiwidHJpbSIsIm5vcm1hbGl6ZU5hbWVGb3JDb3B5Iiwibm9ybWFsaXplIiwiZ2V0TGFzdEhpc3RvcnlEYXRlIiwiaGlzdG9yeURpciIsImZpbGVzIiwianNvbkZpbGVzIiwiZmlsdGVyIiwiZmlsZSIsInN0YXJ0c1dpdGgiLCJlbmRzV2l0aCIsInNvcnQiLCJyZXZlcnNlIiwibGVuZ3RoIiwibGF0ZXN0SnNvbkZpbGUiLCJkYXRlTWF0Y2giLCJtYXRjaCIsInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2FkUHJvZmlsZXNGcm9tSGlzdG9yeSIsImpzb25GaWxlUGF0aCIsImpzb25Db250ZW50IiwianNvbkRhdGEiLCJKU09OIiwicGFyc2UiLCJhY2NvdW50c0ZpbGVQYXRoIiwiYWNjb3VudHMiLCJhY2NvdW50c0NvbnRlbnQiLCJhY2NvdW50c0RhdGEiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJtYXRjaGluZ0FjY291bnQiLCJwcm9maWxlRW1haWwiLCJlbWFpbCIsInByb2ZpbGVOYW1lIiwiZGlzcGxheU5hbWUiLCJ1c2VybmFtZSIsImZpbmQiLCJhY2MiLCJhY2NFbWFpbCIsImFjY05hbWUiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJsaWtlcyIsInVybCIsImlkIiwiZXNjYXBlSHRtbCIsInRleHQiLCJTdHJpbmciLCJlc2NhcGVKcyIsImdlbmVyYXRlQ2F0YWxvZ0hUTUwiLCJjYXRhbG9nIiwicHJvZmlsZXMiLCJsYXN0VXBkYXRlRGF0ZSIsImdyb3VwcyIsImZvckVhY2giLCJwcm9maWxlIiwiZm9sbG93ZXJzTnVtIiwiZ3JvdXBOYW1lIiwicHVzaCIsImZpbHRlcmVkR3JvdXBzIiwic2VsZWN0ZWRHcm91cHMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0b3RhbEZvbGxvd2VycyIsInZhbHVlcyIsImdyb3VwUHJvZmlsZXMiLCJmb3JtYXRGb2xsb3dlcnMiLCJ0b0ZpeGVkIiwidG9TdHJpbmciLCJncm91cEVudHJpZXMiLCJlbnRyaWVzIiwiYSIsImIiLCJudW1BIiwibnVtQiIsImdyb3Vwc0hUTUwiLCJncm91cERpc3BsYXlOYW1lIiwidG9VcHBlckNhc2UiLCJwcm9maWxlc0hUTUwiLCJub3JtYWxpemVkTmFtZSIsImNvcHlUZXh0Iiwia3dhaVVybCIsInNwbGl0Iiwic2FmZURpc3BsYXlOYW1lIiwic2FmZUF2YXRhciIsInNhZmVGb2xsb3dlcnMiLCJzYWZlTGlrZXMiLCJzYWZlSWQiLCJzYWZlQ29weVRleHQiLCJzYWZlS3dhaVVybCIsImZpcnN0TGV0dGVyIiwibnVtYmVyIiwiR0VUIiwianNvbiIsImNhdGFsb2dzIiwiY29udGVudCIsInJlYWRFcnJvciIsImRhdGEiLCJwYXJzZUVycm9yIiwiYWN0aXZlQ2F0YWxvZ3MiLCJjYXQiLCJhY3RpdmUiLCJQT1NUIiwicmVxdWVzdCIsImF1dGgiLCJhdXRoZW50aWNhdGVkIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJjYXRhbG9nTmFtZSIsInJhbmRvbUxpbmsiLCJyYW5kb21CeXRlcyIsInJhbmRvbU51bWJlciIsImlzVW5pcXVlIiwicmFuZG9tIiwic29tZSIsImxvZyIsImxpbmsiLCJjcmVhdGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjb25maWdEaXIiLCJkaXJuYW1lIiwicmVjdXJzaXZlIiwic3RyaW5naWZ5IiwiaHRtbENvbnRlbnQiLCJodG1sRmlsZVBhdGgiLCJodG1sRXJyb3IiLCJzdWNjZXNzIiwibWVzc2FnZSIsImh0bWxVcmwiLCJERUxFVEUiLCJvcmlnaW5hbExlbmd0aCIsIndhcm4iLCJ3cml0ZUVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/catalog-config/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   verifyAuth: () => (/* binding */ verifyAuth)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nfunction verifyAuth(request) {\n    try {\n        const authToken = request.cookies.get(\"auth-token\");\n        if (authToken && authToken.value === \"authenticated\") {\n            return {\n                authenticated: true\n            };\n        }\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"N\\xe3o autenticado\"\n            }, {\n                status: 401\n            })\n        };\n    } catch (error) {\n        console.error(\"Erro ao verificar autentica\\xe7\\xe3o:\", error);\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Erro ao verificar autentica\\xe7\\xe3o\"\n            }, {\n                status: 500\n            })\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RDtBQUVoRCxTQUFTQyxXQUFXQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsWUFBWUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFFdEMsSUFBSUYsYUFBYUEsVUFBVUcsS0FBSyxLQUFLLGlCQUFpQjtZQUNwRCxPQUFPO2dCQUFFQyxlQUFlO1lBQUs7UUFDL0I7UUFFQSxPQUFPO1lBQ0xBLGVBQWU7WUFDZkMsVUFBVVIscURBQVlBLENBQUNTLElBQUksQ0FDekI7Z0JBQUVDLE9BQU87WUFBa0IsR0FDM0I7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtJQUNGLEVBQUUsT0FBT0QsT0FBWTtRQUNuQkUsUUFBUUYsS0FBSyxDQUFDLHlDQUFtQ0E7UUFDakQsT0FBTztZQUNMSCxlQUFlO1lBQ2ZDLFVBQVVSLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3pCO2dCQUFFQyxPQUFPO1lBQWlDLEdBQzFDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3dhaS1wcm9maWxlLWFuYWx5emVyLy4vbGliL2F1dGgudHM/YmY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlBdXRoKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogeyBhdXRoZW50aWNhdGVkOiBib29sZWFuOyByZXNwb25zZT86IE5leHRSZXNwb25zZSB9IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhdXRoVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhdXRoLXRva2VuJylcbiAgICBcbiAgICBpZiAoYXV0aFRva2VuICYmIGF1dGhUb2tlbi52YWx1ZSA9PT0gJ2F1dGhlbnRpY2F0ZWQnKSB7XG4gICAgICByZXR1cm4geyBhdXRoZW50aWNhdGVkOiB0cnVlIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTsOjbyBhdXRlbnRpY2FkbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyB2ZXJpZmljYXIgYXV0ZW50aWNhw6fDo286JywgZXJyb3IpXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRXJybyBhbyB2ZXJpZmljYXIgYXV0ZW50aWNhw6fDo28nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZlcmlmeUF1dGgiLCJyZXF1ZXN0IiwiYXV0aFRva2VuIiwiY29va2llcyIsImdldCIsInZhbHVlIiwiYXV0aGVudGljYXRlZCIsInJlc3BvbnNlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();