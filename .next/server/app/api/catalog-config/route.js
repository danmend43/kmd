"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/catalog-config/route";
exports.ids = ["app/api/catalog-config/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_danie_Desktop_kwai_app_api_catalog_config_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/catalog-config/route.ts */ \"(rsc)/./app/api/catalog-config/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/catalog-config/route\",\n        pathname: \"/api/catalog-config\",\n        filename: \"route\",\n        bundlePath: \"app/api/catalog-config/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\danie\\\\Desktop\\\\kwai\\\\app\\\\api\\\\catalog-config\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_danie_Desktop_kwai_app_api_catalog_config_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/catalog-config/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjYXRhbG9nLWNvbmZpZyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY2F0YWxvZy1jb25maWclMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjYXRhbG9nLWNvbmZpZyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQjtBQUNoRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2t3YWktcHJvZmlsZS1hbmFseXplci8/MDI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxkYW5pZVxcXFxEZXNrdG9wXFxcXGt3YWlcXFxcYXBwXFxcXGFwaVxcXFxjYXRhbG9nLWNvbmZpZ1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY2F0YWxvZy1jb25maWcvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jYXRhbG9nLWNvbmZpZ1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY2F0YWxvZy1jb25maWcvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxkYW5pZVxcXFxEZXNrdG9wXFxcXGt3YWlcXFxcYXBwXFxcXGFwaVxcXFxjYXRhbG9nLWNvbmZpZ1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY2F0YWxvZy1jb25maWcvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/catalog-config/route.ts":
/*!*****************************************!*\
  !*** ./app/api/catalog-config/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n\n\n\nconst configFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"catalog-config.json\");\nconst catalogsDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"catalogs\");\n// Fun√ß√£o auxiliar para parsear seguidores\nfunction parseFollowers(followersStr) {\n    if (!followersStr || followersStr === \"N/A\" || followersStr === \"0\") return 0;\n    const cleaned = followersStr.replace(/[^\\d.,KkMmBb]/g, \"\");\n    if (cleaned.toLowerCase().includes(\"k\")) {\n        const num = parseFloat(cleaned.replace(/[kK]/g, \"\").replace(\",\", \".\"));\n        return Math.floor(num * 1000);\n    }\n    if (cleaned.toLowerCase().includes(\"m\")) {\n        const num = parseFloat(cleaned.replace(/[mM]/g, \"\").replace(\",\", \".\"));\n        return Math.floor(num * 1000000);\n    }\n    return parseInt(cleaned.replace(/[^\\d]/g, \"\") || \"0\");\n}\n// Fun√ß√£o auxiliar para obter nome do grupo\nfunction getGroupName(followers) {\n    if (followers < 1000) return \"inicio\";\n    const groupK = Math.floor(followers / 1000);\n    return `${groupK}k`;\n}\n// Fun√ß√£o para limpar nome de exibi√ß√£o\nfunction cleanDisplayName(name) {\n    if (!name) return \"\";\n    return name.replace(/\\s*\\(@[^)]+\\)\\s*on\\s+Kwai\\s*$/i, \"\").trim();\n}\n// Fun√ß√£o para normalizar nome para c√≥pia\nfunction normalizeNameForCopy(name) {\n    if (!name) return \"\";\n    return name.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replace(/[^a-z0-9]/g, \"\").trim();\n}\n// Fun√ß√£o para carregar perfis do hist√≥rico\nasync function loadProfilesFromHistory() {\n    try {\n        const historyDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"history\");\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(historyDir)) {\n            return [];\n        }\n        const files = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readdir)(historyDir);\n        const jsonFiles = files.filter((file)=>file.startsWith(\"historico_\") && file.endsWith(\".json\")).sort().reverse();\n        if (jsonFiles.length === 0) {\n            return [];\n        }\n        const latestJsonFile = jsonFiles[0];\n        const jsonFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(historyDir, latestJsonFile);\n        const jsonContent = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(jsonFilePath, \"utf-8\");\n        const jsonData = JSON.parse(jsonContent);\n        // Carregar contas\n        const accountsFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\", \"accounts-data.json\");\n        let accounts = [];\n        if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(accountsFilePath)) {\n            const accountsContent = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(accountsFilePath, \"utf-8\");\n            const accountsData = JSON.parse(accountsContent);\n            accounts = accountsData.accounts || [];\n        }\n        // Converter e associar IDs\n        return jsonData.map((item, index)=>{\n            let matchingAccount = null;\n            const profileEmail = (item.email || \"\").toLowerCase().trim();\n            const profileName = (item.displayName || item.name || item.username || \"\").toLowerCase().trim();\n            // Buscar conta correspondente\n            if (profileEmail && accounts.length > 0) {\n                matchingAccount = accounts.find((acc)=>{\n                    const accEmail = (acc.email || \"\").toLowerCase().trim();\n                    return accEmail && accEmail === profileEmail;\n                });\n            }\n            if (!matchingAccount && profileName && accounts.length > 0) {\n                matchingAccount = accounts.find((acc)=>{\n                    const accName = (acc.name || \"\").toLowerCase().trim();\n                    return accName && accName === profileName;\n                });\n            }\n            if (!matchingAccount && accounts.length > 0 && index < accounts.length) {\n                matchingAccount = accounts[index];\n            }\n            let avatarUrl = item.avatar || \"\";\n            if (avatarUrl && avatarUrl.startsWith(\"http://\")) {\n                avatarUrl = avatarUrl.replace(\"http://\", \"https://\");\n            }\n            return {\n                email: item.email || \"\",\n                displayName: item.displayName || item.name || item.username || \"\",\n                avatar: avatarUrl,\n                followers: item.followers || \"0\",\n                likes: item.likes || \"0\",\n                url: item.url || \"\",\n                username: item.username || \"\",\n                id: matchingAccount?.id || \"\"\n            };\n        });\n    } catch (error) {\n        console.error(\"Erro ao carregar perfis do hist\\xf3rico:\", error);\n        return [];\n    }\n}\n// Fun√ß√£o para escapar HTML\nfunction escapeHtml(text) {\n    if (!text) return \"\";\n    return String(text).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n}\n// Fun√ß√£o para escapar JavaScript\nfunction escapeJs(text) {\n    if (!text) return \"\";\n    return String(text).replace(/\\\\/g, \"\\\\\\\\\").replace(/'/g, \"\\\\'\").replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\").replace(/\\r/g, \"\\\\r\");\n}\n// Fun√ß√£o para gerar HTML est√°tico do cat√°logo\nasync function generateCatalogHTML(catalog, profiles) {\n    // Agrupar perfis\n    const groups = {};\n    profiles.forEach((profile)=>{\n        const followersNum = parseFollowers(profile.followers || \"0\");\n        const groupName = getGroupName(followersNum);\n        if (!groups[groupName]) {\n            groups[groupName] = [];\n        }\n        groups[groupName].push(profile);\n    });\n    // Filtrar grupos selecionados\n    const filteredGroups = {};\n    if (catalog.selectedGroups && catalog.selectedGroups.length > 0) {\n        catalog.selectedGroups.forEach((groupName)=>{\n            if (groups[groupName]) {\n                filteredGroups[groupName] = groups[groupName];\n            }\n        });\n    } else {\n        Object.assign(filteredGroups, groups);\n    }\n    // Calcular total de seguidores\n    let totalFollowers = 0;\n    Object.values(filteredGroups).forEach((groupProfiles)=>{\n        groupProfiles.forEach((profile)=>{\n            totalFollowers += parseFollowers(profile.followers || \"0\");\n        });\n    });\n    const formatFollowers = (num)=>{\n        if (num >= 1000000) return `${(num / 1000000).toFixed(1)}M`;\n        if (num >= 1000) return `${(num / 1000).toFixed(1)}K`;\n        return num.toString();\n    };\n    // N√£o calcular tempo restante - p√°ginas HTML n√£o expiram automaticamente\n    // Gerar HTML\n    const groupEntries = Object.entries(filteredGroups).sort((a, b)=>{\n        if (a[0] === \"inicio\") return -1;\n        if (b[0] === \"inicio\") return 1;\n        const numA = parseInt(a[0].replace(\"k\", \"\")) || 0;\n        const numB = parseInt(b[0].replace(\"k\", \"\")) || 0;\n        return numA - numB;\n    });\n    const groupsHTML = groupEntries.map(([groupName, groupProfiles])=>{\n        const groupDisplayName = groupName === \"inicio\" ? \"< 1k\" : groupName.toUpperCase();\n        const profilesHTML = groupProfiles.map((profile, index)=>{\n            const displayName = cleanDisplayName(profile.displayName || profile.name || profile.email || \"N/A\");\n            const normalizedName = normalizeNameForCopy(displayName);\n            const copyText = profile.id ? `${normalizedName}-${profile.id}` : \"\";\n            const kwaiUrl = profile.url || (profile.email ? `https://k.kwai.com/u/@${profile.email.split(\"@\")[0]}` : \"\");\n            // Escapar valores para HTML\n            const safeDisplayName = escapeHtml(displayName);\n            const safeAvatar = escapeHtml(profile.avatar || \"\");\n            const safeFollowers = escapeHtml(profile.followers || \"N/A\");\n            const safeLikes = escapeHtml(profile.likes || \"N/A\");\n            const safeId = escapeHtml(profile.id || \"\");\n            const safeCopyText = escapeJs(copyText);\n            const safeKwaiUrl = escapeHtml(kwaiUrl);\n            const firstLetter = safeDisplayName[0]?.toUpperCase() || \"?\";\n            return `\n        <div class=\"bg-white rounded-2xl p-5 border border-gray-200 hover:border-purple-300 transition-colors\">\n          <div class=\"space-y-3\">\n            <div class=\"flex items-start gap-3\">\n              ${profile.avatar ? `\n                <img src=\"${safeAvatar}\" alt=\"${safeDisplayName}\" class=\"w-16 h-16 rounded-2xl border-[3px] border-purple-400 object-cover flex-shrink-0 shadow-lg\" onerror=\"this.style.display='none'\">\n              ` : `\n                <div class=\"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-400 to-pink-400 border-[3px] border-purple-400 flex items-center justify-center flex-shrink-0 shadow-lg\">\n                  <span class=\"text-2xl text-white font-bold\">${firstLetter}</span>\n                </div>\n              `}\n              <div class=\"flex-1 min-w-0 pt-1\">\n                ${profile.id ? `\n                  <div class=\"inline-block px-2 py-1 bg-gradient-to-r from-purple-100 to-pink-100 rounded-lg mb-2\">\n                    <span class=\"text-xs text-purple-700 font-bold\">ID: ${safeId}</span>\n                  </div>\n                ` : \"\"}\n                <div class=\"font-bold text-gray-800 truncate text-base\">${safeDisplayName}</div>\n              </div>\n            </div>\n            <div class=\"grid grid-cols-2 gap-3 pt-2 border-t border-gray-100\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center\">\n                  <span class=\"text-sm\">üë•</span>\n                </div>\n                <div>\n                  <div class=\"text-xs text-gray-500\">Seguidores</div>\n                  <div class=\"text-sm font-bold text-gray-800\">${safeFollowers}</div>\n                </div>\n              </div>\n              <div class=\"flex items-center gap-2\">\n                <div class=\"w-8 h-8 rounded-lg bg-pink-100 flex items-center justify-center\">\n                  <span class=\"text-sm\">‚ù§Ô∏è</span>\n                </div>\n                <div>\n                  <div class=\"text-xs text-gray-500\">Curtidas</div>\n                  <div class=\"text-sm font-bold text-gray-800\">${safeLikes}</div>\n                </div>\n              </div>\n            </div>\n            ${copyText ? `\n              <button onclick=\"copyToClipboard('${safeCopyText}')\" class=\"w-full mt-2 px-4 py-2 bg-gradient-to-r from-purple-50 to-pink-50 text-purple-700 hover:from-purple-100 hover:to-pink-100 rounded-lg font-medium text-sm transition-all border border-purple-200\">\n                Copiar ID\n              </button>\n            ` : \"\"}\n            ${kwaiUrl ? `\n              <a href=\"${safeKwaiUrl}\" target=\"_blank\" class=\"w-full mt-2 block px-4 py-2 bg-gradient-to-r from-sky-50 to-blue-50 text-blue-700 hover:from-sky-100 hover:to-blue-100 rounded-lg font-medium text-sm transition-all border border-blue-200 text-center\">\n                Ver Perfil\n              </a>\n            ` : \"\"}\n          </div>\n        </div>\n      `;\n        }).join(\"\");\n        return `\n      <div class=\"mb-8\">\n        <h2 class=\"text-2xl font-bold text-gray-800 mb-4\">${groupDisplayName} (${groupProfiles.length} contas)</h2>\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          ${profilesHTML}\n        </div>\n      </div>\n    `;\n    }).join(\"\");\n    return `<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${escapeHtml(catalog.name)} - Cat√°logo Kwai</title>\n  <script src=\"https://cdn.tailwindcss.com\"></script>\n  <style>\n    @keyframes fadeIn {\n      from { opacity: 0; transform: translateY(10px); }\n      to { opacity: 1; transform: translateY(0); }\n    }\n    .animate-fade-in {\n      animation: fadeIn 0.3s ease-out;\n    }\n  </style>\n</head>\n<body class=\"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50\">\n  <div class=\"bg-white/80 backdrop-blur-lg shadow-lg border-b border-purple-100 sticky top-0 z-10\">\n    <div class=\"max-w-7xl mx-auto px-6 py-5\">\n      <div class=\"flex items-center justify-between flex-wrap gap-4\">\n        <div>\n          <h1 class=\"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-1\">\n            ${escapeHtml(catalog.name)}\n          </h1>\n          <p class=\"text-sm text-gray-600 font-medium\">N√∫mero: <span class=\"text-purple-600 font-bold\">${escapeHtml(catalog.number)}</span></p>\n          ${catalog.selectedGroups && catalog.selectedGroups.length > 0 ? `\n            <p class=\"text-sm text-gray-600 font-medium mt-1\">\n              Seguidores: <span class=\"text-purple-600 font-bold\">${formatFollowers(totalFollowers)}</span>\n              <span class=\"text-gray-500 ml-2\">(${catalog.selectedGroups.join(\", \")})</span>\n            </p>\n          ` : \"\"}\n        </div>\n        <div class=\"text-right bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl px-6 py-3 shadow-lg\">\n          <div class=\"text-xs text-white/90 font-medium uppercase tracking-wide mb-1\">Status</div>\n          <div class=\"text-2xl font-bold text-white\">\n            ‚úÖ Ativo\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"max-w-7xl mx-auto px-6 py-8\">\n    ${groupsHTML}\n  </div>\n\n  <script>\n    function copyToClipboard(text) {\n      navigator.clipboard.writeText(text).then(() => {\n        alert('ID copiado: ' + text);\n      }).catch(err => {\n        console.error('Erro ao copiar:', err);\n      });\n    }\n  </script>\n</body>\n</html>`;\n}\n// GET √© p√∫blico (usado pela p√°gina de cat√°logo p√∫blica)\nasync function GET() {\n    try {\n        // Se o arquivo n√£o existe, retornar array vazio (n√£o √© erro)\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configFilePath)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                catalogs: []\n            });\n        }\n        let content;\n        try {\n            content = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(configFilePath, \"utf-8\");\n        } catch (readError) {\n            console.error(\"Erro ao ler arquivo de configura\\xe7\\xe3o:\", readError);\n            // Se n√£o conseguir ler, retornar array vazio\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                catalogs: []\n            });\n        }\n        let data;\n        try {\n            data = JSON.parse(content);\n        } catch (parseError) {\n            console.error(\"Erro ao parsear JSON de configura\\xe7\\xe3o:\", parseError);\n            // Se o JSON estiver corrompido, retornar array vazio\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                catalogs: []\n            });\n        }\n        // Remover cat√°logos expirados automaticamente\n        const now = new Date();\n        const activeCatalogs = (data.catalogs || []).filter((cat)=>{\n            if (cat.expiresAt) {\n                try {\n                    return new Date(cat.expiresAt) > now;\n                } catch (e) {\n                    // Se a data for inv√°lida, remover o cat√°logo\n                    return false;\n                }\n            }\n            return true;\n        });\n        // Se houve remo√ß√£o de expirados, tentar salvar arquivo atualizado\n        if (activeCatalogs.length !== (data.catalogs || []).length) {\n            try {\n                const configDir = path__WEBPACK_IMPORTED_MODULE_3___default().dirname(configFilePath);\n                if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configDir)) {\n                    await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(configDir, {\n                        recursive: true\n                    });\n                }\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(configFilePath, JSON.stringify({\n                    catalogs: activeCatalogs\n                }, null, 2), \"utf-8\");\n            } catch (writeError) {\n                // Se n√£o conseguir escrever, apenas logar (no Vercel pode n√£o conseguir)\n                console.warn(\"Aviso: N\\xe3o foi poss\\xedvel salvar arquivo atualizado:\", writeError.message);\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            catalogs: activeCatalogs\n        });\n    } catch (error) {\n        console.error(\"Erro ao carregar configura\\xe7\\xf5es:\", error);\n        // Em caso de erro, retornar array vazio ao inv√©s de erro 500\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            catalogs: []\n        });\n    }\n}\n// POST requer autentica√ß√£o (apenas admin pode criar cat√°logos)\nasync function POST(request) {\n    const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.verifyAuth)(request);\n    if (!auth.authenticated) {\n        return auth.response || next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"N\\xe3o autenticado\"\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const { expirationMinutes, name, selectedGroups } = await request.json();\n        if (!expirationMinutes) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Tempo de expira\\xe7\\xe3o \\xe9 obrigat\\xf3rio\"\n            }, {\n                status: 400\n            });\n        }\n        const catalogName = name || \"Contas do Kwai\";\n        // Gerar link aleat√≥rio\n        const randomLink = crypto__WEBPACK_IMPORTED_MODULE_4___default().randomBytes(16).toString(\"hex\");\n        // Carregar cat√°logos existentes para verificar n√∫meros\n        let catalogs = [];\n        if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configFilePath)) {\n            const content = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(configFilePath, \"utf-8\");\n            const data = JSON.parse(content);\n            catalogs = data.catalogs || [];\n        }\n        // Gerar n√∫mero aleat√≥rio √∫nico que nunca se repete\n        let randomNumber;\n        let isUnique = false;\n        while(!isUnique){\n            // Gerar n√∫mero aleat√≥rio de 6 d√≠gitos\n            randomNumber = Math.floor(100000 + Math.random() * 900000).toString();\n            // Verificar se j√° existe\n            const now = new Date();\n            const activeCatalogs = catalogs.filter((cat)=>{\n                if (cat.expiresAt) {\n                    return new Date(cat.expiresAt) > now;\n                }\n                return true;\n            });\n            isUnique = !activeCatalogs.some((cat)=>cat.number === randomNumber);\n        }\n        // Calcular timestamp de expira√ß√£o (timestamp fixo - N√ÉO recalcular)\n        const currentTime = Date.now();\n        const expiresAtTimestamp = currentTime + expirationMinutes * 60000;\n        const expiresAt = new Date(expiresAtTimestamp).toISOString();\n        console.log(\"[CATALOG] Criando cat\\xe1logo:\", {\n            link: randomLink,\n            expirationMinutes,\n            expiresAt,\n            expiresAtTimestamp,\n            createdAt: new Date(currentTime).toISOString()\n        });\n        const catalog = {\n            link: randomLink,\n            number: randomNumber,\n            name: catalogName,\n            expirationMinutes,\n            expiresAt,\n            createdAt: new Date().toISOString(),\n            active: true,\n            selectedGroups: selectedGroups || [] // Grupos selecionados\n        };\n        // Remover cat√°logos expirados antes de adicionar\n        const now = new Date();\n        catalogs = catalogs.filter((cat)=>{\n            if (cat.expiresAt) {\n                return new Date(cat.expiresAt).getTime() > now.getTime();\n            }\n            return true;\n        });\n        // Adicionar novo cat√°logo\n        catalogs.push(catalog);\n        const configDir = path__WEBPACK_IMPORTED_MODULE_3___default().dirname(configFilePath);\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configDir)) {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(configDir, {\n                recursive: true\n            });\n        }\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(configFilePath, JSON.stringify({\n            catalogs\n        }, null, 2), \"utf-8\");\n        // Gerar e salvar HTML est√°tico do cat√°logo\n        try {\n            console.log(\"[CATALOG] Carregando perfis para gerar HTML...\");\n            const profiles = await loadProfilesFromHistory();\n            console.log(`[CATALOG] ${profiles.length} perfis carregados`);\n            const htmlContent = await generateCatalogHTML(catalog, profiles);\n            // Criar diret√≥rio de cat√°logos se n√£o existir\n            if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(catalogsDir)) {\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(catalogsDir, {\n                    recursive: true\n                });\n            }\n            // Salvar arquivo HTML\n            const htmlFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(catalogsDir, `${catalog.link}.html`);\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(htmlFilePath, htmlContent, \"utf-8\");\n            console.log(`[CATALOG] HTML gerado e salvo em: ${htmlFilePath}`);\n        } catch (htmlError) {\n            console.error(\"[CATALOG] Erro ao gerar HTML:\", htmlError);\n        // Continuar mesmo se falhar - o cat√°logo ainda √© criado\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Cat\\xe1logo criado com sucesso\",\n            catalog,\n            htmlUrl: `/catalogs/${catalog.link}.html`\n        });\n    } catch (error) {\n        console.error(\"Erro ao salvar configura\\xe7\\xe3o:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Erro ao salvar configura√ß√£o: ${error.message}`\n        }, {\n            status: 500\n        });\n    }\n}\n// DELETE requer autentica√ß√£o (apenas admin pode deletar cat√°logos)\nasync function DELETE(request) {\n    const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_5__.verifyAuth)(request);\n    if (!auth.authenticated) {\n        return auth.response || next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"N\\xe3o autenticado\"\n        }, {\n            status: 401\n        });\n    }\n    try {\n        const { link } = await request.json();\n        if (!link) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Link \\xe9 obrigat\\xf3rio\"\n            }, {\n                status: 400\n            });\n        }\n        let catalogs = [];\n        if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configFilePath)) {\n            const content = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(configFilePath, \"utf-8\");\n            const data = JSON.parse(content);\n            catalogs = data.catalogs || [];\n        }\n        const originalLength = catalogs.length;\n        catalogs = catalogs.filter((cat)=>cat.link !== link);\n        // Verificar se realmente removeu algo\n        if (catalogs.length === originalLength) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Cat\\xe1logo n\\xe3o encontrado\"\n            }, {\n                status: 404\n            });\n        }\n        // Remover arquivo HTML do cat√°logo\n        try {\n            const htmlFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(catalogsDir, `${link}.html`);\n            if ((0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(htmlFilePath)) {\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.unlink)(htmlFilePath);\n                console.log(`[CATALOG] HTML removido: ${htmlFilePath}`);\n            }\n        } catch (htmlError) {\n            console.warn(\"[CATALOG] Aviso: N\\xe3o foi poss\\xedvel remover HTML:\", htmlError.message);\n        // Continuar mesmo se falhar - o cat√°logo ainda √© removido\n        }\n        const configDir = path__WEBPACK_IMPORTED_MODULE_3___default().dirname(configFilePath);\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_2__.existsSync)(configDir)) {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(configDir, {\n                recursive: true\n            });\n        }\n        try {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(configFilePath, JSON.stringify({\n                catalogs\n            }, null, 2), \"utf-8\");\n        } catch (writeError) {\n            console.warn(\"Aviso: N\\xe3o foi poss\\xedvel salvar no sistema de arquivos:\", writeError.message);\n        // Continuar mesmo assim - no Vercel pode ser tempor√°rio\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Cat\\xe1logo removido com sucesso\",\n            catalogs: catalogs.length\n        });\n    } catch (error) {\n        console.error(\"Erro ao remover cat\\xe1logo:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Erro ao remover cat√°logo: ${error.message}`\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NhdGFsb2ctY29uZmlnL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDa0I7QUFDMUM7QUFDUjtBQUNJO0FBQ1k7QUFFdkMsTUFBTVUsaUJBQWlCSCxnREFBUyxDQUFDSyxRQUFRQyxHQUFHLElBQUksVUFBVTtBQUMxRCxNQUFNQyxjQUFjUCxnREFBUyxDQUFDSyxRQUFRQyxHQUFHLElBQUksVUFBVTtBQUV2RCwwQ0FBMEM7QUFDMUMsU0FBU0UsZUFBZUMsWUFBb0I7SUFDMUMsSUFBSSxDQUFDQSxnQkFBZ0JBLGlCQUFpQixTQUFTQSxpQkFBaUIsS0FBSyxPQUFPO0lBQzVFLE1BQU1DLFVBQVVELGFBQWFFLE9BQU8sQ0FBQyxrQkFBa0I7SUFDdkQsSUFBSUQsUUFBUUUsV0FBVyxHQUFHQyxRQUFRLENBQUMsTUFBTTtRQUN2QyxNQUFNQyxNQUFNQyxXQUFXTCxRQUFRQyxPQUFPLENBQUMsU0FBUyxJQUFJQSxPQUFPLENBQUMsS0FBSztRQUNqRSxPQUFPSyxLQUFLQyxLQUFLLENBQUNILE1BQU07SUFDMUI7SUFDQSxJQUFJSixRQUFRRSxXQUFXLEdBQUdDLFFBQVEsQ0FBQyxNQUFNO1FBQ3ZDLE1BQU1DLE1BQU1DLFdBQVdMLFFBQVFDLE9BQU8sQ0FBQyxTQUFTLElBQUlBLE9BQU8sQ0FBQyxLQUFLO1FBQ2pFLE9BQU9LLEtBQUtDLEtBQUssQ0FBQ0gsTUFBTTtJQUMxQjtJQUNBLE9BQU9JLFNBQVNSLFFBQVFDLE9BQU8sQ0FBQyxVQUFVLE9BQU87QUFDbkQ7QUFFQSwyQ0FBMkM7QUFDM0MsU0FBU1EsYUFBYUMsU0FBaUI7SUFDckMsSUFBSUEsWUFBWSxNQUFNLE9BQU87SUFDN0IsTUFBTUMsU0FBU0wsS0FBS0MsS0FBSyxDQUFDRyxZQUFZO0lBQ3RDLE9BQU8sQ0FBQyxFQUFFQyxPQUFPLENBQUMsQ0FBQztBQUNyQjtBQUVBLHNDQUFzQztBQUN0QyxTQUFTQyxpQkFBaUJDLElBQVk7SUFDcEMsSUFB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VXpCLE9BQU87UUFDakYsMERBQTBEO1FBQzVEO1FBRUEsTUFBTU4sWUFBWS9ILG1EQUFZLENBQUNHO1FBQy9CLElBQUksQ0FBQ0osOENBQVVBLENBQUNnSSxZQUFZO1lBQzFCLE1BQU1uSSxrREFBS0EsQ0FBQ21JLFdBQVc7Z0JBQUVFLFdBQVc7WUFBSztRQUMzQztRQUVBLElBQUk7WUFDRixNQUFNdEksc0RBQVNBLENBQUNRLGdCQUFnQnVDLEtBQUt3RixTQUFTLENBQUM7Z0JBQUVkO1lBQVMsR0FBRyxNQUFNLElBQUk7UUFDekUsRUFBRSxPQUFPZSxZQUFpQjtZQUN4QmhFLFFBQVFpRSxJQUFJLENBQUMsZ0VBQTBERCxXQUFXRSxPQUFPO1FBQ3pGLHdEQUF3RDtRQUMxRDtRQUVBLE9BQU81SSxxREFBWUEsQ0FBQzBILElBQUksQ0FBQztZQUN2QjRDLFNBQVM7WUFDVDFCLFNBQVM7WUFDVGpCLFVBQVVBLFNBQVMvRSxNQUFNO1FBQzNCO0lBQ0YsRUFBRSxPQUFPNkIsT0FBWTtRQUNuQkMsUUFBUUQsS0FBSyxDQUFDLGdDQUE2QkE7UUFDM0MsT0FBT3pFLHFEQUFZQSxDQUFDMEgsSUFBSSxDQUN0QjtZQUFFakQsT0FBTyxDQUFDLDBCQUEwQixFQUFFQSxNQUFNbUUsT0FBTyxDQUFDLENBQUM7UUFBQyxHQUN0RDtZQUFFTSxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2t3YWktcHJvZmlsZS1hbmFseXplci8uL2FwcC9hcGkvY2F0YWxvZy1jb25maWcvcm91dGUudHM/ZDFiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyByZWFkRmlsZSwgd3JpdGVGaWxlLCBta2RpciwgcmVhZGRpciwgdW5saW5rIH0gZnJvbSAnZnMvcHJvbWlzZXMnXG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nXG5pbXBvcnQgeyB2ZXJpZnlBdXRoIH0gZnJvbSAnQC9saWIvYXV0aCdcblxuY29uc3QgY29uZmlnRmlsZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICdjYXRhbG9nLWNvbmZpZy5qc29uJylcbmNvbnN0IGNhdGFsb2dzRGlyID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAnY2F0YWxvZ3MnKVxuXG4vLyBGdW7Dp8OjbyBhdXhpbGlhciBwYXJhIHBhcnNlYXIgc2VndWlkb3Jlc1xuZnVuY3Rpb24gcGFyc2VGb2xsb3dlcnMoZm9sbG93ZXJzU3RyOiBzdHJpbmcpOiBudW1iZXIge1xuICBpZiAoIWZvbGxvd2Vyc1N0ciB8fCBmb2xsb3dlcnNTdHIgPT09ICdOL0EnIHx8IGZvbGxvd2Vyc1N0ciA9PT0gJzAnKSByZXR1cm4gMFxuICBjb25zdCBjbGVhbmVkID0gZm9sbG93ZXJzU3RyLnJlcGxhY2UoL1teXFxkLixLa01tQmJdL2csICcnKVxuICBpZiAoY2xlYW5lZC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdrJykpIHtcbiAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KGNsZWFuZWQucmVwbGFjZSgvW2tLXS9nLCAnJykucmVwbGFjZSgnLCcsICcuJykpXG4gICAgcmV0dXJuIE1hdGguZmxvb3IobnVtICogMTAwMClcbiAgfVxuICBpZiAoY2xlYW5lZC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdtJykpIHtcbiAgICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KGNsZWFuZWQucmVwbGFjZSgvW21NXS9nLCAnJykucmVwbGFjZSgnLCcsICcuJykpXG4gICAgcmV0dXJuIE1hdGguZmxvb3IobnVtICogMTAwMDAwMClcbiAgfVxuICByZXR1cm4gcGFyc2VJbnQoY2xlYW5lZC5yZXBsYWNlKC9bXlxcZF0vZywgJycpIHx8ICcwJylcbn1cblxuLy8gRnVuw6fDo28gYXV4aWxpYXIgcGFyYSBvYnRlciBub21lIGRvIGdydXBvXG5mdW5jdGlvbiBnZXRHcm91cE5hbWUoZm9sbG93ZXJzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAoZm9sbG93ZXJzIDwgMTAwMCkgcmV0dXJuICdpbmljaW8nXG4gIGNvbnN0IGdyb3VwSyA9IE1hdGguZmxvb3IoZm9sbG93ZXJzIC8gMTAwMClcbiAgcmV0dXJuIGAke2dyb3VwS31rYFxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIGxpbXBhciBub21lIGRlIGV4aWJpw6fDo29cbmZ1bmN0aW9uIGNsZWFuRGlzcGxheU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFuYW1lKSByZXR1cm4gJydcbiAgcmV0dXJuIG5hbWUucmVwbGFjZSgvXFxzKlxcKEBbXildK1xcKVxccypvblxccytLd2FpXFxzKiQvaSwgJycpLnRyaW0oKVxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIG5vcm1hbGl6YXIgbm9tZSBwYXJhIGPDs3BpYVxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZUZvckNvcHkobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCFuYW1lKSByZXR1cm4gJydcbiAgcmV0dXJuIG5hbWVcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5ub3JtYWxpemUoJ05GRCcpXG4gICAgLnJlcGxhY2UoL1tcXHUwMzAwLVxcdTAzNmZdL2csICcnKVxuICAgIC5yZXBsYWNlKC9bXmEtejAtOV0vZywgJycpXG4gICAgLnRyaW0oKVxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIGNhcnJlZ2FyIHBlcmZpcyBkbyBoaXN0w7NyaWNvXG5hc3luYyBmdW5jdGlvbiBsb2FkUHJvZmlsZXNGcm9tSGlzdG9yeSgpOiBQcm9taXNlPGFueVtdPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgaGlzdG9yeURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ2hpc3RvcnknKVxuICAgIGlmICghZXhpc3RzU3luYyhoaXN0b3J5RGlyKSkge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuXG4gICAgY29uc3QgZmlsZXMgPSBhd2FpdCByZWFkZGlyKGhpc3RvcnlEaXIpXG4gICAgY29uc3QganNvbkZpbGVzID0gZmlsZXNcbiAgICAgIC5maWx0ZXIoZmlsZSA9PiBmaWxlLnN0YXJ0c1dpdGgoJ2hpc3Rvcmljb18nKSAmJiBmaWxlLmVuZHNXaXRoKCcuanNvbicpKVxuICAgICAgLnNvcnQoKVxuICAgICAgLnJldmVyc2UoKVxuXG4gICAgaWYgKGpzb25GaWxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBbXVxuICAgIH1cblxuICAgIGNvbnN0IGxhdGVzdEpzb25GaWxlID0ganNvbkZpbGVzWzBdXG4gICAgY29uc3QganNvbkZpbGVQYXRoID0gcGF0aC5qb2luKGhpc3RvcnlEaXIsIGxhdGVzdEpzb25GaWxlKVxuICAgIGNvbnN0IGpzb25Db250ZW50ID0gYXdhaXQgcmVhZEZpbGUoanNvbkZpbGVQYXRoLCAndXRmLTgnKVxuICAgIGNvbnN0IGpzb25EYXRhID0gSlNPTi5wYXJzZShqc29uQ29udGVudClcblxuICAgIC8vIENhcnJlZ2FyIGNvbnRhc1xuICAgIGNvbnN0IGFjY291bnRzRmlsZVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsICdhY2NvdW50cy1kYXRhLmpzb24nKVxuICAgIGxldCBhY2NvdW50czogYW55W10gPSBbXVxuICAgIGlmIChleGlzdHNTeW5jKGFjY291bnRzRmlsZVBhdGgpKSB7XG4gICAgICBjb25zdCBhY2NvdW50c0NvbnRlbnQgPSBhd2FpdCByZWFkRmlsZShhY2NvdW50c0ZpbGVQYXRoLCAndXRmLTgnKVxuICAgICAgY29uc3QgYWNjb3VudHNEYXRhID0gSlNPTi5wYXJzZShhY2NvdW50c0NvbnRlbnQpXG4gICAgICBhY2NvdW50cyA9IGFjY291bnRzRGF0YS5hY2NvdW50cyB8fCBbXVxuICAgIH1cblxuICAgIC8vIENvbnZlcnRlciBlIGFzc29jaWFyIElEc1xuICAgIHJldHVybiBqc29uRGF0YS5tYXAoKGl0ZW06IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgbGV0IG1hdGNoaW5nQWNjb3VudCA9IG51bGxcbiAgICAgIGNvbnN0IHByb2ZpbGVFbWFpbCA9IChpdGVtLmVtYWlsIHx8ICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgY29uc3QgcHJvZmlsZU5hbWUgPSAoaXRlbS5kaXNwbGF5TmFtZSB8fCBpdGVtLm5hbWUgfHwgaXRlbS51c2VybmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgIFxuICAgICAgLy8gQnVzY2FyIGNvbnRhIGNvcnJlc3BvbmRlbnRlXG4gICAgICBpZiAocHJvZmlsZUVtYWlsICYmIGFjY291bnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWF0Y2hpbmdBY2NvdW50ID0gYWNjb3VudHMuZmluZChhY2MgPT4ge1xuICAgICAgICAgIGNvbnN0IGFjY0VtYWlsID0gKGFjYy5lbWFpbCB8fCAnJykudG9Mb3dlckNhc2UoKS50cmltKClcbiAgICAgICAgICByZXR1cm4gYWNjRW1haWwgJiYgYWNjRW1haWwgPT09IHByb2ZpbGVFbWFpbFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIW1hdGNoaW5nQWNjb3VudCAmJiBwcm9maWxlTmFtZSAmJiBhY2NvdW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1hdGNoaW5nQWNjb3VudCA9IGFjY291bnRzLmZpbmQoYWNjID0+IHtcbiAgICAgICAgICBjb25zdCBhY2NOYW1lID0gKGFjYy5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICAgIHJldHVybiBhY2NOYW1lICYmIGFjY05hbWUgPT09IHByb2ZpbGVOYW1lXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghbWF0Y2hpbmdBY2NvdW50ICYmIGFjY291bnRzLmxlbmd0aCA+IDAgJiYgaW5kZXggPCBhY2NvdW50cy5sZW5ndGgpIHtcbiAgICAgICAgbWF0Y2hpbmdBY2NvdW50ID0gYWNjb3VudHNbaW5kZXhdXG4gICAgICB9XG5cbiAgICAgIGxldCBhdmF0YXJVcmwgPSBpdGVtLmF2YXRhciB8fCAnJ1xuICAgICAgaWYgKGF2YXRhclVybCAmJiBhdmF0YXJVcmwuc3RhcnRzV2l0aCgnaHR0cDovLycpKSB7XG4gICAgICAgIGF2YXRhclVybCA9IGF2YXRhclVybC5yZXBsYWNlKCdodHRwOi8vJywgJ2h0dHBzOi8vJylcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW1haWw6IGl0ZW0uZW1haWwgfHwgJycsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBpdGVtLmRpc3BsYXlOYW1lIHx8IGl0ZW0ubmFtZSB8fCBpdGVtLnVzZXJuYW1lIHx8ICcnLFxuICAgICAgICBhdmF0YXI6IGF2YXRhclVybCxcbiAgICAgICAgZm9sbG93ZXJzOiBpdGVtLmZvbGxvd2VycyB8fCAnMCcsXG4gICAgICAgIGxpa2VzOiBpdGVtLmxpa2VzIHx8ICcwJyxcbiAgICAgICAgdXJsOiBpdGVtLnVybCB8fCAnJyxcbiAgICAgICAgdXNlcm5hbWU6IGl0ZW0udXNlcm5hbWUgfHwgJycsXG4gICAgICAgIGlkOiBtYXRjaGluZ0FjY291bnQ/LmlkIHx8ICcnLFxuICAgICAgfVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNhcnJlZ2FyIHBlcmZpcyBkbyBoaXN0w7NyaWNvOicsIGVycm9yKVxuICAgIHJldHVybiBbXVxuICB9XG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgZXNjYXBhciBIVE1MXG5mdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghdGV4dCkgcmV0dXJuICcnXG4gIHJldHVybiBTdHJpbmcodGV4dClcbiAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgIC5yZXBsYWNlKC8nL2csICcmIzAzOTsnKVxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIGVzY2FwYXIgSmF2YVNjcmlwdFxuZnVuY3Rpb24gZXNjYXBlSnModGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKCF0ZXh0KSByZXR1cm4gJydcbiAgcmV0dXJuIFN0cmluZyh0ZXh0KVxuICAgIC5yZXBsYWNlKC9cXFxcL2csICdcXFxcXFxcXCcpXG4gICAgLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJylcbiAgICAucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXG4gICAgLnJlcGxhY2UoL1xcci9nLCAnXFxcXHInKVxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIGdlcmFyIEhUTUwgZXN0w6F0aWNvIGRvIGNhdMOhbG9nb1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDYXRhbG9nSFRNTChjYXRhbG9nOiBhbnksIHByb2ZpbGVzOiBhbnlbXSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIC8vIEFncnVwYXIgcGVyZmlzXG4gIGNvbnN0IGdyb3VwczogeyBba2V5OiBzdHJpbmddOiBhbnlbXSB9ID0ge31cbiAgcHJvZmlsZXMuZm9yRWFjaChwcm9maWxlID0+IHtcbiAgICBjb25zdCBmb2xsb3dlcnNOdW0gPSBwYXJzZUZvbGxvd2Vycyhwcm9maWxlLmZvbGxvd2VycyB8fCAnMCcpXG4gICAgY29uc3QgZ3JvdXBOYW1lID0gZ2V0R3JvdXBOYW1lKGZvbGxvd2Vyc051bSlcbiAgICBpZiAoIWdyb3Vwc1tncm91cE5hbWVdKSB7XG4gICAgICBncm91cHNbZ3JvdXBOYW1lXSA9IFtdXG4gICAgfVxuICAgIGdyb3Vwc1tncm91cE5hbWVdLnB1c2gocHJvZmlsZSlcbiAgfSlcblxuICAvLyBGaWx0cmFyIGdydXBvcyBzZWxlY2lvbmFkb3NcbiAgY29uc3QgZmlsdGVyZWRHcm91cHM6IHsgW2tleTogc3RyaW5nXTogYW55W10gfSA9IHt9XG4gIGlmIChjYXRhbG9nLnNlbGVjdGVkR3JvdXBzICYmIGNhdGFsb2cuc2VsZWN0ZWRHcm91cHMubGVuZ3RoID4gMCkge1xuICAgIGNhdGFsb2cuc2VsZWN0ZWRHcm91cHMuZm9yRWFjaCgoZ3JvdXBOYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgIGlmIChncm91cHNbZ3JvdXBOYW1lXSkge1xuICAgICAgICBmaWx0ZXJlZEdyb3Vwc1tncm91cE5hbWVdID0gZ3JvdXBzW2dyb3VwTmFtZV1cbiAgICAgIH1cbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIE9iamVjdC5hc3NpZ24oZmlsdGVyZWRHcm91cHMsIGdyb3VwcylcbiAgfVxuXG4gIC8vIENhbGN1bGFyIHRvdGFsIGRlIHNlZ3VpZG9yZXNcbiAgbGV0IHRvdGFsRm9sbG93ZXJzID0gMFxuICBPYmplY3QudmFsdWVzKGZpbHRlcmVkR3JvdXBzKS5mb3JFYWNoKGdyb3VwUHJvZmlsZXMgPT4ge1xuICAgIGdyb3VwUHJvZmlsZXMuZm9yRWFjaChwcm9maWxlID0+IHtcbiAgICAgIHRvdGFsRm9sbG93ZXJzICs9IHBhcnNlRm9sbG93ZXJzKHByb2ZpbGUuZm9sbG93ZXJzIHx8ICcwJylcbiAgICB9KVxuICB9KVxuXG4gIGNvbnN0IGZvcm1hdEZvbGxvd2VycyA9IChudW06IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgaWYgKG51bSA+PSAxMDAwMDAwKSByZXR1cm4gYCR7KG51bSAvIDEwMDAwMDApLnRvRml4ZWQoMSl9TWBcbiAgICBpZiAobnVtID49IDEwMDApIHJldHVybiBgJHsobnVtIC8gMTAwMCkudG9GaXhlZCgxKX1LYFxuICAgIHJldHVybiBudW0udG9TdHJpbmcoKVxuICB9XG5cbiAgLy8gTsOjbyBjYWxjdWxhciB0ZW1wbyByZXN0YW50ZSAtIHDDoWdpbmFzIEhUTUwgbsOjbyBleHBpcmFtIGF1dG9tYXRpY2FtZW50ZVxuXG4gIC8vIEdlcmFyIEhUTUxcbiAgY29uc3QgZ3JvdXBFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZmlsdGVyZWRHcm91cHMpLnNvcnQoKGEsIGIpID0+IHtcbiAgICBpZiAoYVswXSA9PT0gJ2luaWNpbycpIHJldHVybiAtMVxuICAgIGlmIChiWzBdID09PSAnaW5pY2lvJykgcmV0dXJuIDFcbiAgICBjb25zdCBudW1BID0gcGFyc2VJbnQoYVswXS5yZXBsYWNlKCdrJywgJycpKSB8fCAwXG4gICAgY29uc3QgbnVtQiA9IHBhcnNlSW50KGJbMF0ucmVwbGFjZSgnaycsICcnKSkgfHwgMFxuICAgIHJldHVybiBudW1BIC0gbnVtQlxuICB9KVxuXG4gICAgY29uc3QgZ3JvdXBzSFRNTCA9IGdyb3VwRW50cmllcy5tYXAoKFtncm91cE5hbWUsIGdyb3VwUHJvZmlsZXNdKSA9PiB7XG4gICAgY29uc3QgZ3JvdXBEaXNwbGF5TmFtZSA9IGdyb3VwTmFtZSA9PT0gJ2luaWNpbycgPyAnPCAxaycgOiBncm91cE5hbWUudG9VcHBlckNhc2UoKVxuICAgIGNvbnN0IHByb2ZpbGVzSFRNTCA9IGdyb3VwUHJvZmlsZXMubWFwKChwcm9maWxlLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBjbGVhbkRpc3BsYXlOYW1lKHByb2ZpbGUuZGlzcGxheU5hbWUgfHwgcHJvZmlsZS5uYW1lIHx8IHByb2ZpbGUuZW1haWwgfHwgJ04vQScpXG4gICAgICBjb25zdCBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZU5hbWVGb3JDb3B5KGRpc3BsYXlOYW1lKVxuICAgICAgY29uc3QgY29weVRleHQgPSBwcm9maWxlLmlkID8gYCR7bm9ybWFsaXplZE5hbWV9LSR7cHJvZmlsZS5pZH1gIDogJydcbiAgICAgIGNvbnN0IGt3YWlVcmwgPSBwcm9maWxlLnVybCB8fCAocHJvZmlsZS5lbWFpbCA/IGBodHRwczovL2sua3dhaS5jb20vdS9AJHtwcm9maWxlLmVtYWlsLnNwbGl0KCdAJylbMF19YCA6ICcnKVxuICAgICAgXG4gICAgICAvLyBFc2NhcGFyIHZhbG9yZXMgcGFyYSBIVE1MXG4gICAgICBjb25zdCBzYWZlRGlzcGxheU5hbWUgPSBlc2NhcGVIdG1sKGRpc3BsYXlOYW1lKVxuICAgICAgY29uc3Qgc2FmZUF2YXRhciA9IGVzY2FwZUh0bWwocHJvZmlsZS5hdmF0YXIgfHwgJycpXG4gICAgICBjb25zdCBzYWZlRm9sbG93ZXJzID0gZXNjYXBlSHRtbChwcm9maWxlLmZvbGxvd2VycyB8fCAnTi9BJylcbiAgICAgIGNvbnN0IHNhZmVMaWtlcyA9IGVzY2FwZUh0bWwocHJvZmlsZS5saWtlcyB8fCAnTi9BJylcbiAgICAgIGNvbnN0IHNhZmVJZCA9IGVzY2FwZUh0bWwocHJvZmlsZS5pZCB8fCAnJylcbiAgICAgIGNvbnN0IHNhZmVDb3B5VGV4dCA9IGVzY2FwZUpzKGNvcHlUZXh0KVxuICAgICAgY29uc3Qgc2FmZUt3YWlVcmwgPSBlc2NhcGVIdG1sKGt3YWlVcmwpXG4gICAgICBjb25zdCBmaXJzdExldHRlciA9IHNhZmVEaXNwbGF5TmFtZVswXT8udG9VcHBlckNhc2UoKSB8fCAnPydcblxuICAgICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImJnLXdoaXRlIHJvdW5kZWQtMnhsIHAtNSBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1wdXJwbGUtMzAwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgJHtwcm9maWxlLmF2YXRhciA/IGBcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7c2FmZUF2YXRhcn1cIiBhbHQ9XCIke3NhZmVEaXNwbGF5TmFtZX1cIiBjbGFzcz1cInctMTYgaC0xNiByb3VuZGVkLTJ4bCBib3JkZXItWzNweF0gYm9yZGVyLXB1cnBsZS00MDAgb2JqZWN0LWNvdmVyIGZsZXgtc2hyaW5rLTAgc2hhZG93LWxnXCIgb25lcnJvcj1cInRoaXMuc3R5bGUuZGlzcGxheT0nbm9uZSdcIj5cbiAgICAgICAgICAgICAgYCA6IGBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0xNiBoLTE2IHJvdW5kZWQtMnhsIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTQwMCB0by1waW5rLTQwMCBib3JkZXItWzNweF0gYm9yZGVyLXB1cnBsZS00MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMCBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC0yeGwgdGV4dC13aGl0ZSBmb250LWJvbGRcIj4ke2ZpcnN0TGV0dGVyfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgtMSBtaW4tdy0wIHB0LTFcIj5cbiAgICAgICAgICAgICAgICAke3Byb2ZpbGUuaWQgPyBgXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5saW5lLWJsb2NrIHB4LTIgcHktMSBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTEwMCB0by1waW5rLTEwMCByb3VuZGVkLWxnIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTcwMCBmb250LWJvbGRcIj5JRDogJHtzYWZlSWR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYCA6ICcnfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb250LWJvbGQgdGV4dC1ncmF5LTgwMCB0cnVuY2F0ZSB0ZXh0LWJhc2VcIj4ke3NhZmVEaXNwbGF5TmFtZX08L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0yIGdhcC0zIHB0LTIgYm9yZGVyLXQgYm9yZGVyLWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtbGcgYmctYmx1ZS0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbVwiPvCfkaU8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5TZWd1aWRvcmVzPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSBmb250LWJvbGQgdGV4dC1ncmF5LTgwMFwiPiR7c2FmZUZvbGxvd2Vyc308L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3LTggaC04IHJvdW5kZWQtbGcgYmctcGluay0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbVwiPuKdpO+4jzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkN1cnRpZGFzPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSBmb250LWJvbGQgdGV4dC1ncmF5LTgwMFwiPiR7c2FmZUxpa2VzfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgJHtjb3B5VGV4dCA/IGBcbiAgICAgICAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVwiY29weVRvQ2xpcGJvYXJkKCcke3NhZmVDb3B5VGV4dH0nKVwiIGNsYXNzPVwidy1mdWxsIG10LTIgcHgtNCBweS0yIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAgdG8tcGluay01MCB0ZXh0LXB1cnBsZS03MDAgaG92ZXI6ZnJvbS1wdXJwbGUtMTAwIGhvdmVyOnRvLXBpbmstMTAwIHJvdW5kZWQtbGcgZm9udC1tZWRpdW0gdGV4dC1zbSB0cmFuc2l0aW9uLWFsbCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDBcIj5cbiAgICAgICAgICAgICAgICBDb3BpYXIgSURcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBgIDogJyd9XG4gICAgICAgICAgICAke2t3YWlVcmwgPyBgXG4gICAgICAgICAgICAgIDxhIGhyZWY9XCIke3NhZmVLd2FpVXJsfVwiIHRhcmdldD1cIl9ibGFua1wiIGNsYXNzPVwidy1mdWxsIG10LTIgYmxvY2sgcHgtNCBweS0yIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1za3ktNTAgdG8tYmx1ZS01MCB0ZXh0LWJsdWUtNzAwIGhvdmVyOmZyb20tc2t5LTEwMCBob3Zlcjp0by1ibHVlLTEwMCByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIHRleHQtc20gdHJhbnNpdGlvbi1hbGwgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIFZlciBQZXJmaWxcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgYCA6ICcnfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIGBcbiAgICB9KS5qb2luKCcnKVxuXG4gICAgcmV0dXJuIGBcbiAgICAgIDxkaXYgY2xhc3M9XCJtYi04XCI+XG4gICAgICAgIDxoMiBjbGFzcz1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktODAwIG1iLTRcIj4ke2dyb3VwRGlzcGxheU5hbWV9ICgke2dyb3VwUHJvZmlsZXMubGVuZ3RofSBjb250YXMpPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgbGc6Z3JpZC1jb2xzLTMgeGw6Z3JpZC1jb2xzLTQgZ2FwLTZcIj5cbiAgICAgICAgICAke3Byb2ZpbGVzSFRNTH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgXG4gIH0pLmpvaW4oJycpXG5cbiAgcmV0dXJuIGA8IURPQ1RZUEUgaHRtbD5cbjxodG1sIGxhbmc9XCJwdC1CUlwiPlxuPGhlYWQ+XG4gIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxuICA8dGl0bGU+JHtlc2NhcGVIdG1sKGNhdGFsb2cubmFtZSl9IC0gQ2F0w6Fsb2dvIEt3YWk8L3RpdGxlPlxuICA8c2NyaXB0IHNyYz1cImh0dHBzOi8vY2RuLnRhaWx3aW5kY3NzLmNvbVwiPjwvc2NyaXB0PlxuICA8c3R5bGU+XG4gICAgQGtleWZyYW1lcyBmYWRlSW4ge1xuICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTsgfVxuICAgICAgdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH1cbiAgICB9XG4gICAgLmFuaW1hdGUtZmFkZS1pbiB7XG4gICAgICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2Utb3V0O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5IGNsYXNzPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTUwIHZpYS1waW5rLTUwIHRvLWJsdWUtNTBcIj5cbiAgPGRpdiBjbGFzcz1cImJnLXdoaXRlLzgwIGJhY2tkcm9wLWJsdXItbGcgc2hhZG93LWxnIGJvcmRlci1iIGJvcmRlci1wdXJwbGUtMTAwIHN0aWNreSB0b3AtMCB6LTEwXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1heC13LTd4bCBteC1hdXRvIHB4LTYgcHktNVwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBmbGV4LXdyYXAgZ2FwLTRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDEgY2xhc3M9XCJ0ZXh0LTN4bCBmb250LWJvbGQgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS02MDAgdG8tcGluay02MDAgYmctY2xpcC10ZXh0IHRleHQtdHJhbnNwYXJlbnQgbWItMVwiPlxuICAgICAgICAgICAgJHtlc2NhcGVIdG1sKGNhdGFsb2cubmFtZSl9XG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBmb250LW1lZGl1bVwiPk7Dum1lcm86IDxzcGFuIGNsYXNzPVwidGV4dC1wdXJwbGUtNjAwIGZvbnQtYm9sZFwiPiR7ZXNjYXBlSHRtbChjYXRhbG9nLm51bWJlcil9PC9zcGFuPjwvcD5cbiAgICAgICAgICAke2NhdGFsb2cuc2VsZWN0ZWRHcm91cHMgJiYgY2F0YWxvZy5zZWxlY3RlZEdyb3Vwcy5sZW5ndGggPiAwID8gYFxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZm9udC1tZWRpdW0gbXQtMVwiPlxuICAgICAgICAgICAgICBTZWd1aWRvcmVzOiA8c3BhbiBjbGFzcz1cInRleHQtcHVycGxlLTYwMCBmb250LWJvbGRcIj4ke2Zvcm1hdEZvbGxvd2Vycyh0b3RhbEZvbGxvd2Vycyl9PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtZ3JheS01MDAgbWwtMlwiPigke2NhdGFsb2cuc2VsZWN0ZWRHcm91cHMuam9pbignLCAnKX0pPC9zcGFuPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIGAgOiAnJ31cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tZW1lcmFsZC01MDAgcm91bmRlZC14bCBweC02IHB5LTMgc2hhZG93LWxnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQteHMgdGV4dC13aGl0ZS85MCBmb250LW1lZGl1bSB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSBtYi0xXCI+U3RhdHVzPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICDinIUgQXRpdm9cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cIm1heC13LTd4bCBteC1hdXRvIHB4LTYgcHktOFwiPlxuICAgICR7Z3JvdXBzSFRNTH1cbiAgPC9kaXY+XG5cbiAgPHNjcmlwdD5cbiAgICBmdW5jdGlvbiBjb3B5VG9DbGlwYm9hcmQodGV4dCkge1xuICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dCkudGhlbigoKSA9PiB7XG4gICAgICAgIGFsZXJ0KCdJRCBjb3BpYWRvOiAnICsgdGV4dCk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNvcGlhcjonLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICA8L3NjcmlwdD5cbjwvYm9keT5cbjwvaHRtbD5gXG59XG5cbi8vIEdFVCDDqSBww7pibGljbyAodXNhZG8gcGVsYSBww6FnaW5hIGRlIGNhdMOhbG9nbyBww7pibGljYSlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgLy8gU2UgbyBhcnF1aXZvIG7Do28gZXhpc3RlLCByZXRvcm5hciBhcnJheSB2YXppbyAobsOjbyDDqSBlcnJvKVxuICAgIGlmICghZXhpc3RzU3luYyhjb25maWdGaWxlUGF0aCkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNhdGFsb2dzOiBbXSB9KVxuICAgIH1cblxuICAgIGxldCBjb250ZW50OiBzdHJpbmdcbiAgICB0cnkge1xuICAgICAgY29udGVudCA9IGF3YWl0IHJlYWRGaWxlKGNvbmZpZ0ZpbGVQYXRoLCAndXRmLTgnKVxuICAgIH0gY2F0Y2ggKHJlYWRFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGxlciBhcnF1aXZvIGRlIGNvbmZpZ3VyYcOnw6NvOicsIHJlYWRFcnJvcilcbiAgICAgIC8vIFNlIG7Do28gY29uc2VndWlyIGxlciwgcmV0b3JuYXIgYXJyYXkgdmF6aW9cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNhdGFsb2dzOiBbXSB9KVxuICAgIH1cblxuICAgIGxldCBkYXRhOiBhbnlcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UoY29udGVudClcbiAgICB9IGNhdGNoIChwYXJzZUVycm9yOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gcGFyc2VhciBKU09OIGRlIGNvbmZpZ3VyYcOnw6NvOicsIHBhcnNlRXJyb3IpXG4gICAgICAvLyBTZSBvIEpTT04gZXN0aXZlciBjb3Jyb21waWRvLCByZXRvcm5hciBhcnJheSB2YXppb1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY2F0YWxvZ3M6IFtdIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIFJlbW92ZXIgY2F0w6Fsb2dvcyBleHBpcmFkb3MgYXV0b21hdGljYW1lbnRlXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuICAgIGNvbnN0IGFjdGl2ZUNhdGFsb2dzID0gKGRhdGEuY2F0YWxvZ3MgfHwgW10pLmZpbHRlcigoY2F0OiBhbnkpID0+IHtcbiAgICAgIGlmIChjYXQuZXhwaXJlc0F0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGNhdC5leHBpcmVzQXQpID4gbm93XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBTZSBhIGRhdGEgZm9yIGludsOhbGlkYSwgcmVtb3ZlciBvIGNhdMOhbG9nb1xuICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0pXG4gICAgXG4gICAgLy8gU2UgaG91dmUgcmVtb8Onw6NvIGRlIGV4cGlyYWRvcywgdGVudGFyIHNhbHZhciBhcnF1aXZvIGF0dWFsaXphZG9cbiAgICBpZiAoYWN0aXZlQ2F0YWxvZ3MubGVuZ3RoICE9PSAoZGF0YS5jYXRhbG9ncyB8fCBbXSkubGVuZ3RoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjb25maWdEaXIgPSBwYXRoLmRpcm5hbWUoY29uZmlnRmlsZVBhdGgpXG4gICAgICAgIGlmICghZXhpc3RzU3luYyhjb25maWdEaXIpKSB7XG4gICAgICAgICAgYXdhaXQgbWtkaXIoY29uZmlnRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHdyaXRlRmlsZShjb25maWdGaWxlUGF0aCwgSlNPTi5zdHJpbmdpZnkoeyBjYXRhbG9nczogYWN0aXZlQ2F0YWxvZ3MgfSwgbnVsbCwgMiksICd1dGYtOCcpXG4gICAgICB9IGNhdGNoICh3cml0ZUVycm9yOiBhbnkpIHtcbiAgICAgICAgLy8gU2UgbsOjbyBjb25zZWd1aXIgZXNjcmV2ZXIsIGFwZW5hcyBsb2dhciAobm8gVmVyY2VsIHBvZGUgbsOjbyBjb25zZWd1aXIpXG4gICAgICAgIGNvbnNvbGUud2FybignQXZpc286IE7Do28gZm9pIHBvc3PDrXZlbCBzYWx2YXIgYXJxdWl2byBhdHVhbGl6YWRvOicsIHdyaXRlRXJyb3IubWVzc2FnZSlcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgY2F0YWxvZ3M6IGFjdGl2ZUNhdGFsb2dzIH0pXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGNhcnJlZ2FyIGNvbmZpZ3VyYcOnw7VlczonLCBlcnJvcilcbiAgICAvLyBFbSBjYXNvIGRlIGVycm8sIHJldG9ybmFyIGFycmF5IHZhemlvIGFvIGludsOpcyBkZSBlcnJvIDUwMFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGNhdGFsb2dzOiBbXSB9KVxuICB9XG59XG5cbi8vIFBPU1QgcmVxdWVyIGF1dGVudGljYcOnw6NvIChhcGVuYXMgYWRtaW4gcG9kZSBjcmlhciBjYXTDoWxvZ29zKVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgYXV0aCA9IHZlcmlmeUF1dGgocmVxdWVzdClcbiAgaWYgKCFhdXRoLmF1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gYXV0aC5yZXNwb25zZSB8fCBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTsOjbyBhdXRlbnRpY2FkbycgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGV4cGlyYXRpb25NaW51dGVzLCBuYW1lLCBzZWxlY3RlZEdyb3VwcyB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIGlmICghZXhwaXJhdGlvbk1pbnV0ZXMpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1RlbXBvIGRlIGV4cGlyYcOnw6NvIMOpIG9icmlnYXTDs3JpbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgY2F0YWxvZ05hbWUgPSBuYW1lIHx8ICdDb250YXMgZG8gS3dhaSdcblxuICAgIC8vIEdlcmFyIGxpbmsgYWxlYXTDs3Jpb1xuICAgIGNvbnN0IHJhbmRvbUxpbmsgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoMTYpLnRvU3RyaW5nKCdoZXgnKVxuICAgIFxuICAgIC8vIENhcnJlZ2FyIGNhdMOhbG9nb3MgZXhpc3RlbnRlcyBwYXJhIHZlcmlmaWNhciBuw7ptZXJvc1xuICAgIGxldCBjYXRhbG9ncyA9IFtdXG4gICAgaWYgKGV4aXN0c1N5bmMoY29uZmlnRmlsZVBhdGgpKSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgcmVhZEZpbGUoY29uZmlnRmlsZVBhdGgsICd1dGYtOCcpXG4gICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShjb250ZW50KVxuICAgICAgY2F0YWxvZ3MgPSBkYXRhLmNhdGFsb2dzIHx8IFtdXG4gICAgfVxuXG4gICAgLy8gR2VyYXIgbsO6bWVybyBhbGVhdMOzcmlvIMO6bmljbyBxdWUgbnVuY2Egc2UgcmVwZXRlXG4gICAgbGV0IHJhbmRvbU51bWJlcjogc3RyaW5nXG4gICAgbGV0IGlzVW5pcXVlID0gZmFsc2VcbiAgICBcbiAgICB3aGlsZSAoIWlzVW5pcXVlKSB7XG4gICAgICAvLyBHZXJhciBuw7ptZXJvIGFsZWF0w7NyaW8gZGUgNiBkw61naXRvc1xuICAgICAgcmFuZG9tTnVtYmVyID0gTWF0aC5mbG9vcigxMDAwMDAgKyBNYXRoLnJhbmRvbSgpICogOTAwMDAwKS50b1N0cmluZygpXG4gICAgICBcbiAgICAgIC8vIFZlcmlmaWNhciBzZSBqw6EgZXhpc3RlXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgICBjb25zdCBhY3RpdmVDYXRhbG9ncyA9IGNhdGFsb2dzLmZpbHRlcigoY2F0OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGNhdC5leHBpcmVzQXQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IERhdGUoY2F0LmV4cGlyZXNBdCkgPiBub3dcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgaXNVbmlxdWUgPSAhYWN0aXZlQ2F0YWxvZ3Muc29tZSgoY2F0OiBhbnkpID0+IGNhdC5udW1iZXIgPT09IHJhbmRvbU51bWJlcilcbiAgICB9XG4gICAgXG4gICAgLy8gQ2FsY3VsYXIgdGltZXN0YW1wIGRlIGV4cGlyYcOnw6NvICh0aW1lc3RhbXAgZml4byAtIE7Dg08gcmVjYWxjdWxhcilcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KClcbiAgICBjb25zdCBleHBpcmVzQXRUaW1lc3RhbXAgPSBjdXJyZW50VGltZSArIChleHBpcmF0aW9uTWludXRlcyAqIDYwMDAwKVxuICAgIGNvbnN0IGV4cGlyZXNBdCA9IG5ldyBEYXRlKGV4cGlyZXNBdFRpbWVzdGFtcCkudG9JU09TdHJpbmcoKVxuXG4gICAgY29uc29sZS5sb2coJ1tDQVRBTE9HXSBDcmlhbmRvIGNhdMOhbG9nbzonLCB7XG4gICAgICBsaW5rOiByYW5kb21MaW5rLFxuICAgICAgZXhwaXJhdGlvbk1pbnV0ZXMsXG4gICAgICBleHBpcmVzQXQsXG4gICAgICBleHBpcmVzQXRUaW1lc3RhbXAsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGN1cnJlbnRUaW1lKS50b0lTT1N0cmluZygpXG4gICAgfSlcblxuICAgIGNvbnN0IGNhdGFsb2cgPSB7XG4gICAgICBsaW5rOiByYW5kb21MaW5rLFxuICAgICAgbnVtYmVyOiByYW5kb21OdW1iZXIhLFxuICAgICAgbmFtZTogY2F0YWxvZ05hbWUsXG4gICAgICBleHBpcmF0aW9uTWludXRlcyxcbiAgICAgIGV4cGlyZXNBdCwgLy8gVGltZXN0YW1wIGZpeG8gLSBudW5jYSByZWNhbGN1bGFyXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHNlbGVjdGVkR3JvdXBzOiBzZWxlY3RlZEdyb3VwcyB8fCBbXSAvLyBHcnVwb3Mgc2VsZWNpb25hZG9zXG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlciBjYXTDoWxvZ29zIGV4cGlyYWRvcyBhbnRlcyBkZSBhZGljaW9uYXJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgY2F0YWxvZ3MgPSBjYXRhbG9ncy5maWx0ZXIoKGNhdDogYW55KSA9PiB7XG4gICAgICBpZiAoY2F0LmV4cGlyZXNBdCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoY2F0LmV4cGlyZXNBdCkuZ2V0VGltZSgpID4gbm93LmdldFRpbWUoKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuXG4gICAgLy8gQWRpY2lvbmFyIG5vdm8gY2F0w6Fsb2dvXG4gICAgY2F0YWxvZ3MucHVzaChjYXRhbG9nKVxuXG4gICAgY29uc3QgY29uZmlnRGlyID0gcGF0aC5kaXJuYW1lKGNvbmZpZ0ZpbGVQYXRoKVxuICAgIGlmICghZXhpc3RzU3luYyhjb25maWdEaXIpKSB7XG4gICAgICBhd2FpdCBta2Rpcihjb25maWdEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXG4gICAgfVxuXG4gICAgYXdhaXQgd3JpdGVGaWxlKGNvbmZpZ0ZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeSh7IGNhdGFsb2dzIH0sIG51bGwsIDIpLCAndXRmLTgnKVxuXG4gICAgLy8gR2VyYXIgZSBzYWx2YXIgSFRNTCBlc3TDoXRpY28gZG8gY2F0w6Fsb2dvXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdbQ0FUQUxPR10gQ2FycmVnYW5kbyBwZXJmaXMgcGFyYSBnZXJhciBIVE1MLi4uJylcbiAgICAgIGNvbnN0IHByb2ZpbGVzID0gYXdhaXQgbG9hZFByb2ZpbGVzRnJvbUhpc3RvcnkoKVxuICAgICAgY29uc29sZS5sb2coYFtDQVRBTE9HXSAke3Byb2ZpbGVzLmxlbmd0aH0gcGVyZmlzIGNhcnJlZ2Fkb3NgKVxuICAgICAgXG4gICAgICBjb25zdCBodG1sQ29udGVudCA9IGF3YWl0IGdlbmVyYXRlQ2F0YWxvZ0hUTUwoY2F0YWxvZywgcHJvZmlsZXMpXG4gICAgICBcbiAgICAgIC8vIENyaWFyIGRpcmV0w7NyaW8gZGUgY2F0w6Fsb2dvcyBzZSBuw6NvIGV4aXN0aXJcbiAgICAgIGlmICghZXhpc3RzU3luYyhjYXRhbG9nc0RpcikpIHtcbiAgICAgICAgYXdhaXQgbWtkaXIoY2F0YWxvZ3NEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNhbHZhciBhcnF1aXZvIEhUTUxcbiAgICAgIGNvbnN0IGh0bWxGaWxlUGF0aCA9IHBhdGguam9pbihjYXRhbG9nc0RpciwgYCR7Y2F0YWxvZy5saW5rfS5odG1sYClcbiAgICAgIGF3YWl0IHdyaXRlRmlsZShodG1sRmlsZVBhdGgsIGh0bWxDb250ZW50LCAndXRmLTgnKVxuICAgICAgY29uc29sZS5sb2coYFtDQVRBTE9HXSBIVE1MIGdlcmFkbyBlIHNhbHZvIGVtOiAke2h0bWxGaWxlUGF0aH1gKVxuICAgIH0gY2F0Y2ggKGh0bWxFcnJvcjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQ0FUQUxPR10gRXJybyBhbyBnZXJhciBIVE1MOicsIGh0bWxFcnJvcilcbiAgICAgIC8vIENvbnRpbnVhciBtZXNtbyBzZSBmYWxoYXIgLSBvIGNhdMOhbG9nbyBhaW5kYSDDqSBjcmlhZG9cbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcbiAgICAgIHN1Y2Nlc3M6IHRydWUsIFxuICAgICAgbWVzc2FnZTogJ0NhdMOhbG9nbyBjcmlhZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgY2F0YWxvZyxcbiAgICAgIGh0bWxVcmw6IGAvY2F0YWxvZ3MvJHtjYXRhbG9nLmxpbmt9Lmh0bWxgXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gc2FsdmFyIGNvbmZpZ3VyYcOnw6NvOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGBFcnJvIGFvIHNhbHZhciBjb25maWd1cmHDp8OjbzogJHtlcnJvci5tZXNzYWdlfWAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4vLyBERUxFVEUgcmVxdWVyIGF1dGVudGljYcOnw6NvIChhcGVuYXMgYWRtaW4gcG9kZSBkZWxldGFyIGNhdMOhbG9nb3MpXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IGF1dGggPSB2ZXJpZnlBdXRoKHJlcXVlc3QpXG4gIGlmICghYXV0aC5hdXRoZW50aWNhdGVkKSB7XG4gICAgcmV0dXJuIGF1dGgucmVzcG9uc2UgfHwgTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ07Do28gYXV0ZW50aWNhZG8nIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBsaW5rIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuXG4gICAgaWYgKCFsaW5rKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdMaW5rIMOpIG9icmlnYXTDs3JpbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgbGV0IGNhdGFsb2dzID0gW11cbiAgICBpZiAoZXhpc3RzU3luYyhjb25maWdGaWxlUGF0aCkpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCByZWFkRmlsZShjb25maWdGaWxlUGF0aCwgJ3V0Zi04JylcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGNvbnRlbnQpXG4gICAgICBjYXRhbG9ncyA9IGRhdGEuY2F0YWxvZ3MgfHwgW11cbiAgICB9XG5cbiAgICBjb25zdCBvcmlnaW5hbExlbmd0aCA9IGNhdGFsb2dzLmxlbmd0aFxuICAgIGNhdGFsb2dzID0gY2F0YWxvZ3MuZmlsdGVyKChjYXQ6IGFueSkgPT4gY2F0LmxpbmsgIT09IGxpbmspXG4gICAgXG4gICAgLy8gVmVyaWZpY2FyIHNlIHJlYWxtZW50ZSByZW1vdmV1IGFsZ29cbiAgICBpZiAoY2F0YWxvZ3MubGVuZ3RoID09PSBvcmlnaW5hbExlbmd0aCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQ2F0w6Fsb2dvIG7Do28gZW5jb250cmFkbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlciBhcnF1aXZvIEhUTUwgZG8gY2F0w6Fsb2dvXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGh0bWxGaWxlUGF0aCA9IHBhdGguam9pbihjYXRhbG9nc0RpciwgYCR7bGlua30uaHRtbGApXG4gICAgICBpZiAoZXhpc3RzU3luYyhodG1sRmlsZVBhdGgpKSB7XG4gICAgICAgIGF3YWl0IHVubGluayhodG1sRmlsZVBhdGgpXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQ0FUQUxPR10gSFRNTCByZW1vdmlkbzogJHtodG1sRmlsZVBhdGh9YClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChodG1sRXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKCdbQ0FUQUxPR10gQXZpc286IE7Do28gZm9pIHBvc3PDrXZlbCByZW1vdmVyIEhUTUw6JywgaHRtbEVycm9yLm1lc3NhZ2UpXG4gICAgICAvLyBDb250aW51YXIgbWVzbW8gc2UgZmFsaGFyIC0gbyBjYXTDoWxvZ28gYWluZGEgw6kgcmVtb3ZpZG9cbiAgICB9XG5cbiAgICBjb25zdCBjb25maWdEaXIgPSBwYXRoLmRpcm5hbWUoY29uZmlnRmlsZVBhdGgpXG4gICAgaWYgKCFleGlzdHNTeW5jKGNvbmZpZ0RpcikpIHtcbiAgICAgIGF3YWl0IG1rZGlyKGNvbmZpZ0RpciwgeyByZWN1cnNpdmU6IHRydWUgfSlcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgd3JpdGVGaWxlKGNvbmZpZ0ZpbGVQYXRoLCBKU09OLnN0cmluZ2lmeSh7IGNhdGFsb2dzIH0sIG51bGwsIDIpLCAndXRmLTgnKVxuICAgIH0gY2F0Y2ggKHdyaXRlRXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS53YXJuKCdBdmlzbzogTsOjbyBmb2kgcG9zc8OtdmVsIHNhbHZhciBubyBzaXN0ZW1hIGRlIGFycXVpdm9zOicsIHdyaXRlRXJyb3IubWVzc2FnZSlcbiAgICAgIC8vIENvbnRpbnVhciBtZXNtbyBhc3NpbSAtIG5vIFZlcmNlbCBwb2RlIHNlciB0ZW1wb3LDoXJpb1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgc3VjY2VzczogdHJ1ZSwgXG4gICAgICBtZXNzYWdlOiAnQ2F0w6Fsb2dvIHJlbW92aWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIGNhdGFsb2dzOiBjYXRhbG9ncy5sZW5ndGhcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyByZW1vdmVyIGNhdMOhbG9nbzonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBgRXJybyBhbyByZW1vdmVyIGNhdMOhbG9nbzogJHtlcnJvci5tZXNzYWdlfWAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicmVhZEZpbGUiLCJ3cml0ZUZpbGUiLCJta2RpciIsInJlYWRkaXIiLCJ1bmxpbmsiLCJleGlzdHNTeW5jIiwicGF0aCIsImNyeXB0byIsInZlcmlmeUF1dGgiLCJjb25maWdGaWxlUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiY2F0YWxvZ3NEaXIiLCJwYXJzZUZvbGxvd2VycyIsImZvbGxvd2Vyc1N0ciIsImNsZWFuZWQiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIm51bSIsInBhcnNlRmxvYXQiLCJNYXRoIiwiZmxvb3IiLCJwYXJzZUludCIsImdldEdyb3VwTmFtZSIsImZvbGxvd2VycyIsImdyb3VwSyIsImNsZWFuRGlzcGxheU5hbWUiLCJuYW1lIiwidHJpbSIsIm5vcm1hbGl6ZU5hbWVGb3JDb3B5Iiwibm9ybWFsaXplIiwibG9hZFByb2ZpbGVzRnJvbUhpc3RvcnkiLCJoaXN0b3J5RGlyIiwiZmlsZXMiLCJqc29uRmlsZXMiLCJmaWx0ZXIiLCJmaWxlIiwic3RhcnRzV2l0aCIsImVuZHNXaXRoIiwic29ydCIsInJldmVyc2UiLCJsZW5ndGgiLCJsYXRlc3RKc29uRmlsZSIsImpzb25GaWxlUGF0aCIsImpzb25Db250ZW50IiwianNvbkRhdGEiLCJKU09OIiwicGFyc2UiLCJhY2NvdW50c0ZpbGVQYXRoIiwiYWNjb3VudHMiLCJhY2NvdW50c0NvbnRlbnQiLCJhY2NvdW50c0RhdGEiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJtYXRjaGluZ0FjY291bnQiLCJwcm9maWxlRW1haWwiLCJlbWFpbCIsInByb2ZpbGVOYW1lIiwiZGlzcGxheU5hbWUiLCJ1c2VybmFtZSIsImZpbmQiLCJhY2MiLCJhY2NFbWFpbCIsImFjY05hbWUiLCJhdmF0YXJVcmwiLCJhdmF0YXIiLCJsaWtlcyIsInVybCIsImlkIiwiZXJyb3IiLCJjb25zb2xlIiwiZXNjYXBlSHRtbCIsInRleHQiLCJTdHJpbmciLCJlc2NhcGVKcyIsImdlbmVyYXRlQ2F0YWxvZ0hUTUwiLCJjYXRhbG9nIiwicHJvZmlsZXMiLCJncm91cHMiLCJmb3JFYWNoIiwicHJvZmlsZSIsImZvbGxvd2Vyc051bSIsImdyb3VwTmFtZSIsInB1c2giLCJmaWx0ZXJlZEdyb3VwcyIsInNlbGVjdGVkR3JvdXBzIiwiT2JqZWN0IiwiYXNzaWduIiwidG90YWxGb2xsb3dlcnMiLCJ2YWx1ZXMiLCJncm91cFByb2ZpbGVzIiwiZm9ybWF0Rm9sbG93ZXJzIiwidG9GaXhlZCIsInRvU3RyaW5nIiwiZ3JvdXBFbnRyaWVzIiwiZW50cmllcyIsImEiLCJiIiwibnVtQSIsIm51bUIiLCJncm91cHNIVE1MIiwiZ3JvdXBEaXNwbGF5TmFtZSIsInRvVXBwZXJDYXNlIiwicHJvZmlsZXNIVE1MIiwibm9ybWFsaXplZE5hbWUiLCJjb3B5VGV4dCIsImt3YWlVcmwiLCJzcGxpdCIsInNhZmVEaXNwbGF5TmFtZSIsInNhZmVBdmF0YXIiLCJzYWZlRm9sbG93ZXJzIiwic2FmZUxpa2VzIiwic2FmZUlkIiwic2FmZUNvcHlUZXh0Iiwic2FmZUt3YWlVcmwiLCJmaXJzdExldHRlciIsIm51bWJlciIsIkdFVCIsImpzb24iLCJjYXRhbG9ncyIsImNvbnRlbnQiLCJyZWFkRXJyb3IiLCJkYXRhIiwicGFyc2VFcnJvciIsIm5vdyIsIkRhdGUiLCJhY3RpdmVDYXRhbG9ncyIsImNhdCIsImV4cGlyZXNBdCIsImUiLCJjb25maWdEaXIiLCJkaXJuYW1lIiwicmVjdXJzaXZlIiwic3RyaW5naWZ5Iiwid3JpdGVFcnJvciIsIndhcm4iLCJtZXNzYWdlIiwiUE9TVCIsInJlcXVlc3QiLCJhdXRoIiwiYXV0aGVudGljYXRlZCIsInJlc3BvbnNlIiwic3RhdHVzIiwiZXhwaXJhdGlvbk1pbnV0ZXMiLCJjYXRhbG9nTmFtZSIsInJhbmRvbUxpbmsiLCJyYW5kb21CeXRlcyIsInJhbmRvbU51bWJlciIsImlzVW5pcXVlIiwicmFuZG9tIiwic29tZSIsImN1cnJlbnRUaW1lIiwiZXhwaXJlc0F0VGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJsb2ciLCJsaW5rIiwiY3JlYXRlZEF0IiwiYWN0aXZlIiwiZ2V0VGltZSIsImh0bWxDb250ZW50IiwiaHRtbEZpbGVQYXRoIiwiaHRtbEVycm9yIiwic3VjY2VzcyIsImh0bWxVcmwiLCJERUxFVEUiLCJvcmlnaW5hbExlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/catalog-config/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   verifyAuth: () => (/* binding */ verifyAuth)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nfunction verifyAuth(request) {\n    try {\n        const authToken = request.cookies.get(\"auth-token\");\n        if (authToken && authToken.value === \"authenticated\") {\n            return {\n                authenticated: true\n            };\n        }\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"N\\xe3o autenticado\"\n            }, {\n                status: 401\n            })\n        };\n    } catch (error) {\n        console.error(\"Erro ao verificar autentica\\xe7\\xe3o:\", error);\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Erro ao verificar autentica\\xe7\\xe3o\"\n            }, {\n                status: 500\n            })\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RDtBQUVoRCxTQUFTQyxXQUFXQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsWUFBWUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFFdEMsSUFBSUYsYUFBYUEsVUFBVUcsS0FBSyxLQUFLLGlCQUFpQjtZQUNwRCxPQUFPO2dCQUFFQyxlQUFlO1lBQUs7UUFDL0I7UUFFQSxPQUFPO1lBQ0xBLGVBQWU7WUFDZkMsVUFBVVIscURBQVlBLENBQUNTLElBQUksQ0FDekI7Z0JBQUVDLE9BQU87WUFBa0IsR0FDM0I7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtJQUNGLEVBQUUsT0FBT0QsT0FBWTtRQUNuQkUsUUFBUUYsS0FBSyxDQUFDLHlDQUFtQ0E7UUFDakQsT0FBTztZQUNMSCxlQUFlO1lBQ2ZDLFVBQVVSLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3pCO2dCQUFFQyxPQUFPO1lBQWlDLEdBQzFDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3dhaS1wcm9maWxlLWFuYWx5emVyLy4vbGliL2F1dGgudHM/YmY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlBdXRoKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogeyBhdXRoZW50aWNhdGVkOiBib29sZWFuOyByZXNwb25zZT86IE5leHRSZXNwb25zZSB9IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhdXRoVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhdXRoLXRva2VuJylcbiAgICBcbiAgICBpZiAoYXV0aFRva2VuICYmIGF1dGhUb2tlbi52YWx1ZSA9PT0gJ2F1dGhlbnRpY2F0ZWQnKSB7XG4gICAgICByZXR1cm4geyBhdXRoZW50aWNhdGVkOiB0cnVlIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTsOjbyBhdXRlbnRpY2FkbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyB2ZXJpZmljYXIgYXV0ZW50aWNhw6fDo286JywgZXJyb3IpXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRXJybyBhbyB2ZXJpZmljYXIgYXV0ZW50aWNhw6fDo28nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZlcmlmeUF1dGgiLCJyZXF1ZXN0IiwiYXV0aFRva2VuIiwiY29va2llcyIsImdldCIsInZhbHVlIiwiYXV0aGVudGljYXRlZCIsInJlc3BvbnNlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcatalog-config%2Froute&page=%2Fapi%2Fcatalog-config%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcatalog-config%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();