/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze/route";
exports.ids = ["app/api/analyze/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:assert");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:console":
/*!*******************************!*\
  !*** external "node:console" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:console");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:dns":
/*!***************************!*\
  !*** external "node:dns" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:dns");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:http2":
/*!*****************************!*\
  !*** external "node:http2" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http2");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:perf_hooks":
/*!**********************************!*\
  !*** external "node:perf_hooks" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:perf_hooks");

/***/ }),

/***/ "node:querystring":
/*!***********************************!*\
  !*** external "node:querystring" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:querystring");

/***/ }),

/***/ "node:sqlite":
/*!******************************!*\
  !*** external "node:sqlite" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:sqlite");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:timers":
/*!******************************!*\
  !*** external "node:timers" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:timers");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:tls");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:util/types":
/*!**********************************!*\
  !*** external "node:util/types" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util/types");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "?4c03":
/*!***********************!*\
  !*** debug (ignored) ***!
  \***********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_danie_Desktop_kwai_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analyze/route.ts */ \"(rsc)/./app/api/analyze/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze/route\",\n        pathname: \"/api/analyze\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\danie\\\\Desktop\\\\kwai\\\\app\\\\api\\\\analyze\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_danie_Desktop_kwai_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analyze/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNZO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3dhaS1wcm9maWxlLWFuYWx5emVyLz8zNWU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGRhbmllXFxcXERlc2t0b3BcXFxca3dhaVxcXFxhcHBcXFxcYXBpXFxcXGFuYWx5emVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FuYWx5emUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXplXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hbmFseXplL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcZGFuaWVcXFxcRGVza3RvcFxcXFxrd2FpXFxcXGFwcFxcXFxhcGlcXFxcYW5hbHl6ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl6ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analyze/route.ts":
/*!**********************************!*\
  !*** ./app/api/analyze/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/esm/index.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n\n// Fun√ß√£o para validar se um n√∫mero √© v√°lido (n√£o √© 0, vazio ou N/A)\nfunction isValidNumber(value) {\n    if (!value) return false;\n    const str = String(value).trim().toUpperCase();\n    if (str === \"\" || str === \"N/A\" || str === \"0\" || str === \"NULL\" || str === \"UNDEFINED\") return false;\n    const num = parseInt(str.replace(/[^\\d]/g, \"\"));\n    return num > 0;\n}\n// Fun√ß√£o para normalizar n√∫mero (remove pontos, v√≠rgulas, mas mant√©m K/M/B)\nfunction normalizeNumber(value) {\n    if (!value) return \"\";\n    let normalized = value.trim();\n    // Se tem K, M, B no final, manter\n    const hasSuffix = /[kmbKM]$/i.test(normalized);\n    const suffix = hasSuffix ? normalized.slice(-1).toUpperCase() : \"\";\n    const numberPart = hasSuffix ? normalized.slice(0, -1) : normalized;\n    // Remover pontos e v√≠rgulas do n√∫mero, mas manter o n√∫mero\n    const cleanNumber = numberPart.replace(/[^\\d]/g, \"\");\n    return cleanNumber + suffix;\n}\n// Fun√ß√£o para esperar (delay)\nfunction sleep(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\n// Fun√ß√£o principal de extra√ß√£o\nasync function extractProfileData(url, retryCount = 0) {\n    const MAX_RETRIES = 5;\n    const DELAY_BETWEEN_RETRIES = 3000 // 3 segundos entre tentativas\n    ;\n    try {\n        // Normalizar URL - suportar m√∫ltiplos formatos\n        let normalizedUrl = url.trim();\n        // Remover espa√ßos e garantir que tem protocolo\n        if (!normalizedUrl.startsWith(\"http://\") && !normalizedUrl.startsWith(\"https://\")) {\n            normalizedUrl = \"https://\" + normalizedUrl;\n        }\n        // Se j√° for kwai-video.com ou k.kwai.com com formato completo, manter como est√°\n        if (normalizedUrl.includes(\"kwai-video.com/u/@\") || normalizedUrl.includes(\"k.kwai.com/u/@\")) {\n            // J√° est√° no formato correto, s√≥ garantir que tem https\n            if (!normalizedUrl.startsWith(\"https://\")) {\n                normalizedUrl = normalizedUrl.replace(/^http:\\/\\//, \"https://\");\n            }\n            console.log(`URL j√° est√° no formato correto: ${normalizedUrl}`);\n        // Continuar com a URL como est√°\n        } else if (normalizedUrl.includes(\"www.kwai.com\")) {\n            // Converter www.kwai.com para k.kwai.com\n            // Extrair username de qualquer formato\n            let username = \"\";\n            // Tentar extrair de @username\n            const usernameMatch1 = normalizedUrl.match(/@([^\\/\\?&#]+)/);\n            if (usernameMatch1) {\n                username = usernameMatch1[1];\n            } else {\n                // Tentar extrair de /@username ou /username\n                const usernameMatch2 = normalizedUrl.match(/\\/(?:u\\/)?@?([^\\/\\?&#]+)/);\n                if (usernameMatch2) {\n                    username = usernameMatch2[1].replace(\"@\", \"\");\n                }\n            }\n            if (username) {\n                normalizedUrl = `https://k.kwai.com/u/@${username}`;\n                console.log(`URL normalizada de ${url} para ${normalizedUrl}`);\n            } else {\n                console.warn(`N√£o foi poss√≠vel extrair username de: ${normalizedUrl}`);\n            }\n        } else if (normalizedUrl.includes(\"k.kwai.com\") && !normalizedUrl.includes(\"/u/@\")) {\n            // Garantir formato correto se j√° for k.kwai.com mas sem /u/\n            const usernameMatch = normalizedUrl.match(/@([^\\/\\?&#]+)/);\n            if (usernameMatch) {\n                normalizedUrl = `https://k.kwai.com/u/@${usernameMatch[1]}`;\n                console.log(`URL ajustada para formato completo: ${normalizedUrl}`);\n            }\n        }\n        const headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n            \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n            \"Accept-Language\": \"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7\",\n            \"Accept-Encoding\": \"gzip, deflate, br\",\n            \"Connection\": \"keep-alive\",\n            \"Upgrade-Insecure-Requests\": \"1\",\n            \"Referer\": \"https://www.kwai.com/\",\n            \"Sec-Fetch-Dest\": \"document\",\n            \"Sec-Fetch-Mode\": \"navigate\",\n            \"Sec-Fetch-Site\": \"same-site\"\n        };\n        // Aguardar antes de fazer requisi√ß√£o (dar tempo para rede)\n        if (retryCount > 0) {\n            console.log(`[${normalizedUrl}] Tentativa ${retryCount + 1}/${MAX_RETRIES} - Aguardando ${DELAY_BETWEEN_RETRIES}ms...`);\n            await sleep(DELAY_BETWEEN_RETRIES);\n        }\n        // Fazer requisi√ß√£o com timeout maior\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(normalizedUrl, {\n            headers,\n            timeout: 20000,\n            maxRedirects: 5,\n            validateStatus: function(status) {\n                return status >= 200 && status < 500 // Aceitar at√© 4xx para ver o que retorna\n                ;\n            }\n        });\n        // Verificar se a resposta foi v√°lida\n        if (response.status >= 400) {\n            console.log(`[${normalizedUrl}] Status HTTP: ${response.status}`);\n            throw new Error(`Status HTTP ${response.status}: ${response.statusText}`);\n        }\n        // Aguardar um pouco ap√≥s receber resposta para garantir que HTML foi processado\n        await sleep(1000);\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const html = response.data;\n        // Debug: Salvar HTML parcial em caso de erro (primeiros 5000 caracteres)\n        if (retryCount === MAX_RETRIES - 1) {\n            console.log(`[${normalizedUrl}] HTML Sample (first 2000 chars):`, html.substring(0, 2000));\n        }\n        const profileData = {\n            username: \"\",\n            displayName: \"\",\n            avatar: \"\",\n            followers: \"\",\n            likes: \"\",\n            bio: \"\",\n            verified: false\n        };\n        // Extrair username da URL\n        const usernameMatch = normalizedUrl.match(/@([^\\/\\?]+)/);\n        if (usernameMatch) {\n            profileData.username = usernameMatch[1];\n        }\n        // ESTRAT√âGIA 1: Meta Tags Open Graph\n        profileData.displayName = $('meta[property=\"og:title\"]').attr(\"content\") || \"\";\n        let avatarUrl = $('meta[property=\"og:image\"]').attr(\"content\") || \"\";\n        // Garantir HTTPS\n        if (avatarUrl && avatarUrl.startsWith(\"http://\")) {\n            avatarUrl = avatarUrl.replace(\"http://\", \"https://\");\n        }\n        profileData.avatar = avatarUrl;\n        const metaDescription = $('meta[property=\"og:description\"]').attr(\"content\") || $('meta[name=\"description\"]').attr(\"content\") || \"\";\n        profileData.bio = metaDescription;\n        console.log(`[${profileData.username}] Tentativa ${retryCount + 1} - Iniciando extra√ß√£o...`);\n        // ESTRAT√âGIA 2: Extrair da meta description (formato: \"44988 Curtidas. 4815 Seguidores.\")\n        if (metaDescription) {\n            console.log(`[${profileData.username}] Meta Description:`, metaDescription.substring(0, 200));\n            // Padr√µes mais flex√≠veis para meta description\n            const descLikesPatterns = [\n                /(\\d+[\\d\\.\\,]*)\\s*Curtidas/i,\n                /Curtidas[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*likes/i,\n                /likes[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*Like/i\n            ];\n            for (const pattern of descLikesPatterns){\n                const match = metaDescription.match(pattern);\n                if (match && isValidNumber(match[1])) {\n                    profileData.likes = normalizeNumber(match[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Likes da meta description:`, profileData.likes);\n                    break;\n                }\n            }\n            const descFollowersPatterns = [\n                /(\\d+[\\d\\.\\,]*)\\s*Seguidores/i,\n                /Seguidores[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*followers/i,\n                /followers[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*Follower/i,\n                /(\\d+[\\d\\.\\,]*)\\s*fans/i,\n                /fans[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i\n            ];\n            for (const pattern of descFollowersPatterns){\n                const match = metaDescription.match(pattern);\n                if (match && isValidNumber(match[1])) {\n                    profileData.followers = normalizeNumber(match[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Followers da meta description:`, profileData.followers);\n                    break;\n                }\n            }\n        }\n        // ESTRAT√âGIA 3: Buscar em todo o texto da p√°gina\n        const pageText = $.text();\n        const fullText = pageText + \" \" + metaDescription + \" \" + html;\n        // Padr√µes mais flex√≠veis para seguidores\n        const followersPatterns = [\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*Seguidores/i,\n            /Seguidores[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*(?:seguidores|followers|f√£s|fans)/i,\n            /(?:seguidores|followers|f√£s|fans)[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*follower/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*fan/i,\n            /\"followers\"[:\\s]*\"(\\d+[kKmM]?)\"/i,\n            /'followers'[:\\s]*'(\\d+[kKmM]?)'/i\n        ];\n        if (!isValidNumber(profileData.followers)) {\n            for (const pattern of followersPatterns){\n                const matches = fullText.match(pattern);\n                if (matches && matches[1] && isValidNumber(matches[1])) {\n                    profileData.followers = normalizeNumber(matches[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Followers encontrado no texto:`, profileData.followers);\n                    break;\n                }\n            }\n        }\n        // Padr√µes mais flex√≠veis para curtidas\n        const likesPatterns = [\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*Curtidas/i,\n            /Curtidas[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*(?:curtidas|likes|liked)/i,\n            /(?:curtidas|likes|liked)[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*like/i,\n            /\"likes\"[:\\s]*\"(\\d+[kKmM]?)\"/i,\n            /'likes'[:\\s]*'(\\d+[kKmM]?)'/i,\n            /\"likeCount\"[:\\s]*\"(\\d+[kKmM]?)\"/i,\n            /\"totalLikes\"[:\\s]*\"(\\d+[kKmM]?)\"/i\n        ];\n        if (!isValidNumber(profileData.likes)) {\n            for (const pattern of likesPatterns){\n                const matches = fullText.match(pattern);\n                if (matches && matches[1] && isValidNumber(matches[1])) {\n                    profileData.likes = normalizeNumber(matches[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Likes encontrado no texto:`, profileData.likes);\n                    break;\n                }\n            }\n        }\n        // ESTRAT√âGIA 4: Buscar em scripts JavaScript (JSON embutido)\n        const scripts = $(\"script\").toArray();\n        let allScriptContent = \"\";\n        for (const script of scripts){\n            const scriptContent = $(script).html() || \"\";\n            allScriptContent += scriptContent + \"\\n\";\n            // Buscar JSON patterns\n            const jsonPatterns = [\n                /window\\.__INITIAL_STATE__\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.__PRELOADED_STATE__\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.__NUXT__\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.__NEXT_DATA__\\s*=\\s*({[\\s\\S]+?});/,\n                /var\\s+__USER__\\s*=\\s*({[\\s\\S]+?});/,\n                /\"user\"\\s*:\\s*({[\\s\\S]+?})/,\n                /\"profile\"\\s*:\\s*({[\\s\\S]+?})/,\n                /window\\.initialProps\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.pageProps\\s*=\\s*({[\\s\\S]+?});/,\n                /\\{\"user\"[^}]+\\}/,\n                /user[\"\\']?\\s*[:=]\\s*(\\{[^}]+\\})/\n            ];\n            for (const pattern of jsonPatterns){\n                const jsonMatches = scriptContent.match(pattern);\n                if (jsonMatches) {\n                    try {\n                        let data;\n                        const jsonStr = jsonMatches[1].trim();\n                        if (jsonStr.startsWith(\"{\")) {\n                            try {\n                                data = JSON.parse(jsonStr);\n                            } catch  {\n                                const fullMatch = scriptContent.match(/\\{[^{}]*\"user\"[^{}]*\\}/);\n                                if (fullMatch) {\n                                    try {\n                                        data = JSON.parse(fullMatch[0]);\n                                    } catch  {}\n                                }\n                            }\n                        }\n                        if (data) {\n                            const userData = data.user || data.profile || data.data?.user || data.data?.profile || data.result?.user || data.result?.profile || data.content?.user || data.initialState?.user || data.pageProps?.user || data;\n                            if (userData && typeof userData === \"object\") {\n                                // Extrair followers com valida√ß√£o\n                                const followerCandidates = [\n                                    userData.followerCount,\n                                    userData.followersCount,\n                                    userData.followers,\n                                    userData.fanCount,\n                                    userData.fan_count,\n                                    userData.fans,\n                                    userData.totalFollowers,\n                                    userData.follower_count\n                                ];\n                                for (const candidate of followerCandidates){\n                                    if (candidate !== undefined && candidate !== null && isValidNumber(String(candidate))) {\n                                        profileData.followers = normalizeNumber(String(candidate));\n                                        console.log(`[${profileData.username}] ‚úÖ Followers do JSON:`, profileData.followers);\n                                        break;\n                                    }\n                                }\n                                // Extrair likes com valida√ß√£o\n                                const likeCandidates = [\n                                    userData.likeCount,\n                                    userData.totalLikes,\n                                    userData.likes,\n                                    userData.receivedLikeCount,\n                                    userData.like_count,\n                                    userData.total_likes\n                                ];\n                                for (const candidate of likeCandidates){\n                                    if (candidate !== undefined && candidate !== null && isValidNumber(String(candidate))) {\n                                        profileData.likes = normalizeNumber(String(candidate));\n                                        console.log(`[${profileData.username}] ‚úÖ Likes do JSON:`, profileData.likes);\n                                        break;\n                                    }\n                                }\n                                let avatarFromJson = profileData.avatar || userData.avatar || userData.avatarUrl || userData.profilePic || userData.headUrl || userData.head || userData.profile_image || userData.image || userData.picture || \"\";\n                                // Garantir HTTPS\n                                if (avatarFromJson && avatarFromJson.startsWith(\"http://\")) {\n                                    avatarFromJson = avatarFromJson.replace(\"http://\", \"https://\");\n                                }\n                                profileData.avatar = avatarFromJson;\n                                profileData.displayName = profileData.displayName || userData.nickname || userData.name || userData.displayName || userData.userName || userData.username || userData.title || \"\";\n                                profileData.bio = profileData.bio || userData.signature || userData.description || userData.bio || userData.about || userData.intro || \"\";\n                                profileData.verified = profileData.verified || userData.verified || userData.isVerified || userData.verified_status || false;\n                                if (!profileData.username && userData.uniqueId) {\n                                    profileData.username = userData.uniqueId.replace(\"@\", \"\");\n                                } else if (!profileData.username && userData.username) {\n                                    profileData.username = userData.username.replace(\"@\", \"\");\n                                }\n                            }\n                        }\n                    } catch (e) {\n                    // Continuar tentando\n                    }\n                }\n            }\n        }\n        // ESTRAT√âGIA 5: Buscar padr√µes espec√≠ficos do Kwai em scripts\n        const kwaiPatterns = {\n            followers: [\n                /[\"']followerCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']followers[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']fanCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /followerCount[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /followers[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /fanCount[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /(\\d+[\\.,]?\\d*[kKmMbB]?)\\s*follower/i,\n                /(\\d+[\\.,]?\\d*[kKmMbB]?)\\s*fan/i\n            ],\n            likes: [\n                /[\"']likeCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']totalLikes[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']receivedLikeCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /likeCount[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /likes[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /(\\d+[\\.,]?\\d*[kKmMbB]?)\\s*like/i\n            ]\n        };\n        for (const [key, patterns] of Object.entries(kwaiPatterns)){\n            if (!isValidNumber(profileData[key])) {\n                for (const pattern of patterns){\n                    const matches = allScriptContent.match(pattern);\n                    if (matches && matches[1] && isValidNumber(matches[1])) {\n                        profileData[key] = normalizeNumber(matches[1]);\n                        console.log(`[${profileData.username}] ‚úÖ ${key} encontrado em script:`, profileData[key]);\n                        break;\n                    }\n                }\n            }\n        }\n        // ESTRAT√âGIA 6: Buscar em atributos HTML e data-attributes\n        if (!isValidNumber(profileData.followers)) {\n            const followersSelectors = [\n                '[class*=\"follower\"]',\n                '[class*=\"fan\"]',\n                \"[data-followers]\",\n                \"[data-follower-count]\",\n                \"[data-fan-count]\",\n                '[id*=\"follower\"]'\n            ];\n            for (const selector of followersSelectors){\n                const elements = $(selector);\n                for(let i = 0; i < elements.length; i++){\n                    const el = $(elements[i]);\n                    const text = el.text() || el.attr(\"data-followers\") || el.attr(\"data-follower-count\") || \"\";\n                    const match = text.match(/(\\d+[\\d\\.\\,]*[kKmM]?)/i);\n                    if (match && isValidNumber(match[1])) {\n                        profileData.followers = normalizeNumber(match[1]);\n                        console.log(`[${profileData.username}] ‚úÖ Followers encontrado em elemento HTML:`, profileData.followers);\n                        break;\n                    }\n                    if (profileData.followers) break;\n                }\n                if (profileData.followers) break;\n            }\n        }\n        if (!isValidNumber(profileData.likes)) {\n            const likesSelectors = [\n                '[class*=\"like\"]',\n                \"[data-likes]\",\n                \"[data-like-count]\",\n                '[id*=\"like\"]',\n                '[class*=\"curtida\"]'\n            ];\n            for (const selector of likesSelectors){\n                const elements = $(selector);\n                for(let i = 0; i < elements.length; i++){\n                    const el = $(elements[i]);\n                    const text = el.text() || el.attr(\"data-likes\") || el.attr(\"data-like-count\") || \"\";\n                    const match = text.match(/(\\d+[\\d\\.\\,]*[kKmM]?)/i);\n                    if (match && isValidNumber(match[1])) {\n                        profileData.likes = normalizeNumber(match[1]);\n                        console.log(`[${profileData.username}] ‚úÖ Likes encontrado em elemento HTML:`, profileData.likes);\n                        break;\n                    }\n                    if (profileData.likes) break;\n                }\n                if (profileData.likes) break;\n            }\n        }\n        // ESTRAT√âGIA 7: Buscar avatar\n        if (!profileData.avatar || profileData.avatar === \"\") {\n            const avatarSelectors = [\n                'img[alt*=\"profile\"]',\n                'img[alt*=\"avatar\"]',\n                \".avatar img\",\n                \".profile-img img\",\n                '[class*=\"avatar\"] img',\n                '[class*=\"profile\"] img',\n                'img[src*=\"avatar\"]',\n                'img[src*=\"head\"]',\n                'img[src*=\"profile\"]'\n            ];\n            for (const selector of avatarSelectors){\n                const img = $(selector).first();\n                let src = img.attr(\"src\") || img.attr(\"data-src\") || img.attr(\"data-lazy-src\") || \"\";\n                if (src && src.includes(\"http\")) {\n                    // Garantir que a URL seja HTTPS\n                    if (src.startsWith(\"http://\")) {\n                        src = src.replace(\"http://\", \"https://\");\n                    }\n                    profileData.avatar = src;\n                    break;\n                }\n            }\n        }\n        // VALIDA√á√ÉO FINAL: Verificar se encontrou dados v√°lidos\n        const hasValidFollowers = isValidNumber(profileData.followers);\n        const hasValidLikes = isValidNumber(profileData.likes);\n        console.log(`[${profileData.username}] Resultado tentativa ${retryCount + 1}:`, {\n            followers: hasValidFollowers ? profileData.followers : \"INV\\xc1LIDO\",\n            likes: hasValidLikes ? profileData.likes : \"INV\\xc1LIDO\",\n            displayName: profileData.displayName,\n            metaDescription: metaDescription?.substring(0, 100) || \"N/A\"\n        });\n        // Se n√£o encontrou dados v√°lidos, tentar uma √∫ltima busca agressiva antes de desistir\n        if (!hasValidFollowers || !hasValidLikes) {\n            // Buscar TODOS os n√∫meros na p√°gina e tentar identificar pelo contexto\n            const allNumbers = fullText.match(/\\d+[\\d\\.\\,]*[kKmM]?/g) || [];\n            console.log(`[${profileData.username}] N√∫meros encontrados na p√°gina:`, allNumbers.slice(0, 20));\n            // Procurar padr√µes espec√≠ficos que podem estar escondidos\n            const hiddenPatterns = [\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*followers?\\s*/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*seguidores?\\s*/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*likes?\\s*/gi,\n                    type: \"likes\"\n                },\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*curtidas?\\s*/gi,\n                    type: \"likes\"\n                },\n                {\n                    pattern: /followers?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /seguidores?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /likes?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"likes\"\n                },\n                {\n                    pattern: /curtidas?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"likes\"\n                }\n            ];\n            for (const { pattern, type } of hiddenPatterns){\n                const matches = Array.from(fullText.matchAll(pattern));\n                for (const match of matches){\n                    if (match[1] && isValidNumber(match[1])) {\n                        const value = normalizeNumber(match[1]);\n                        if (type === \"followers\" && !hasValidFollowers) {\n                            profileData.followers = value;\n                            console.log(`[${profileData.username}] ‚úÖ Followers encontrado em padr√£o oculto:`, value);\n                        } else if (type === \"likes\" && !hasValidLikes) {\n                            profileData.likes = value;\n                            console.log(`[${profileData.username}] ‚úÖ Likes encontrado em padr√£o oculto:`, value);\n                        }\n                    }\n                }\n            }\n        }\n        const finalHasValidFollowers = isValidNumber(profileData.followers);\n        const finalHasValidLikes = isValidNumber(profileData.likes);\n        // Se n√£o encontrou dados v√°lidos e ainda tem tentativas, tentar novamente\n        if ((!finalHasValidFollowers || !finalHasValidLikes) && retryCount < MAX_RETRIES) {\n            console.log(`[${profileData.username}] ‚ö†Ô∏è Dados inv√°lidos encontrados ap√≥s todas estrat√©gias. Tentando novamente...`);\n            await sleep(2000) // Aguardar um pouco mais antes de tentar novamente\n            ;\n            return extractProfileData(url, retryCount + 1);\n        }\n        // Se ainda n√£o tem dados v√°lidos ap√≥s todas tentativas, retornar vazio\n        if (!hasValidFollowers) {\n            profileData.followers = \"\";\n        }\n        if (!hasValidLikes) {\n            profileData.likes = \"\";\n        }\n        return profileData;\n    } catch (error) {\n        // Se deu erro e ainda tem tentativas, tentar novamente\n        if (retryCount < MAX_RETRIES) {\n            console.log(`[${url}] Erro na tentativa ${retryCount + 1}: ${error.message}. Tentando novamente...`);\n            return extractProfileData(url, retryCount + 1);\n        }\n        throw error;\n    }\n}\nasync function POST(request) {\n    const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.verifyAuth)(request);\n    if (!auth.authenticated) {\n        return auth.response;\n    }\n    try {\n        const { url } = await request.json();\n        if (!url) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"URL \\xe9 obrigat\\xf3ria\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(`\\nüîç Iniciando an√°lise de: ${url}`);\n        const profileData = await extractProfileData(url, 0);\n        console.log(`‚úÖ An√°lise conclu√≠da para: ${profileData.username}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(profileData);\n    } catch (error) {\n        console.error(\"‚ùå Erro ao extrair dados:\", error.message);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Erro ao analisar perfil: ${error.message}`\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUU4SCxNQUFNQyxPQUFPLENBQUMsdUJBQXVCLENBQUM7WUFDbkcsT0FBT2pJLG1CQUFtQkMsS0FBS0MsYUFBYTtRQUM5QztRQUVBLE1BQU04SDtJQUNSO0FBQ0Y7QUFFTyxlQUFlRSxLQUFLQyxPQUFvQjtJQUM3QyxNQUFNQyxPQUFPM0oscURBQVVBLENBQUMwSjtJQUN4QixJQUFJLENBQUNDLEtBQUtDLGFBQWEsRUFBRTtRQUN2QixPQUFPRCxLQUFLbkgsUUFBUTtJQUN0QjtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVoQixHQUFHLEVBQUUsR0FBRyxNQUFNa0ksUUFBUUcsSUFBSTtRQUVsQyxJQUFJLENBQUNySSxLQUFLO1lBQ1IsT0FBTzNCLHFEQUFZQSxDQUFDZ0ssSUFBSSxDQUN0QjtnQkFBRU4sT0FBTztZQUFvQixHQUM3QjtnQkFBRTFHLFFBQVE7WUFBSTtRQUVsQjtRQUVBZCxRQUFRQyxHQUFHLENBQUMsQ0FBQywyQkFBMkIsRUFBRVIsSUFBSSxDQUFDO1FBQy9DLE1BQU02QixjQUFjLE1BQU05QixtQkFBbUJDLEtBQUs7UUFFbERPLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDBCQUEwQixFQUFFcUIsWUFBWXBCLFFBQVEsQ0FBQyxDQUFDO1FBRS9ELE9BQU9wQyxxREFBWUEsQ0FBQ2dLLElBQUksQ0FBQ3hHO0lBQzNCLEVBQUUsT0FBT2tHLE9BQVk7UUFDbkJ4SCxRQUFRd0gsS0FBSyxDQUFDLDRCQUE0QkEsTUFBTUMsT0FBTztRQUN2RCxPQUFPM0oscURBQVlBLENBQUNnSyxJQUFJLENBQ3RCO1lBQUVOLE9BQU8sQ0FBQyx5QkFBeUIsRUFBRUEsTUFBTUMsT0FBTyxDQUFDLENBQUM7UUFBQyxHQUNyRDtZQUFFM0csUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rd2FpLXByb2ZpbGUtYW5hbHl6ZXIvLi9hcHAvYXBpL2FuYWx5emUvcm91dGUudHM/NDZiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnXG5pbXBvcnQgKiBhcyBjaGVlcmlvIGZyb20gJ2NoZWVyaW8nXG5pbXBvcnQgeyB2ZXJpZnlBdXRoIH0gZnJvbSAnQC9saWIvYXV0aCdcblxuLy8gRnVuw6fDo28gcGFyYSB2YWxpZGFyIHNlIHVtIG7Dum1lcm8gw6kgdsOhbGlkbyAobsOjbyDDqSAwLCB2YXppbyBvdSBOL0EpXG5mdW5jdGlvbiBpc1ZhbGlkTnVtYmVyKHZhbHVlOiBzdHJpbmcgfCBudW1iZXIpOiBib29sZWFuIHtcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIGZhbHNlXG4gIGNvbnN0IHN0ciA9IFN0cmluZyh2YWx1ZSkudHJpbSgpLnRvVXBwZXJDYXNlKClcbiAgaWYgKHN0ciA9PT0gJycgfHwgc3RyID09PSAnTi9BJyB8fCBzdHIgPT09ICcwJyB8fCBzdHIgPT09ICdOVUxMJyB8fCBzdHIgPT09ICdVTkRFRklORUQnKSByZXR1cm4gZmFsc2VcbiAgY29uc3QgbnVtID0gcGFyc2VJbnQoc3RyLnJlcGxhY2UoL1teXFxkXS9nLCAnJykpXG4gIHJldHVybiBudW0gPiAwXG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgbm9ybWFsaXphciBuw7ptZXJvIChyZW1vdmUgcG9udG9zLCB2w61yZ3VsYXMsIG1hcyBtYW50w6ltIEsvTS9CKVxuZnVuY3Rpb24gbm9ybWFsaXplTnVtYmVyKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gJydcbiAgbGV0IG5vcm1hbGl6ZWQgPSB2YWx1ZS50cmltKClcbiAgXG4gIC8vIFNlIHRlbSBLLCBNLCBCIG5vIGZpbmFsLCBtYW50ZXJcbiAgY29uc3QgaGFzU3VmZml4ID0gL1trbWJLTV0kL2kudGVzdChub3JtYWxpemVkKVxuICBjb25zdCBzdWZmaXggPSBoYXNTdWZmaXggPyBub3JtYWxpemVkLnNsaWNlKC0xKS50b1VwcGVyQ2FzZSgpIDogJydcbiAgY29uc3QgbnVtYmVyUGFydCA9IGhhc1N1ZmZpeCA/IG5vcm1hbGl6ZWQuc2xpY2UoMCwgLTEpIDogbm9ybWFsaXplZFxuICBcbiAgLy8gUmVtb3ZlciBwb250b3MgZSB2w61yZ3VsYXMgZG8gbsO6bWVybywgbWFzIG1hbnRlciBvIG7Dum1lcm9cbiAgY29uc3QgY2xlYW5OdW1iZXIgPSBudW1iZXJQYXJ0LnJlcGxhY2UoL1teXFxkXS9nLCAnJylcbiAgXG4gIHJldHVybiBjbGVhbk51bWJlciArIHN1ZmZpeFxufVxuXG4vLyBGdW7Dp8OjbyBwYXJhIGVzcGVyYXIgKGRlbGF5KVxuZnVuY3Rpb24gc2xlZXAobXM6IG51bWJlcikge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSlcbn1cblxuLy8gRnVuw6fDo28gcHJpbmNpcGFsIGRlIGV4dHJhw6fDo29cbmFzeW5jIGZ1bmN0aW9uIGV4dHJhY3RQcm9maWxlRGF0YSh1cmw6IHN0cmluZywgcmV0cnlDb3VudDogbnVtYmVyID0gMCk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IE1BWF9SRVRSSUVTID0gNVxuICBjb25zdCBERUxBWV9CRVRXRUVOX1JFVFJJRVMgPSAzMDAwIC8vIDMgc2VndW5kb3MgZW50cmUgdGVudGF0aXZhc1xuICBcbiAgdHJ5IHtcbiAgICAvLyBOb3JtYWxpemFyIFVSTCAtIHN1cG9ydGFyIG3Dumx0aXBsb3MgZm9ybWF0b3NcbiAgICBsZXQgbm9ybWFsaXplZFVybCA9IHVybC50cmltKClcbiAgICBcbiAgICAvLyBSZW1vdmVyIGVzcGHDp29zIGUgZ2FyYW50aXIgcXVlIHRlbSBwcm90b2NvbG9cbiAgICBpZiAoIW5vcm1hbGl6ZWRVcmwuc3RhcnRzV2l0aCgnaHR0cDovLycpICYmICFub3JtYWxpemVkVXJsLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcbiAgICAgIG5vcm1hbGl6ZWRVcmwgPSAnaHR0cHM6Ly8nICsgbm9ybWFsaXplZFVybFxuICAgIH1cbiAgICBcbiAgICAvLyBTZSBqw6EgZm9yIGt3YWktdmlkZW8uY29tIG91IGsua3dhaS5jb20gY29tIGZvcm1hdG8gY29tcGxldG8sIG1hbnRlciBjb21vIGVzdMOhXG4gICAgaWYgKG5vcm1hbGl6ZWRVcmwuaW5jbHVkZXMoJ2t3YWktdmlkZW8uY29tL3UvQCcpIHx8IG5vcm1hbGl6ZWRVcmwuaW5jbHVkZXMoJ2sua3dhaS5jb20vdS9AJykpIHtcbiAgICAgIC8vIErDoSBlc3TDoSBubyBmb3JtYXRvIGNvcnJldG8sIHPDsyBnYXJhbnRpciBxdWUgdGVtIGh0dHBzXG4gICAgICBpZiAoIW5vcm1hbGl6ZWRVcmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xuICAgICAgICBub3JtYWxpemVkVXJsID0gbm9ybWFsaXplZFVybC5yZXBsYWNlKC9eaHR0cDpcXC9cXC8vLCAnaHR0cHM6Ly8nKVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coYFVSTCBqw6EgZXN0w6Egbm8gZm9ybWF0byBjb3JyZXRvOiAke25vcm1hbGl6ZWRVcmx9YClcbiAgICAgIC8vIENvbnRpbnVhciBjb20gYSBVUkwgY29tbyBlc3TDoVxuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFVybC5pbmNsdWRlcygnd3d3Lmt3YWkuY29tJykpIHtcbiAgICAgIC8vIENvbnZlcnRlciB3d3cua3dhaS5jb20gcGFyYSBrLmt3YWkuY29tXG4gICAgICAvLyBFeHRyYWlyIHVzZXJuYW1lIGRlIHF1YWxxdWVyIGZvcm1hdG9cbiAgICAgIGxldCB1c2VybmFtZSA9ICcnXG4gICAgICBcbiAgICAgIC8vIFRlbnRhciBleHRyYWlyIGRlIEB1c2VybmFtZVxuICAgICAgY29uc3QgdXNlcm5hbWVNYXRjaDEgPSBub3JtYWxpemVkVXJsLm1hdGNoKC9AKFteXFwvXFw/JiNdKykvKVxuICAgICAgaWYgKHVzZXJuYW1lTWF0Y2gxKSB7XG4gICAgICAgIHVzZXJuYW1lID0gdXNlcm5hbWVNYXRjaDFbMV1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRlbnRhciBleHRyYWlyIGRlIC9AdXNlcm5hbWUgb3UgL3VzZXJuYW1lXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lTWF0Y2gyID0gbm9ybWFsaXplZFVybC5tYXRjaCgvXFwvKD86dVxcLyk/QD8oW15cXC9cXD8mI10rKS8pXG4gICAgICAgIGlmICh1c2VybmFtZU1hdGNoMikge1xuICAgICAgICAgIHVzZXJuYW1lID0gdXNlcm5hbWVNYXRjaDJbMV0ucmVwbGFjZSgnQCcsICcnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICh1c2VybmFtZSkge1xuICAgICAgICBub3JtYWxpemVkVXJsID0gYGh0dHBzOi8vay5rd2FpLmNvbS91L0Ake3VzZXJuYW1lfWBcbiAgICAgICAgY29uc29sZS5sb2coYFVSTCBub3JtYWxpemFkYSBkZSAke3VybH0gcGFyYSAke25vcm1hbGl6ZWRVcmx9YClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgTsOjbyBmb2kgcG9zc8OtdmVsIGV4dHJhaXIgdXNlcm5hbWUgZGU6ICR7bm9ybWFsaXplZFVybH1gKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFVybC5pbmNsdWRlcygnay5rd2FpLmNvbScpICYmICFub3JtYWxpemVkVXJsLmluY2x1ZGVzKCcvdS9AJykpIHtcbiAgICAgIC8vIEdhcmFudGlyIGZvcm1hdG8gY29ycmV0byBzZSBqw6EgZm9yIGsua3dhaS5jb20gbWFzIHNlbSAvdS9cbiAgICAgIGNvbnN0IHVzZXJuYW1lTWF0Y2ggPSBub3JtYWxpemVkVXJsLm1hdGNoKC9AKFteXFwvXFw/JiNdKykvKVxuICAgICAgaWYgKHVzZXJuYW1lTWF0Y2gpIHtcbiAgICAgICAgbm9ybWFsaXplZFVybCA9IGBodHRwczovL2sua3dhaS5jb20vdS9AJHt1c2VybmFtZU1hdGNoWzFdfWBcbiAgICAgICAgY29uc29sZS5sb2coYFVSTCBhanVzdGFkYSBwYXJhIGZvcm1hdG8gY29tcGxldG86ICR7bm9ybWFsaXplZFVybH1gKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTIwLjAuMC4wIFNhZmFyaS81MzcuMzYnLFxuICAgICAgJ0FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLCovKjtxPTAuOCcsXG4gICAgICAnQWNjZXB0LUxhbmd1YWdlJzogJ3B0LUJSLHB0O3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43JyxcbiAgICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCwgZGVmbGF0ZSwgYnInLFxuICAgICAgJ0Nvbm5lY3Rpb24nOiAna2VlcC1hbGl2ZScsXG4gICAgICAnVXBncmFkZS1JbnNlY3VyZS1SZXF1ZXN0cyc6ICcxJyxcbiAgICAgICdSZWZlcmVyJzogJ2h0dHBzOi8vd3d3Lmt3YWkuY29tLycsXG4gICAgICAnU2VjLUZldGNoLURlc3QnOiAnZG9jdW1lbnQnLFxuICAgICAgJ1NlYy1GZXRjaC1Nb2RlJzogJ25hdmlnYXRlJyxcbiAgICAgICdTZWMtRmV0Y2gtU2l0ZSc6ICdzYW1lLXNpdGUnXG4gICAgfVxuXG4gICAgLy8gQWd1YXJkYXIgYW50ZXMgZGUgZmF6ZXIgcmVxdWlzacOnw6NvIChkYXIgdGVtcG8gcGFyYSByZWRlKVxuICAgIGlmIChyZXRyeUNvdW50ID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYFske25vcm1hbGl6ZWRVcmx9XSBUZW50YXRpdmEgJHtyZXRyeUNvdW50ICsgMX0vJHtNQVhfUkVUUklFU30gLSBBZ3VhcmRhbmRvICR7REVMQVlfQkVUV0VFTl9SRVRSSUVTfW1zLi4uYClcbiAgICAgIGF3YWl0IHNsZWVwKERFTEFZX0JFVFdFRU5fUkVUUklFUylcbiAgICB9XG5cbiAgICAvLyBGYXplciByZXF1aXNpw6fDo28gY29tIHRpbWVvdXQgbWFpb3JcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChub3JtYWxpemVkVXJsLCB7IFxuICAgICAgaGVhZGVycywgXG4gICAgICB0aW1lb3V0OiAyMDAwMCwgLy8gMjAgc2VndW5kb3NcbiAgICAgIG1heFJlZGlyZWN0czogNSxcbiAgICAgIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDUwMCAvLyBBY2VpdGFyIGF0w6kgNHh4IHBhcmEgdmVyIG8gcXVlIHJldG9ybmFcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIC8vIFZlcmlmaWNhciBzZSBhIHJlc3Bvc3RhIGZvaSB2w6FsaWRhXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDApIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtub3JtYWxpemVkVXJsfV0gU3RhdHVzIEhUVFA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0YXR1cyBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXG4gICAgfVxuICAgIFxuICAgIC8vIEFndWFyZGFyIHVtIHBvdWNvIGFww7NzIHJlY2ViZXIgcmVzcG9zdGEgcGFyYSBnYXJhbnRpciBxdWUgSFRNTCBmb2kgcHJvY2Vzc2Fkb1xuICAgIGF3YWl0IHNsZWVwKDEwMDApXG4gICAgXG4gICAgY29uc3QgJCA9IGNoZWVyaW8ubG9hZChyZXNwb25zZS5kYXRhKVxuICAgIGNvbnN0IGh0bWwgPSByZXNwb25zZS5kYXRhXG4gICAgXG4gICAgLy8gRGVidWc6IFNhbHZhciBIVE1MIHBhcmNpYWwgZW0gY2FzbyBkZSBlcnJvIChwcmltZWlyb3MgNTAwMCBjYXJhY3RlcmVzKVxuICAgIGlmIChyZXRyeUNvdW50ID09PSBNQVhfUkVUUklFUyAtIDEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtub3JtYWxpemVkVXJsfV0gSFRNTCBTYW1wbGUgKGZpcnN0IDIwMDAgY2hhcnMpOmAsIGh0bWwuc3Vic3RyaW5nKDAsIDIwMDApKVxuICAgIH1cblxuICAgIGNvbnN0IHByb2ZpbGVEYXRhOiBhbnkgPSB7XG4gICAgICB1c2VybmFtZTogJycsXG4gICAgICBkaXNwbGF5TmFtZTogJycsXG4gICAgICBhdmF0YXI6ICcnLFxuICAgICAgZm9sbG93ZXJzOiAnJyxcbiAgICAgIGxpa2VzOiAnJyxcbiAgICAgIGJpbzogJycsXG4gICAgICB2ZXJpZmllZDogZmFsc2VcbiAgICB9XG5cbiAgICAvLyBFeHRyYWlyIHVzZXJuYW1lIGRhIFVSTFxuICAgIGNvbnN0IHVzZXJuYW1lTWF0Y2ggPSBub3JtYWxpemVkVXJsLm1hdGNoKC9AKFteXFwvXFw/XSspLylcbiAgICBpZiAodXNlcm5hbWVNYXRjaCkge1xuICAgICAgcHJvZmlsZURhdGEudXNlcm5hbWUgPSB1c2VybmFtZU1hdGNoWzFdXG4gICAgfVxuXG4gICAgLy8gRVNUUkFUw4lHSUEgMTogTWV0YSBUYWdzIE9wZW4gR3JhcGhcbiAgICBwcm9maWxlRGF0YS5kaXNwbGF5TmFtZSA9ICQoJ21ldGFbcHJvcGVydHk9XCJvZzp0aXRsZVwiXScpLmF0dHIoJ2NvbnRlbnQnKSB8fCAnJ1xuICAgIGxldCBhdmF0YXJVcmwgPSAkKCdtZXRhW3Byb3BlcnR5PVwib2c6aW1hZ2VcIl0nKS5hdHRyKCdjb250ZW50JykgfHwgJydcbiAgICAvLyBHYXJhbnRpciBIVFRQU1xuICAgIGlmIChhdmF0YXJVcmwgJiYgYXZhdGFyVXJsLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSkge1xuICAgICAgYXZhdGFyVXJsID0gYXZhdGFyVXJsLnJlcGxhY2UoJ2h0dHA6Ly8nLCAnaHR0cHM6Ly8nKVxuICAgIH1cbiAgICBwcm9maWxlRGF0YS5hdmF0YXIgPSBhdmF0YXJVcmxcbiAgICBjb25zdCBtZXRhRGVzY3JpcHRpb24gPSAkKCdtZXRhW3Byb3BlcnR5PVwib2c6ZGVzY3JpcHRpb25cIl0nKS5hdHRyKCdjb250ZW50JykgfHwgJCgnbWV0YVtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKS5hdHRyKCdjb250ZW50JykgfHwgJydcbiAgICBwcm9maWxlRGF0YS5iaW8gPSBtZXRhRGVzY3JpcHRpb25cblxuICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIFRlbnRhdGl2YSAke3JldHJ5Q291bnQgKyAxfSAtIEluaWNpYW5kbyBleHRyYcOnw6NvLi4uYClcblxuICAgIC8vIEVTVFJBVMOJR0lBIDI6IEV4dHJhaXIgZGEgbWV0YSBkZXNjcmlwdGlvbiAoZm9ybWF0bzogXCI0NDk4OCBDdXJ0aWRhcy4gNDgxNSBTZWd1aWRvcmVzLlwiKVxuICAgIGlmIChtZXRhRGVzY3JpcHRpb24pIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIE1ldGEgRGVzY3JpcHRpb246YCwgbWV0YURlc2NyaXB0aW9uLnN1YnN0cmluZygwLCAyMDApKVxuICAgICAgXG4gICAgICAvLyBQYWRyw7VlcyBtYWlzIGZsZXjDrXZlaXMgcGFyYSBtZXRhIGRlc2NyaXB0aW9uXG4gICAgICBjb25zdCBkZXNjTGlrZXNQYXR0ZXJucyA9IFtcbiAgICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qKVxccypDdXJ0aWRhcy9pLFxuICAgICAgICAvQ3VydGlkYXNbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSopL2ksXG4gICAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKilcXHMqbGlrZXMvaSxcbiAgICAgICAgL2xpa2VzWzpcXHNcXC5dKihcXGQrW1xcZFxcLlxcLF0qKS9pLFxuICAgICAgICAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKkxpa2UvaVxuICAgICAgXVxuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgZGVzY0xpa2VzUGF0dGVybnMpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBtZXRhRGVzY3JpcHRpb24ubWF0Y2gocGF0dGVybilcbiAgICAgICAgaWYgKG1hdGNoICYmIGlzVmFsaWROdW1iZXIobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgcHJvZmlsZURhdGEubGlrZXMgPSBub3JtYWxpemVOdW1iZXIobWF0Y2hbMV0pXG4gICAgICAgICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0g4pyFIExpa2VzIGRhIG1ldGEgZGVzY3JpcHRpb246YCwgcHJvZmlsZURhdGEubGlrZXMpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkZXNjRm9sbG93ZXJzUGF0dGVybnMgPSBbXG4gICAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKilcXHMqU2VndWlkb3Jlcy9pLFxuICAgICAgICAvU2VndWlkb3Jlc1s6XFxzXFwuXSooXFxkK1tcXGRcXC5cXCxdKikvaSxcbiAgICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qKVxccypmb2xsb3dlcnMvaSxcbiAgICAgICAgL2ZvbGxvd2Vyc1s6XFxzXFwuXSooXFxkK1tcXGRcXC5cXCxdKikvaSxcbiAgICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qKVxccypGb2xsb3dlci9pLFxuICAgICAgICAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKmZhbnMvaSxcbiAgICAgICAgL2ZhbnNbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSopL2lcbiAgICAgIF1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGRlc2NGb2xsb3dlcnNQYXR0ZXJucykge1xuICAgICAgICBjb25zdCBtYXRjaCA9IG1ldGFEZXNjcmlwdGlvbi5tYXRjaChwYXR0ZXJuKVxuICAgICAgICBpZiAobWF0Y2ggJiYgaXNWYWxpZE51bWJlcihtYXRjaFsxXSkpIHtcbiAgICAgICAgICBwcm9maWxlRGF0YS5mb2xsb3dlcnMgPSBub3JtYWxpemVOdW1iZXIobWF0Y2hbMV0pXG4gICAgICAgICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0g4pyFIEZvbGxvd2VycyBkYSBtZXRhIGRlc2NyaXB0aW9uOmAsIHByb2ZpbGVEYXRhLmZvbGxvd2VycylcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRVNUUkFUw4lHSUEgMzogQnVzY2FyIGVtIHRvZG8gbyB0ZXh0byBkYSBww6FnaW5hXG4gICAgY29uc3QgcGFnZVRleHQgPSAkLnRleHQoKVxuICAgIGNvbnN0IGZ1bGxUZXh0ID0gcGFnZVRleHQgKyAnICcgKyBtZXRhRGVzY3JpcHRpb24gKyAnICcgKyBodG1sXG5cbiAgICAvLyBQYWRyw7VlcyBtYWlzIGZsZXjDrXZlaXMgcGFyYSBzZWd1aWRvcmVzXG4gICAgY29uc3QgZm9sbG93ZXJzUGF0dGVybnMgPSBbXG4gICAgICAvKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KVxccypTZWd1aWRvcmVzL2ksXG4gICAgICAvU2VndWlkb3Jlc1s6XFxzXFwuXSooXFxkK1tcXGRcXC5cXCxdKltrS21NXT8pL2ksXG4gICAgICAvKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KVxccyooPzpzZWd1aWRvcmVzfGZvbGxvd2Vyc3xmw6NzfGZhbnMpL2ksXG4gICAgICAvKD86c2VndWlkb3Jlc3xmb2xsb3dlcnN8ZsOjc3xmYW5zKVs6XFxzXFwuXSooXFxkK1tcXGRcXC5cXCxdKltrS21NXT8pL2ksXG4gICAgICAvKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KVxccypmb2xsb3dlci9pLFxuICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPylcXHMqZmFuL2ksXG4gICAgICAvXCJmb2xsb3dlcnNcIls6XFxzXSpcIihcXGQrW2tLbU1dPylcIi9pLFxuICAgICAgLydmb2xsb3dlcnMnWzpcXHNdKicoXFxkK1trS21NXT8pJy9pLFxuICAgIF1cbiAgICBcbiAgICBpZiAoIWlzVmFsaWROdW1iZXIocHJvZmlsZURhdGEuZm9sbG93ZXJzKSkge1xuICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGZvbGxvd2Vyc1BhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBmdWxsVGV4dC5tYXRjaChwYXR0ZXJuKVxuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzWzFdICYmIGlzVmFsaWROdW1iZXIobWF0Y2hlc1sxXSkpIHtcbiAgICAgICAgICBwcm9maWxlRGF0YS5mb2xsb3dlcnMgPSBub3JtYWxpemVOdW1iZXIobWF0Y2hlc1sxXSlcbiAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgRm9sbG93ZXJzIGVuY29udHJhZG8gbm8gdGV4dG86YCwgcHJvZmlsZURhdGEuZm9sbG93ZXJzKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gUGFkcsO1ZXMgbWFpcyBmbGV4w612ZWlzIHBhcmEgY3VydGlkYXNcbiAgICBjb25zdCBsaWtlc1BhdHRlcm5zID0gW1xuICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPylcXHMqQ3VydGlkYXMvaSxcbiAgICAgIC9DdXJ0aWRhc1s6XFxzXFwuXSooXFxkK1tcXGRcXC5cXCxdKltrS21NXT8pL2ksXG4gICAgICAvKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KVxccyooPzpjdXJ0aWRhc3xsaWtlc3xsaWtlZCkvaSxcbiAgICAgIC8oPzpjdXJ0aWRhc3xsaWtlc3xsaWtlZClbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KS9pLFxuICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPylcXHMqbGlrZS9pLFxuICAgICAgL1wibGlrZXNcIls6XFxzXSpcIihcXGQrW2tLbU1dPylcIi9pLFxuICAgICAgLydsaWtlcydbOlxcc10qJyhcXGQrW2tLbU1dPyknL2ksXG4gICAgICAvXCJsaWtlQ291bnRcIls6XFxzXSpcIihcXGQrW2tLbU1dPylcIi9pLFxuICAgICAgL1widG90YWxMaWtlc1wiWzpcXHNdKlwiKFxcZCtba0ttTV0/KVwiL2ksXG4gICAgXVxuICAgIFxuICAgIGlmICghaXNWYWxpZE51bWJlcihwcm9maWxlRGF0YS5saWtlcykpIHtcbiAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBsaWtlc1BhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBmdWxsVGV4dC5tYXRjaChwYXR0ZXJuKVxuICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzWzFdICYmIGlzVmFsaWROdW1iZXIobWF0Y2hlc1sxXSkpIHtcbiAgICAgICAgICBwcm9maWxlRGF0YS5saWtlcyA9IG5vcm1hbGl6ZU51bWJlcihtYXRjaGVzWzFdKVxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBMaWtlcyBlbmNvbnRyYWRvIG5vIHRleHRvOmAsIHByb2ZpbGVEYXRhLmxpa2VzKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFU1RSQVTDiUdJQSA0OiBCdXNjYXIgZW0gc2NyaXB0cyBKYXZhU2NyaXB0IChKU09OIGVtYnV0aWRvKVxuICAgIGNvbnN0IHNjcmlwdHMgPSAkKCdzY3JpcHQnKS50b0FycmF5KClcbiAgICBsZXQgYWxsU2NyaXB0Q29udGVudCA9ICcnXG4gICAgXG4gICAgZm9yIChjb25zdCBzY3JpcHQgb2Ygc2NyaXB0cykge1xuICAgICAgY29uc3Qgc2NyaXB0Q29udGVudCA9ICQoc2NyaXB0KS5odG1sKCkgfHwgJydcbiAgICAgIGFsbFNjcmlwdENvbnRlbnQgKz0gc2NyaXB0Q29udGVudCArICdcXG4nXG4gICAgICBcbiAgICAgIC8vIEJ1c2NhciBKU09OIHBhdHRlcm5zXG4gICAgICBjb25zdCBqc29uUGF0dGVybnMgPSBbXG4gICAgICAgIC93aW5kb3dcXC5fX0lOSVRJQUxfU1RBVEVfX1xccyo9XFxzKih7W1xcc1xcU10rP30pOy8sXG4gICAgICAgIC93aW5kb3dcXC5fX1BSRUxPQURFRF9TVEFURV9fXFxzKj1cXHMqKHtbXFxzXFxTXSs/fSk7LyxcbiAgICAgICAgL3dpbmRvd1xcLl9fTlVYVF9fXFxzKj1cXHMqKHtbXFxzXFxTXSs/fSk7LyxcbiAgICAgICAgL3dpbmRvd1xcLl9fTkVYVF9EQVRBX19cXHMqPVxccyooe1tcXHNcXFNdKz99KTsvLFxuICAgICAgICAvdmFyXFxzK19fVVNFUl9fXFxzKj1cXHMqKHtbXFxzXFxTXSs/fSk7LyxcbiAgICAgICAgL1widXNlclwiXFxzKjpcXHMqKHtbXFxzXFxTXSs/fSkvLFxuICAgICAgICAvXCJwcm9maWxlXCJcXHMqOlxccyooe1tcXHNcXFNdKz99KS8sXG4gICAgICAgIC93aW5kb3dcXC5pbml0aWFsUHJvcHNcXHMqPVxccyooe1tcXHNcXFNdKz99KTsvLFxuICAgICAgICAvd2luZG93XFwucGFnZVByb3BzXFxzKj1cXHMqKHtbXFxzXFxTXSs/fSk7LyxcbiAgICAgICAgL1xce1widXNlclwiW159XStcXH0vLFxuICAgICAgICAvdXNlcltcIlxcJ10/XFxzKls6PV1cXHMqKFxce1tefV0rXFx9KS8sXG4gICAgICBdXG5cbiAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBqc29uUGF0dGVybnMpIHtcbiAgICAgICAgY29uc3QganNvbk1hdGNoZXMgPSBzY3JpcHRDb250ZW50Lm1hdGNoKHBhdHRlcm4pXG4gICAgICAgIGlmIChqc29uTWF0Y2hlcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZGF0YTogYW55XG4gICAgICAgICAgICBjb25zdCBqc29uU3RyID0ganNvbk1hdGNoZXNbMV0udHJpbSgpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChqc29uU3RyLnN0YXJ0c1dpdGgoJ3snKSkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGpzb25TdHIpXG4gICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZ1bGxNYXRjaCA9IHNjcmlwdENvbnRlbnQubWF0Y2goL1xce1tee31dKlwidXNlclwiW157fV0qXFx9LylcbiAgICAgICAgICAgICAgICBpZiAoZnVsbE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShmdWxsTWF0Y2hbMF0pXG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gZGF0YS51c2VyIHx8IGRhdGEucHJvZmlsZSB8fCBkYXRhLmRhdGE/LnVzZXIgfHwgZGF0YS5kYXRhPy5wcm9maWxlIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5yZXN1bHQ/LnVzZXIgfHwgZGF0YS5yZXN1bHQ/LnByb2ZpbGUgfHwgZGF0YS5jb250ZW50Py51c2VyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmluaXRpYWxTdGF0ZT8udXNlciB8fCBkYXRhLnBhZ2VQcm9wcz8udXNlciB8fCBkYXRhXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAodXNlckRhdGEgJiYgdHlwZW9mIHVzZXJEYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIC8vIEV4dHJhaXIgZm9sbG93ZXJzIGNvbSB2YWxpZGHDp8Ojb1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvbGxvd2VyQ2FuZGlkYXRlcyA9IFtcbiAgICAgICAgICAgICAgICAgIHVzZXJEYXRhLmZvbGxvd2VyQ291bnQsIHVzZXJEYXRhLmZvbGxvd2Vyc0NvdW50LCB1c2VyRGF0YS5mb2xsb3dlcnMsXG4gICAgICAgICAgICAgICAgICB1c2VyRGF0YS5mYW5Db3VudCwgdXNlckRhdGEuZmFuX2NvdW50LCB1c2VyRGF0YS5mYW5zLFxuICAgICAgICAgICAgICAgICAgdXNlckRhdGEudG90YWxGb2xsb3dlcnMsIHVzZXJEYXRhLmZvbGxvd2VyX2NvdW50XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGZvbGxvd2VyQ2FuZGlkYXRlcykge1xuICAgICAgICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gdW5kZWZpbmVkICYmIGNhbmRpZGF0ZSAhPT0gbnVsbCAmJiBpc1ZhbGlkTnVtYmVyKFN0cmluZyhjYW5kaWRhdGUpKSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9maWxlRGF0YS5mb2xsb3dlcnMgPSBub3JtYWxpemVOdW1iZXIoU3RyaW5nKGNhbmRpZGF0ZSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBGb2xsb3dlcnMgZG8gSlNPTjpgLCBwcm9maWxlRGF0YS5mb2xsb3dlcnMpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRXh0cmFpciBsaWtlcyBjb20gdmFsaWRhw6fDo29cbiAgICAgICAgICAgICAgICBjb25zdCBsaWtlQ2FuZGlkYXRlcyA9IFtcbiAgICAgICAgICAgICAgICAgIHVzZXJEYXRhLmxpa2VDb3VudCwgdXNlckRhdGEudG90YWxMaWtlcywgdXNlckRhdGEubGlrZXMsXG4gICAgICAgICAgICAgICAgICB1c2VyRGF0YS5yZWNlaXZlZExpa2VDb3VudCwgdXNlckRhdGEubGlrZV9jb3VudCwgdXNlckRhdGEudG90YWxfbGlrZXNcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjYW5kaWRhdGUgb2YgbGlrZUNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgIT09IHVuZGVmaW5lZCAmJiBjYW5kaWRhdGUgIT09IG51bGwgJiYgaXNWYWxpZE51bWJlcihTdHJpbmcoY2FuZGlkYXRlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZURhdGEubGlrZXMgPSBub3JtYWxpemVOdW1iZXIoU3RyaW5nKGNhbmRpZGF0ZSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBMaWtlcyBkbyBKU09OOmAsIHByb2ZpbGVEYXRhLmxpa2VzKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBhdmF0YXJGcm9tSnNvbiA9IHByb2ZpbGVEYXRhLmF2YXRhciB8fCB1c2VyRGF0YS5hdmF0YXIgfHwgdXNlckRhdGEuYXZhdGFyVXJsIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YS5wcm9maWxlUGljIHx8IHVzZXJEYXRhLmhlYWRVcmwgfHwgdXNlckRhdGEuaGVhZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YS5wcm9maWxlX2ltYWdlIHx8IHVzZXJEYXRhLmltYWdlIHx8IHVzZXJEYXRhLnBpY3R1cmUgfHwgJydcbiAgICAgICAgICAgICAgICAvLyBHYXJhbnRpciBIVFRQU1xuICAgICAgICAgICAgICAgIGlmIChhdmF0YXJGcm9tSnNvbiAmJiBhdmF0YXJGcm9tSnNvbi5zdGFydHNXaXRoKCdodHRwOi8vJykpIHtcbiAgICAgICAgICAgICAgICAgIGF2YXRhckZyb21Kc29uID0gYXZhdGFyRnJvbUpzb24ucmVwbGFjZSgnaHR0cDovLycsICdodHRwczovLycpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb2ZpbGVEYXRhLmF2YXRhciA9IGF2YXRhckZyb21Kc29uXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvZmlsZURhdGEuZGlzcGxheU5hbWUgPSBwcm9maWxlRGF0YS5kaXNwbGF5TmFtZSB8fCB1c2VyRGF0YS5uaWNrbmFtZSB8fCB1c2VyRGF0YS5uYW1lIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEuZGlzcGxheU5hbWUgfHwgdXNlckRhdGEudXNlck5hbWUgfHwgdXNlckRhdGEudXNlcm5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhLnRpdGxlIHx8ICcnXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvZmlsZURhdGEuYmlvID0gcHJvZmlsZURhdGEuYmlvIHx8IHVzZXJEYXRhLnNpZ25hdHVyZSB8fCB1c2VyRGF0YS5kZXNjcmlwdGlvbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YS5iaW8gfHwgdXNlckRhdGEuYWJvdXQgfHwgdXNlckRhdGEuaW50cm8gfHwgJydcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YS52ZXJpZmllZCA9IHByb2ZpbGVEYXRhLnZlcmlmaWVkIHx8IHVzZXJEYXRhLnZlcmlmaWVkIHx8IHVzZXJEYXRhLmlzVmVyaWZpZWQgfHwgdXNlckRhdGEudmVyaWZpZWRfc3RhdHVzIHx8IGZhbHNlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9maWxlRGF0YS51c2VybmFtZSAmJiB1c2VyRGF0YS51bmlxdWVJZCkge1xuICAgICAgICAgICAgICAgICAgcHJvZmlsZURhdGEudXNlcm5hbWUgPSB1c2VyRGF0YS51bmlxdWVJZC5yZXBsYWNlKCdAJywgJycpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghcHJvZmlsZURhdGEudXNlcm5hbWUgJiYgdXNlckRhdGEudXNlcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIHByb2ZpbGVEYXRhLnVzZXJuYW1lID0gdXNlckRhdGEudXNlcm5hbWUucmVwbGFjZSgnQCcsICcnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIENvbnRpbnVhciB0ZW50YW5kb1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVTVFJBVMOJR0lBIDU6IEJ1c2NhciBwYWRyw7VlcyBlc3BlY8OtZmljb3MgZG8gS3dhaSBlbSBzY3JpcHRzXG4gICAgY29uc3Qga3dhaVBhdHRlcm5zID0ge1xuICAgICAgZm9sbG93ZXJzOiBbXG4gICAgICAgIC9bXCInXWZvbGxvd2VyQ291bnRbXCInXVxccyo6XFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9bXCInXWZvbGxvd2Vyc1tcIiddXFxzKjpcXHMqW1wiJ10/KFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPykvaSxcbiAgICAgICAgL1tcIiddZmFuQ291bnRbXCInXVxccyo6XFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9mb2xsb3dlckNvdW50W1wiJ10/XFxzKls6PV1cXHMqW1wiJ10/KFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPykvaSxcbiAgICAgICAgL2ZvbGxvd2Vyc1tcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9mYW5Db3VudFtcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KVxccypmb2xsb3dlci9pLFxuICAgICAgICAvKFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPylcXHMqZmFuL2ksXG4gICAgICBdLFxuICAgICAgbGlrZXM6IFtcbiAgICAgICAgL1tcIiddbGlrZUNvdW50W1wiJ11cXHMqOlxccypbXCInXT8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KS9pLFxuICAgICAgICAvW1wiJ110b3RhbExpa2VzW1wiJ11cXHMqOlxccypbXCInXT8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KS9pLFxuICAgICAgICAvW1wiJ11yZWNlaXZlZExpa2VDb3VudFtcIiddXFxzKjpcXHMqW1wiJ10/KFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPykvaSxcbiAgICAgICAgL2xpa2VDb3VudFtcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9saWtlc1tcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KVxccypsaWtlL2ksXG4gICAgICBdXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBba2V5LCBwYXR0ZXJuc10gb2YgT2JqZWN0LmVudHJpZXMoa3dhaVBhdHRlcm5zKSkge1xuICAgICAgaWYgKCFpc1ZhbGlkTnVtYmVyKHByb2ZpbGVEYXRhW2tleV0pKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBwYXR0ZXJucykge1xuICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBhbGxTY3JpcHRDb250ZW50Lm1hdGNoKHBhdHRlcm4pXG4gICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlc1sxXSAmJiBpc1ZhbGlkTnVtYmVyKG1hdGNoZXNbMV0pKSB7XG4gICAgICAgICAgICBwcm9maWxlRGF0YVtrZXldID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoZXNbMV0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgJHtrZXl9IGVuY29udHJhZG8gZW0gc2NyaXB0OmAsIHByb2ZpbGVEYXRhW2tleV0pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVTVFJBVMOJR0lBIDY6IEJ1c2NhciBlbSBhdHJpYnV0b3MgSFRNTCBlIGRhdGEtYXR0cmlidXRlc1xuICAgIGlmICghaXNWYWxpZE51bWJlcihwcm9maWxlRGF0YS5mb2xsb3dlcnMpKSB7XG4gICAgICBjb25zdCBmb2xsb3dlcnNTZWxlY3RvcnMgPSBbXG4gICAgICAgICdbY2xhc3MqPVwiZm9sbG93ZXJcIl0nLCAnW2NsYXNzKj1cImZhblwiXScsICdbZGF0YS1mb2xsb3dlcnNdJyxcbiAgICAgICAgJ1tkYXRhLWZvbGxvd2VyLWNvdW50XScsICdbZGF0YS1mYW4tY291bnRdJywgJ1tpZCo9XCJmb2xsb3dlclwiXSdcbiAgICAgIF1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBmb2xsb3dlcnNTZWxlY3RvcnMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSAkKHNlbGVjdG9yKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZWwgPSAkKGVsZW1lbnRzW2ldKVxuICAgICAgICAgIGNvbnN0IHRleHQgPSBlbC50ZXh0KCkgfHwgZWwuYXR0cignZGF0YS1mb2xsb3dlcnMnKSB8fCBlbC5hdHRyKCdkYXRhLWZvbGxvd2VyLWNvdW50JykgfHwgJydcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IHRleHQubWF0Y2goLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPykvaSlcbiAgICAgICAgICBpZiAobWF0Y2ggJiYgaXNWYWxpZE51bWJlcihtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVEYXRhLmZvbGxvd2VycyA9IG5vcm1hbGl6ZU51bWJlcihtYXRjaFsxXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBGb2xsb3dlcnMgZW5jb250cmFkbyBlbSBlbGVtZW50byBIVE1MOmAsIHByb2ZpbGVEYXRhLmZvbGxvd2VycylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9maWxlRGF0YS5mb2xsb3dlcnMpIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2ZpbGVEYXRhLmZvbGxvd2VycykgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWROdW1iZXIocHJvZmlsZURhdGEubGlrZXMpKSB7XG4gICAgICBjb25zdCBsaWtlc1NlbGVjdG9ycyA9IFtcbiAgICAgICAgJ1tjbGFzcyo9XCJsaWtlXCJdJywgJ1tkYXRhLWxpa2VzXScsICdbZGF0YS1saWtlLWNvdW50XScsXG4gICAgICAgICdbaWQqPVwibGlrZVwiXScsICdbY2xhc3MqPVwiY3VydGlkYVwiXSdcbiAgICAgIF1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBsaWtlc1NlbGVjdG9ycykge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9ICQoc2VsZWN0b3IpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbCA9ICQoZWxlbWVudHNbaV0pXG4gICAgICAgICAgY29uc3QgdGV4dCA9IGVsLnRleHQoKSB8fCBlbC5hdHRyKCdkYXRhLWxpa2VzJykgfHwgZWwuYXR0cignZGF0YS1saWtlLWNvdW50JykgfHwgJydcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IHRleHQubWF0Y2goLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPykvaSlcbiAgICAgICAgICBpZiAobWF0Y2ggJiYgaXNWYWxpZE51bWJlcihtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVEYXRhLmxpa2VzID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoWzFdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0g4pyFIExpa2VzIGVuY29udHJhZG8gZW0gZWxlbWVudG8gSFRNTDpgLCBwcm9maWxlRGF0YS5saWtlcylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9maWxlRGF0YS5saWtlcykgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZmlsZURhdGEubGlrZXMpIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRVNUUkFUw4lHSUEgNzogQnVzY2FyIGF2YXRhclxuICAgIGlmICghcHJvZmlsZURhdGEuYXZhdGFyIHx8IHByb2ZpbGVEYXRhLmF2YXRhciA9PT0gJycpIHtcbiAgICAgIGNvbnN0IGF2YXRhclNlbGVjdG9ycyA9IFtcbiAgICAgICAgJ2ltZ1thbHQqPVwicHJvZmlsZVwiXScsICdpbWdbYWx0Kj1cImF2YXRhclwiXScsICcuYXZhdGFyIGltZycsXG4gICAgICAgICcucHJvZmlsZS1pbWcgaW1nJywgJ1tjbGFzcyo9XCJhdmF0YXJcIl0gaW1nJywgJ1tjbGFzcyo9XCJwcm9maWxlXCJdIGltZycsXG4gICAgICAgICdpbWdbc3JjKj1cImF2YXRhclwiXScsICdpbWdbc3JjKj1cImhlYWRcIl0nLCAnaW1nW3NyYyo9XCJwcm9maWxlXCJdJ1xuICAgICAgXVxuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIGF2YXRhclNlbGVjdG9ycykge1xuICAgICAgICBjb25zdCBpbWcgPSAkKHNlbGVjdG9yKS5maXJzdCgpXG4gICAgICAgIGxldCBzcmMgPSBpbWcuYXR0cignc3JjJykgfHwgaW1nLmF0dHIoJ2RhdGEtc3JjJykgfHwgaW1nLmF0dHIoJ2RhdGEtbGF6eS1zcmMnKSB8fCAnJ1xuICAgICAgICBpZiAoc3JjICYmIHNyYy5pbmNsdWRlcygnaHR0cCcpKSB7XG4gICAgICAgICAgLy8gR2FyYW50aXIgcXVlIGEgVVJMIHNlamEgSFRUUFNcbiAgICAgICAgICBpZiAoc3JjLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSkge1xuICAgICAgICAgICAgc3JjID0gc3JjLnJlcGxhY2UoJ2h0dHA6Ly8nLCAnaHR0cHM6Ly8nKVxuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9maWxlRGF0YS5hdmF0YXIgPSBzcmNcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVkFMSURBw4fDg08gRklOQUw6IFZlcmlmaWNhciBzZSBlbmNvbnRyb3UgZGFkb3MgdsOhbGlkb3NcbiAgICBjb25zdCBoYXNWYWxpZEZvbGxvd2VycyA9IGlzVmFsaWROdW1iZXIocHJvZmlsZURhdGEuZm9sbG93ZXJzKVxuICAgIGNvbnN0IGhhc1ZhbGlkTGlrZXMgPSBpc1ZhbGlkTnVtYmVyKHByb2ZpbGVEYXRhLmxpa2VzKVxuXG4gICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0gUmVzdWx0YWRvIHRlbnRhdGl2YSAke3JldHJ5Q291bnQgKyAxfTpgLCB7XG4gICAgICBmb2xsb3dlcnM6IGhhc1ZhbGlkRm9sbG93ZXJzID8gcHJvZmlsZURhdGEuZm9sbG93ZXJzIDogJ0lOVsOBTElETycsXG4gICAgICBsaWtlczogaGFzVmFsaWRMaWtlcyA/IHByb2ZpbGVEYXRhLmxpa2VzIDogJ0lOVsOBTElETycsXG4gICAgICBkaXNwbGF5TmFtZTogcHJvZmlsZURhdGEuZGlzcGxheU5hbWUsXG4gICAgICBtZXRhRGVzY3JpcHRpb246IG1ldGFEZXNjcmlwdGlvbj8uc3Vic3RyaW5nKDAsIDEwMCkgfHwgJ04vQSdcbiAgICB9KVxuXG4gICAgLy8gU2UgbsOjbyBlbmNvbnRyb3UgZGFkb3MgdsOhbGlkb3MsIHRlbnRhciB1bWEgw7psdGltYSBidXNjYSBhZ3Jlc3NpdmEgYW50ZXMgZGUgZGVzaXN0aXJcbiAgICBpZiAoKCFoYXNWYWxpZEZvbGxvd2VycyB8fCAhaGFzVmFsaWRMaWtlcykpIHtcbiAgICAgIC8vIEJ1c2NhciBUT0RPUyBvcyBuw7ptZXJvcyBuYSBww6FnaW5hIGUgdGVudGFyIGlkZW50aWZpY2FyIHBlbG8gY29udGV4dG9cbiAgICAgIGNvbnN0IGFsbE51bWJlcnMgPSBmdWxsVGV4dC5tYXRjaCgvXFxkK1tcXGRcXC5cXCxdKltrS21NXT8vZykgfHwgW11cbiAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIE7Dum1lcm9zIGVuY29udHJhZG9zIG5hIHDDoWdpbmE6YCwgYWxsTnVtYmVycy5zbGljZSgwLCAyMCkpXG4gICAgICBcbiAgICAgIC8vIFByb2N1cmFyIHBhZHLDtWVzIGVzcGVjw61maWNvcyBxdWUgcG9kZW0gZXN0YXIgZXNjb25kaWRvc1xuICAgICAgY29uc3QgaGlkZGVuUGF0dGVybnMgPSBbXG4gICAgICAgIHsgcGF0dGVybjogLyhcXGQrW1xcZFxcLlxcLF0qKVxccypmb2xsb3dlcnM/XFxzKi9naSwgdHlwZTogJ2ZvbGxvd2VycycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKnNlZ3VpZG9yZXM/XFxzKi9naSwgdHlwZTogJ2ZvbGxvd2VycycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKmxpa2VzP1xccyovZ2ksIHR5cGU6ICdsaWtlcycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKmN1cnRpZGFzP1xccyovZ2ksIHR5cGU6ICdsaWtlcycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvZm9sbG93ZXJzP1s6XFxzPV0rKFxcZCtbXFxkXFwuXFwsXSopL2dpLCB0eXBlOiAnZm9sbG93ZXJzJyB9LFxuICAgICAgICB7IHBhdHRlcm46IC9zZWd1aWRvcmVzP1s6XFxzPV0rKFxcZCtbXFxkXFwuXFwsXSopL2dpLCB0eXBlOiAnZm9sbG93ZXJzJyB9LFxuICAgICAgICB7IHBhdHRlcm46IC9saWtlcz9bOlxccz1dKyhcXGQrW1xcZFxcLlxcLF0qKS9naSwgdHlwZTogJ2xpa2VzJyB9LFxuICAgICAgICB7IHBhdHRlcm46IC9jdXJ0aWRhcz9bOlxccz1dKyhcXGQrW1xcZFxcLlxcLF0qKS9naSwgdHlwZTogJ2xpa2VzJyB9LFxuICAgICAgXVxuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IHsgcGF0dGVybiwgdHlwZSB9IG9mIGhpZGRlblBhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBBcnJheS5mcm9tKGZ1bGxUZXh0Lm1hdGNoQWxsKHBhdHRlcm4pKVxuICAgICAgICBmb3IgKGNvbnN0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICBpZiAobWF0Y2hbMV0gJiYgaXNWYWxpZE51bWJlcihtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoWzFdKVxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdmb2xsb3dlcnMnICYmICFoYXNWYWxpZEZvbGxvd2Vycykge1xuICAgICAgICAgICAgICBwcm9maWxlRGF0YS5mb2xsb3dlcnMgPSB2YWx1ZVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgRm9sbG93ZXJzIGVuY29udHJhZG8gZW0gcGFkcsOjbyBvY3VsdG86YCwgdmFsdWUpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsaWtlcycgJiYgIWhhc1ZhbGlkTGlrZXMpIHtcbiAgICAgICAgICAgICAgcHJvZmlsZURhdGEubGlrZXMgPSB2YWx1ZVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgTGlrZXMgZW5jb250cmFkbyBlbSBwYWRyw6NvIG9jdWx0bzpgLCB2YWx1ZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBmaW5hbEhhc1ZhbGlkRm9sbG93ZXJzID0gaXNWYWxpZE51bWJlcihwcm9maWxlRGF0YS5mb2xsb3dlcnMpXG4gICAgY29uc3QgZmluYWxIYXNWYWxpZExpa2VzID0gaXNWYWxpZE51bWJlcihwcm9maWxlRGF0YS5saWtlcylcblxuICAgIC8vIFNlIG7Do28gZW5jb250cm91IGRhZG9zIHbDoWxpZG9zIGUgYWluZGEgdGVtIHRlbnRhdGl2YXMsIHRlbnRhciBub3ZhbWVudGVcbiAgICBpZiAoKCFmaW5hbEhhc1ZhbGlkRm9sbG93ZXJzIHx8ICFmaW5hbEhhc1ZhbGlkTGlrZXMpICYmIHJldHJ5Q291bnQgPCBNQVhfUkVUUklFUykge1xuICAgICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0g4pqg77iPIERhZG9zIGludsOhbGlkb3MgZW5jb250cmFkb3MgYXDDs3MgdG9kYXMgZXN0cmF0w6lnaWFzLiBUZW50YW5kbyBub3ZhbWVudGUuLi5gKVxuICAgICAgYXdhaXQgc2xlZXAoMjAwMCkgLy8gQWd1YXJkYXIgdW0gcG91Y28gbWFpcyBhbnRlcyBkZSB0ZW50YXIgbm92YW1lbnRlXG4gICAgICByZXR1cm4gZXh0cmFjdFByb2ZpbGVEYXRhKHVybCwgcmV0cnlDb3VudCArIDEpXG4gICAgfVxuXG4gICAgLy8gU2UgYWluZGEgbsOjbyB0ZW0gZGFkb3MgdsOhbGlkb3MgYXDDs3MgdG9kYXMgdGVudGF0aXZhcywgcmV0b3JuYXIgdmF6aW9cbiAgICBpZiAoIWhhc1ZhbGlkRm9sbG93ZXJzKSB7XG4gICAgICBwcm9maWxlRGF0YS5mb2xsb3dlcnMgPSAnJ1xuICAgIH1cbiAgICBpZiAoIWhhc1ZhbGlkTGlrZXMpIHtcbiAgICAgIHByb2ZpbGVEYXRhLmxpa2VzID0gJydcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZmlsZURhdGFcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIC8vIFNlIGRldSBlcnJvIGUgYWluZGEgdGVtIHRlbnRhdGl2YXMsIHRlbnRhciBub3ZhbWVudGVcbiAgICBpZiAocmV0cnlDb3VudCA8IE1BWF9SRVRSSUVTKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7dXJsfV0gRXJybyBuYSB0ZW50YXRpdmEgJHtyZXRyeUNvdW50ICsgMX06ICR7ZXJyb3IubWVzc2FnZX0uIFRlbnRhbmRvIG5vdmFtZW50ZS4uLmApXG4gICAgICByZXR1cm4gZXh0cmFjdFByb2ZpbGVEYXRhKHVybCwgcmV0cnlDb3VudCArIDEpXG4gICAgfVxuICAgIFxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgYXV0aCA9IHZlcmlmeUF1dGgocmVxdWVzdClcbiAgaWYgKCFhdXRoLmF1dGhlbnRpY2F0ZWQpIHtcbiAgICByZXR1cm4gYXV0aC5yZXNwb25zZSFcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyB1cmwgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG5cbiAgICBpZiAoIXVybCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnVVJMIMOpIG9icmlnYXTDs3JpYScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYFxcbvCflI0gSW5pY2lhbmRvIGFuw6FsaXNlIGRlOiAke3VybH1gKVxuICAgIGNvbnN0IHByb2ZpbGVEYXRhID0gYXdhaXQgZXh0cmFjdFByb2ZpbGVEYXRhKHVybCwgMClcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg4pyFIEFuw6FsaXNlIGNvbmNsdcOtZGEgcGFyYTogJHtwcm9maWxlRGF0YS51c2VybmFtZX1gKVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwcm9maWxlRGF0YSlcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvIGFvIGV4dHJhaXIgZGFkb3M6JywgZXJyb3IubWVzc2FnZSlcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBgRXJybyBhbyBhbmFsaXNhciBwZXJmaWw6ICR7ZXJyb3IubWVzc2FnZX1gIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJheGlvcyIsImNoZWVyaW8iLCJ2ZXJpZnlBdXRoIiwiaXNWYWxpZE51bWJlciIsInZhbHVlIiwic3RyIiwiU3RyaW5nIiwidHJpbSIsInRvVXBwZXJDYXNlIiwibnVtIiwicGFyc2VJbnQiLCJyZXBsYWNlIiwibm9ybWFsaXplTnVtYmVyIiwibm9ybWFsaXplZCIsImhhc1N1ZmZpeCIsInRlc3QiLCJzdWZmaXgiLCJzbGljZSIsIm51bWJlclBhcnQiLCJjbGVhbk51bWJlciIsInNsZWVwIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJleHRyYWN0UHJvZmlsZURhdGEiLCJ1cmwiLCJyZXRyeUNvdW50IiwiTUFYX1JFVFJJRVMiLCJERUxBWV9CRVRXRUVOX1JFVFJJRVMiLCJub3JtYWxpemVkVXJsIiwic3RhcnRzV2l0aCIsImluY2x1ZGVzIiwiY29uc29sZSIsImxvZyIsInVzZXJuYW1lIiwidXNlcm5hbWVNYXRjaDEiLCJtYXRjaCIsInVzZXJuYW1lTWF0Y2gyIiwid2FybiIsInVzZXJuYW1lTWF0Y2giLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJnZXQiLCJ0aW1lb3V0IiwibWF4UmVkaXJlY3RzIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJFcnJvciIsInN0YXR1c1RleHQiLCIkIiwibG9hZCIsImRhdGEiLCJodG1sIiwic3Vic3RyaW5nIiwicHJvZmlsZURhdGEiLCJkaXNwbGF5TmFtZSIsImF2YXRhciIsImZvbGxvd2VycyIsImxpa2VzIiwiYmlvIiwidmVyaWZpZWQiLCJhdHRyIiwiYXZhdGFyVXJsIiwibWV0YURlc2NyaXB0aW9uIiwiZGVzY0xpa2VzUGF0dGVybnMiLCJwYXR0ZXJuIiwiZGVzY0ZvbGxvd2Vyc1BhdHRlcm5zIiwicGFnZVRleHQiLCJ0ZXh0IiwiZnVsbFRleHQiLCJmb2xsb3dlcnNQYXR0ZXJucyIsIm1hdGNoZXMiLCJsaWtlc1BhdHRlcm5zIiwic2NyaXB0cyIsInRvQXJyYXkiLCJhbGxTY3JpcHRDb250ZW50Iiwic2NyaXB0Iiwic2NyaXB0Q29udGVudCIsImpzb25QYXR0ZXJucyIsImpzb25NYXRjaGVzIiwianNvblN0ciIsIkpTT04iLCJwYXJzZSIsImZ1bGxNYXRjaCIsInVzZXJEYXRhIiwidXNlciIsInByb2ZpbGUiLCJyZXN1bHQiLCJjb250ZW50IiwiaW5pdGlhbFN0YXRlIiwicGFnZVByb3BzIiwiZm9sbG93ZXJDYW5kaWRhdGVzIiwiZm9sbG93ZXJDb3VudCIsImZvbGxvd2Vyc0NvdW50IiwiZmFuQ291bnQiLCJmYW5fY291bnQiLCJmYW5zIiwidG90YWxGb2xsb3dlcnMiLCJmb2xsb3dlcl9jb3VudCIsImNhbmRpZGF0ZSIsInVuZGVmaW5lZCIsImxpa2VDYW5kaWRhdGVzIiwibGlrZUNvdW50IiwidG90YWxMaWtlcyIsInJlY2VpdmVkTGlrZUNvdW50IiwibGlrZV9jb3VudCIsInRvdGFsX2xpa2VzIiwiYXZhdGFyRnJvbUpzb24iLCJwcm9maWxlUGljIiwiaGVhZFVybCIsImhlYWQiLCJwcm9maWxlX2ltYWdlIiwiaW1hZ2UiLCJwaWN0dXJlIiwibmlja25hbWUiLCJuYW1lIiwidXNlck5hbWUiLCJ0aXRsZSIsInNpZ25hdHVyZSIsImRlc2NyaXB0aW9uIiwiYWJvdXQiLCJpbnRybyIsImlzVmVyaWZpZWQiLCJ2ZXJpZmllZF9zdGF0dXMiLCJ1bmlxdWVJZCIsImUiLCJrd2FpUGF0dGVybnMiLCJrZXkiLCJwYXR0ZXJucyIsIk9iamVjdCIsImVudHJpZXMiLCJmb2xsb3dlcnNTZWxlY3RvcnMiLCJzZWxlY3RvciIsImVsZW1lbnRzIiwiaSIsImxlbmd0aCIsImVsIiwibGlrZXNTZWxlY3RvcnMiLCJhdmF0YXJTZWxlY3RvcnMiLCJpbWciLCJmaXJzdCIsInNyYyIsImhhc1ZhbGlkRm9sbG93ZXJzIiwiaGFzVmFsaWRMaWtlcyIsImFsbE51bWJlcnMiLCJoaWRkZW5QYXR0ZXJucyIsInR5cGUiLCJBcnJheSIsImZyb20iLCJtYXRjaEFsbCIsImZpbmFsSGFzVmFsaWRGb2xsb3dlcnMiLCJmaW5hbEhhc1ZhbGlkTGlrZXMiLCJlcnJvciIsIm1lc3NhZ2UiLCJQT1NUIiwicmVxdWVzdCIsImF1dGgiLCJhdXRoZW50aWNhdGVkIiwianNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analyze/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   verifyAuth: () => (/* binding */ verifyAuth)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nfunction verifyAuth(request) {\n    try {\n        const authToken = request.cookies.get(\"auth-token\");\n        if (authToken && authToken.value === \"authenticated\") {\n            return {\n                authenticated: true\n            };\n        }\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"N\\xe3o autenticado\"\n            }, {\n                status: 401\n            })\n        };\n    } catch (error) {\n        console.error(\"Erro ao verificar autentica\\xe7\\xe3o:\", error);\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Erro ao verificar autentica\\xe7\\xe3o\"\n            }, {\n                status: 500\n            })\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RDtBQUVoRCxTQUFTQyxXQUFXQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsWUFBWUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFFdEMsSUFBSUYsYUFBYUEsVUFBVUcsS0FBSyxLQUFLLGlCQUFpQjtZQUNwRCxPQUFPO2dCQUFFQyxlQUFlO1lBQUs7UUFDL0I7UUFFQSxPQUFPO1lBQ0xBLGVBQWU7WUFDZkMsVUFBVVIscURBQVlBLENBQUNTLElBQUksQ0FDekI7Z0JBQUVDLE9BQU87WUFBa0IsR0FDM0I7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtJQUNGLEVBQUUsT0FBT0QsT0FBWTtRQUNuQkUsUUFBUUYsS0FBSyxDQUFDLHlDQUFtQ0E7UUFDakQsT0FBTztZQUNMSCxlQUFlO1lBQ2ZDLFVBQVVSLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3pCO2dCQUFFQyxPQUFPO1lBQWlDLEdBQzFDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3dhaS1wcm9maWxlLWFuYWx5emVyLy4vbGliL2F1dGgudHM/YmY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlBdXRoKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogeyBhdXRoZW50aWNhdGVkOiBib29sZWFuOyByZXNwb25zZT86IE5leHRSZXNwb25zZSB9IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhdXRoVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhdXRoLXRva2VuJylcbiAgICBcbiAgICBpZiAoYXV0aFRva2VuICYmIGF1dGhUb2tlbi52YWx1ZSA9PT0gJ2F1dGhlbnRpY2F0ZWQnKSB7XG4gICAgICByZXR1cm4geyBhdXRoZW50aWNhdGVkOiB0cnVlIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTsOjbyBhdXRlbnRpY2FkbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyB2ZXJpZmljYXIgYXV0ZW50aWNhw6fDo286JywgZXJyb3IpXG4gICAgcmV0dXJuIHtcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxuICAgICAgcmVzcG9uc2U6IE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRXJybyBhbyB2ZXJpZmljYXIgYXV0ZW50aWNhw6fDo28nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKVxuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZlcmlmeUF1dGgiLCJyZXF1ZXN0IiwiYXV0aFRva2VuIiwiY29va2llcyIsImdldCIsInZhbHVlIiwiYXV0aGVudGljYXRlZCIsInJlc3BvbnNlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/undici","vendor-chunks/axios","vendor-chunks/iconv-lite","vendor-chunks/parse5","vendor-chunks/cheerio","vendor-chunks/css-select","vendor-chunks/asynckit","vendor-chunks/entities","vendor-chunks/domutils","vendor-chunks/math-intrinsics","vendor-chunks/htmlparser2","vendor-chunks/es-errors","vendor-chunks/whatwg-mimetype","vendor-chunks/call-bind-apply-helpers","vendor-chunks/nth-check","vendor-chunks/cheerio-select","vendor-chunks/whatwg-encoding","vendor-chunks/get-proto","vendor-chunks/encoding-sniffer","vendor-chunks/domhandler","vendor-chunks/dom-serializer","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/css-what","vendor-chunks/parse5-parser-stream","vendor-chunks/parse5-htmlparser2-tree-adapter","vendor-chunks/domelementtype","vendor-chunks/safer-buffer","vendor-chunks/proxy-from-env","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream","vendor-chunks/boolbase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();