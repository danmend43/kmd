/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analyze/route";
exports.ids = ["app/api/analyze/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "string_decoder":
/*!*********************************!*\
  !*** external "string_decoder" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("string_decoder");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:assert");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:console":
/*!*******************************!*\
  !*** external "node:console" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:console");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:diagnostics_channel":
/*!*******************************************!*\
  !*** external "node:diagnostics_channel" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:diagnostics_channel");

/***/ }),

/***/ "node:dns":
/*!***************************!*\
  !*** external "node:dns" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:dns");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http");

/***/ }),

/***/ "node:http2":
/*!*****************************!*\
  !*** external "node:http2" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:http2");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:perf_hooks":
/*!**********************************!*\
  !*** external "node:perf_hooks" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:perf_hooks");

/***/ }),

/***/ "node:querystring":
/*!***********************************!*\
  !*** external "node:querystring" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:querystring");

/***/ }),

/***/ "node:sqlite":
/*!******************************!*\
  !*** external "node:sqlite" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:sqlite");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:timers":
/*!******************************!*\
  !*** external "node:timers" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:timers");

/***/ }),

/***/ "node:tls":
/*!***************************!*\
  !*** external "node:tls" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:tls");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "node:util/types":
/*!**********************************!*\
  !*** external "node:util/types" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util/types");

/***/ }),

/***/ "node:worker_threads":
/*!**************************************!*\
  !*** external "node:worker_threads" ***!
  \**************************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:worker_threads");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:zlib");

/***/ }),

/***/ "?4c03":
/*!***********************!*\
  !*** debug (ignored) ***!
  \***********************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_danie_Desktop_kwai_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analyze/route.ts */ \"(rsc)/./app/api/analyze/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analyze/route\",\n        pathname: \"/api/analyze\",\n        filename: \"route\",\n        bundlePath: \"app/api/analyze/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\danie\\\\Desktop\\\\kwai\\\\app\\\\api\\\\analyze\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_danie_Desktop_kwai_app_api_analyze_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analyze/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXplJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhbmFseXplJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYW5hbHl6ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNkYW5pZSU1Q0Rlc2t0b3AlNUNrd2FpJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNZO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3dhaS1wcm9maWxlLWFuYWx5emVyLz8zNWU1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXGRhbmllXFxcXERlc2t0b3BcXFxca3dhaVxcXFxhcHBcXFxcYXBpXFxcXGFuYWx5emVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FuYWx5emUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXplXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hbmFseXplL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcZGFuaWVcXFxcRGVza3RvcFxcXFxrd2FpXFxcXGFwcFxcXFxhcGlcXFxcYW5hbHl6ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl6ZS9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analyze/route.ts":
/*!**********************************!*\
  !*** ./app/api/analyze/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var cheerio__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cheerio */ \"(rsc)/./node_modules/cheerio/dist/esm/index.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n\n// Fun√ß√£o para validar se um n√∫mero √© v√°lido (n√£o √© 0, vazio ou N/A)\nfunction isValidNumber(value) {\n    if (!value) return false;\n    const str = String(value).trim().toUpperCase();\n    if (str === \"\" || str === \"N/A\" || str === \"0\" || str === \"NULL\" || str === \"UNDEFINED\") return false;\n    const num = parseInt(str.replace(/[^\\d]/g, \"\"));\n    return num > 0;\n}\n// Fun√ß√£o para normalizar n√∫mero (remove pontos, v√≠rgulas, mas mant√©m K/M/B)\nfunction normalizeNumber(value) {\n    if (!value) return \"\";\n    let normalized = value.trim();\n    // Se tem K, M, B no final, manter\n    const hasSuffix = /[kmbKM]$/i.test(normalized);\n    const suffix = hasSuffix ? normalized.slice(-1).toUpperCase() : \"\";\n    const numberPart = hasSuffix ? normalized.slice(0, -1) : normalized;\n    // Remover pontos e v√≠rgulas do n√∫mero, mas manter o n√∫mero\n    const cleanNumber = numberPart.replace(/[^\\d]/g, \"\");\n    return cleanNumber + suffix;\n}\n// Fun√ß√£o para esperar (delay)\nfunction sleep(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\n// Fun√ß√£o principal de extra√ß√£o\nasync function extractProfileData(url, retryCount = 0) {\n    const MAX_RETRIES = 5;\n    const DELAY_BETWEEN_RETRIES = 3000 // 3 segundos entre tentativas\n    ;\n    try {\n        // Normalizar URL - suportar m√∫ltiplos formatos\n        let normalizedUrl = url.trim();\n        // Remover espa√ßos e garantir que tem protocolo\n        if (!normalizedUrl.startsWith(\"http://\") && !normalizedUrl.startsWith(\"https://\")) {\n            normalizedUrl = \"https://\" + normalizedUrl;\n        }\n        // Se j√° for kwai-video.com ou k.kwai.com com formato completo, manter como est√°\n        if (normalizedUrl.includes(\"kwai-video.com/u/@\") || normalizedUrl.includes(\"k.kwai.com/u/@\")) {\n            // J√° est√° no formato correto, s√≥ garantir que tem https\n            if (!normalizedUrl.startsWith(\"https://\")) {\n                normalizedUrl = normalizedUrl.replace(/^http:\\/\\//, \"https://\");\n            }\n            console.log(`URL j√° est√° no formato correto: ${normalizedUrl}`);\n        // Continuar com a URL como est√°\n        } else if (normalizedUrl.includes(\"www.kwai.com\")) {\n            // Converter www.kwai.com para k.kwai.com\n            // Extrair username de qualquer formato\n            let username = \"\";\n            // Tentar extrair de @username\n            const usernameMatch1 = normalizedUrl.match(/@([^\\/\\?&#]+)/);\n            if (usernameMatch1) {\n                username = usernameMatch1[1];\n            } else {\n                // Tentar extrair de /@username ou /username\n                const usernameMatch2 = normalizedUrl.match(/\\/(?:u\\/)?@?([^\\/\\?&#]+)/);\n                if (usernameMatch2) {\n                    username = usernameMatch2[1].replace(\"@\", \"\");\n                }\n            }\n            if (username) {\n                normalizedUrl = `https://k.kwai.com/u/@${username}`;\n                console.log(`URL normalizada de ${url} para ${normalizedUrl}`);\n            } else {\n                console.warn(`N√£o foi poss√≠vel extrair username de: ${normalizedUrl}`);\n            }\n        } else if (normalizedUrl.includes(\"k.kwai.com\") && !normalizedUrl.includes(\"/u/@\")) {\n            // Garantir formato correto se j√° for k.kwai.com mas sem /u/\n            const usernameMatch = normalizedUrl.match(/@([^\\/\\?&#]+)/);\n            if (usernameMatch) {\n                normalizedUrl = `https://k.kwai.com/u/@${usernameMatch[1]}`;\n                console.log(`URL ajustada para formato completo: ${normalizedUrl}`);\n            }\n        }\n        const headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n            \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8\",\n            \"Accept-Language\": \"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7\",\n            \"Accept-Encoding\": \"gzip, deflate, br\",\n            \"Connection\": \"keep-alive\",\n            \"Upgrade-Insecure-Requests\": \"1\",\n            \"Referer\": \"https://www.kwai.com/\",\n            \"Sec-Fetch-Dest\": \"document\",\n            \"Sec-Fetch-Mode\": \"navigate\",\n            \"Sec-Fetch-Site\": \"same-site\"\n        };\n        // Aguardar antes de fazer requisi√ß√£o (dar tempo para rede)\n        if (retryCount > 0) {\n            console.log(`[${normalizedUrl}] Tentativa ${retryCount + 1}/${MAX_RETRIES} - Aguardando ${DELAY_BETWEEN_RETRIES}ms...`);\n            await sleep(DELAY_BETWEEN_RETRIES);\n        }\n        // Fazer requisi√ß√£o com timeout maior\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(normalizedUrl, {\n            headers,\n            timeout: 20000,\n            maxRedirects: 5,\n            validateStatus: function(status) {\n                return status >= 200 && status < 500 // Aceitar at√© 4xx para ver o que retorna\n                ;\n            }\n        });\n        // Verificar se a resposta foi v√°lida\n        if (response.status >= 400) {\n            console.log(`[${normalizedUrl}] Status HTTP: ${response.status}`);\n            throw new Error(`Status HTTP ${response.status}: ${response.statusText}`);\n        }\n        // Aguardar um pouco ap√≥s receber resposta para garantir que HTML foi processado\n        await sleep(1000);\n        const $ = cheerio__WEBPACK_IMPORTED_MODULE_1__.load(response.data);\n        const html = response.data;\n        // Debug: Salvar HTML parcial em caso de erro (primeiros 5000 caracteres)\n        if (retryCount === MAX_RETRIES - 1) {\n            console.log(`[${normalizedUrl}] HTML Sample (first 2000 chars):`, html.substring(0, 2000));\n        }\n        const profileData = {\n            username: \"\",\n            displayName: \"\",\n            avatar: \"\",\n            followers: \"\",\n            likes: \"\",\n            bio: \"\",\n            verified: false\n        };\n        // Extrair username da URL\n        const usernameMatch = normalizedUrl.match(/@([^\\/\\?]+)/);\n        if (usernameMatch) {\n            profileData.username = usernameMatch[1];\n        }\n        // ESTRAT√âGIA 1: Meta Tags Open Graph\n        profileData.displayName = $('meta[property=\"og:title\"]').attr(\"content\") || \"\";\n        profileData.avatar = $('meta[property=\"og:image\"]').attr(\"content\") || \"\";\n        const metaDescription = $('meta[property=\"og:description\"]').attr(\"content\") || $('meta[name=\"description\"]').attr(\"content\") || \"\";\n        profileData.bio = metaDescription;\n        console.log(`[${profileData.username}] Tentativa ${retryCount + 1} - Iniciando extra√ß√£o...`);\n        // ESTRAT√âGIA 2: Extrair da meta description (formato: \"44988 Curtidas. 4815 Seguidores.\")\n        if (metaDescription) {\n            console.log(`[${profileData.username}] Meta Description:`, metaDescription.substring(0, 200));\n            // Padr√µes mais flex√≠veis para meta description\n            const descLikesPatterns = [\n                /(\\d+[\\d\\.\\,]*)\\s*Curtidas/i,\n                /Curtidas[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*likes/i,\n                /likes[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*Like/i\n            ];\n            for (const pattern of descLikesPatterns){\n                const match = metaDescription.match(pattern);\n                if (match && isValidNumber(match[1])) {\n                    profileData.likes = normalizeNumber(match[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Likes da meta description:`, profileData.likes);\n                    break;\n                }\n            }\n            const descFollowersPatterns = [\n                /(\\d+[\\d\\.\\,]*)\\s*Seguidores/i,\n                /Seguidores[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*followers/i,\n                /followers[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i,\n                /(\\d+[\\d\\.\\,]*)\\s*Follower/i,\n                /(\\d+[\\d\\.\\,]*)\\s*fans/i,\n                /fans[:\\s\\.]*(\\d+[\\d\\.\\,]*)/i\n            ];\n            for (const pattern of descFollowersPatterns){\n                const match = metaDescription.match(pattern);\n                if (match && isValidNumber(match[1])) {\n                    profileData.followers = normalizeNumber(match[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Followers da meta description:`, profileData.followers);\n                    break;\n                }\n            }\n        }\n        // ESTRAT√âGIA 3: Buscar em todo o texto da p√°gina\n        const pageText = $.text();\n        const fullText = pageText + \" \" + metaDescription + \" \" + html;\n        // Padr√µes mais flex√≠veis para seguidores\n        const followersPatterns = [\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*Seguidores/i,\n            /Seguidores[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*(?:seguidores|followers|f√£s|fans)/i,\n            /(?:seguidores|followers|f√£s|fans)[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*follower/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*fan/i,\n            /\"followers\"[:\\s]*\"(\\d+[kKmM]?)\"/i,\n            /'followers'[:\\s]*'(\\d+[kKmM]?)'/i\n        ];\n        if (!isValidNumber(profileData.followers)) {\n            for (const pattern of followersPatterns){\n                const matches = fullText.match(pattern);\n                if (matches && matches[1] && isValidNumber(matches[1])) {\n                    profileData.followers = normalizeNumber(matches[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Followers encontrado no texto:`, profileData.followers);\n                    break;\n                }\n            }\n        }\n        // Padr√µes mais flex√≠veis para curtidas\n        const likesPatterns = [\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*Curtidas/i,\n            /Curtidas[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*(?:curtidas|likes|liked)/i,\n            /(?:curtidas|likes|liked)[:\\s\\.]*(\\d+[\\d\\.\\,]*[kKmM]?)/i,\n            /(\\d+[\\d\\.\\,]*[kKmM]?)\\s*like/i,\n            /\"likes\"[:\\s]*\"(\\d+[kKmM]?)\"/i,\n            /'likes'[:\\s]*'(\\d+[kKmM]?)'/i,\n            /\"likeCount\"[:\\s]*\"(\\d+[kKmM]?)\"/i,\n            /\"totalLikes\"[:\\s]*\"(\\d+[kKmM]?)\"/i\n        ];\n        if (!isValidNumber(profileData.likes)) {\n            for (const pattern of likesPatterns){\n                const matches = fullText.match(pattern);\n                if (matches && matches[1] && isValidNumber(matches[1])) {\n                    profileData.likes = normalizeNumber(matches[1]);\n                    console.log(`[${profileData.username}] ‚úÖ Likes encontrado no texto:`, profileData.likes);\n                    break;\n                }\n            }\n        }\n        // ESTRAT√âGIA 4: Buscar em scripts JavaScript (JSON embutido)\n        const scripts = $(\"script\").toArray();\n        let allScriptContent = \"\";\n        for (const script of scripts){\n            const scriptContent = $(script).html() || \"\";\n            allScriptContent += scriptContent + \"\\n\";\n            // Buscar JSON patterns\n            const jsonPatterns = [\n                /window\\.__INITIAL_STATE__\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.__PRELOADED_STATE__\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.__NUXT__\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.__NEXT_DATA__\\s*=\\s*({[\\s\\S]+?});/,\n                /var\\s+__USER__\\s*=\\s*({[\\s\\S]+?});/,\n                /\"user\"\\s*:\\s*({[\\s\\S]+?})/,\n                /\"profile\"\\s*:\\s*({[\\s\\S]+?})/,\n                /window\\.initialProps\\s*=\\s*({[\\s\\S]+?});/,\n                /window\\.pageProps\\s*=\\s*({[\\s\\S]+?});/,\n                /\\{\"user\"[^}]+\\}/,\n                /user[\"\\']?\\s*[:=]\\s*(\\{[^}]+\\})/\n            ];\n            for (const pattern of jsonPatterns){\n                const jsonMatches = scriptContent.match(pattern);\n                if (jsonMatches) {\n                    try {\n                        let data;\n                        const jsonStr = jsonMatches[1].trim();\n                        if (jsonStr.startsWith(\"{\")) {\n                            try {\n                                data = JSON.parse(jsonStr);\n                            } catch  {\n                                const fullMatch = scriptContent.match(/\\{[^{}]*\"user\"[^{}]*\\}/);\n                                if (fullMatch) {\n                                    try {\n                                        data = JSON.parse(fullMatch[0]);\n                                    } catch  {}\n                                }\n                            }\n                        }\n                        if (data) {\n                            const userData = data.user || data.profile || data.data?.user || data.data?.profile || data.result?.user || data.result?.profile || data.content?.user || data.initialState?.user || data.pageProps?.user || data;\n                            if (userData && typeof userData === \"object\") {\n                                // Extrair followers com valida√ß√£o\n                                const followerCandidates = [\n                                    userData.followerCount,\n                                    userData.followersCount,\n                                    userData.followers,\n                                    userData.fanCount,\n                                    userData.fan_count,\n                                    userData.fans,\n                                    userData.totalFollowers,\n                                    userData.follower_count\n                                ];\n                                for (const candidate of followerCandidates){\n                                    if (candidate !== undefined && candidate !== null && isValidNumber(String(candidate))) {\n                                        profileData.followers = normalizeNumber(String(candidate));\n                                        console.log(`[${profileData.username}] ‚úÖ Followers do JSON:`, profileData.followers);\n                                        break;\n                                    }\n                                }\n                                // Extrair likes com valida√ß√£o\n                                const likeCandidates = [\n                                    userData.likeCount,\n                                    userData.totalLikes,\n                                    userData.likes,\n                                    userData.receivedLikeCount,\n                                    userData.like_count,\n                                    userData.total_likes\n                                ];\n                                for (const candidate of likeCandidates){\n                                    if (candidate !== undefined && candidate !== null && isValidNumber(String(candidate))) {\n                                        profileData.likes = normalizeNumber(String(candidate));\n                                        console.log(`[${profileData.username}] ‚úÖ Likes do JSON:`, profileData.likes);\n                                        break;\n                                    }\n                                }\n                                profileData.avatar = profileData.avatar || userData.avatar || userData.avatarUrl || userData.profilePic || userData.headUrl || userData.head || userData.profile_image || userData.image || userData.picture || \"\";\n                                profileData.displayName = profileData.displayName || userData.nickname || userData.name || userData.displayName || userData.userName || userData.username || userData.title || \"\";\n                                profileData.bio = profileData.bio || userData.signature || userData.description || userData.bio || userData.about || userData.intro || \"\";\n                                profileData.verified = profileData.verified || userData.verified || userData.isVerified || userData.verified_status || false;\n                                if (!profileData.username && userData.uniqueId) {\n                                    profileData.username = userData.uniqueId.replace(\"@\", \"\");\n                                } else if (!profileData.username && userData.username) {\n                                    profileData.username = userData.username.replace(\"@\", \"\");\n                                }\n                            }\n                        }\n                    } catch (e) {\n                    // Continuar tentando\n                    }\n                }\n            }\n        }\n        // ESTRAT√âGIA 5: Buscar padr√µes espec√≠ficos do Kwai em scripts\n        const kwaiPatterns = {\n            followers: [\n                /[\"']followerCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']followers[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']fanCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /followerCount[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /followers[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /fanCount[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /(\\d+[\\.,]?\\d*[kKmMbB]?)\\s*follower/i,\n                /(\\d+[\\.,]?\\d*[kKmMbB]?)\\s*fan/i\n            ],\n            likes: [\n                /[\"']likeCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']totalLikes[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /[\"']receivedLikeCount[\"']\\s*:\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /likeCount[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /likes[\"']?\\s*[:=]\\s*[\"']?(\\d+[\\.,]?\\d*[kKmMbB]?)/i,\n                /(\\d+[\\.,]?\\d*[kKmMbB]?)\\s*like/i\n            ]\n        };\n        for (const [key, patterns] of Object.entries(kwaiPatterns)){\n            if (!isValidNumber(profileData[key])) {\n                for (const pattern of patterns){\n                    const matches = allScriptContent.match(pattern);\n                    if (matches && matches[1] && isValidNumber(matches[1])) {\n                        profileData[key] = normalizeNumber(matches[1]);\n                        console.log(`[${profileData.username}] ‚úÖ ${key} encontrado em script:`, profileData[key]);\n                        break;\n                    }\n                }\n            }\n        }\n        // ESTRAT√âGIA 6: Buscar em atributos HTML e data-attributes\n        if (!isValidNumber(profileData.followers)) {\n            const followersSelectors = [\n                '[class*=\"follower\"]',\n                '[class*=\"fan\"]',\n                \"[data-followers]\",\n                \"[data-follower-count]\",\n                \"[data-fan-count]\",\n                '[id*=\"follower\"]'\n            ];\n            for (const selector of followersSelectors){\n                const elements = $(selector);\n                for(let i = 0; i < elements.length; i++){\n                    const el = $(elements[i]);\n                    const text = el.text() || el.attr(\"data-followers\") || el.attr(\"data-follower-count\") || \"\";\n                    const match = text.match(/(\\d+[\\d\\.\\,]*[kKmM]?)/i);\n                    if (match && isValidNumber(match[1])) {\n                        profileData.followers = normalizeNumber(match[1]);\n                        console.log(`[${profileData.username}] ‚úÖ Followers encontrado em elemento HTML:`, profileData.followers);\n                        break;\n                    }\n                    if (profileData.followers) break;\n                }\n                if (profileData.followers) break;\n            }\n        }\n        if (!isValidNumber(profileData.likes)) {\n            const likesSelectors = [\n                '[class*=\"like\"]',\n                \"[data-likes]\",\n                \"[data-like-count]\",\n                '[id*=\"like\"]',\n                '[class*=\"curtida\"]'\n            ];\n            for (const selector of likesSelectors){\n                const elements = $(selector);\n                for(let i = 0; i < elements.length; i++){\n                    const el = $(elements[i]);\n                    const text = el.text() || el.attr(\"data-likes\") || el.attr(\"data-like-count\") || \"\";\n                    const match = text.match(/(\\d+[\\d\\.\\,]*[kKmM]?)/i);\n                    if (match && isValidNumber(match[1])) {\n                        profileData.likes = normalizeNumber(match[1]);\n                        console.log(`[${profileData.username}] ‚úÖ Likes encontrado em elemento HTML:`, profileData.likes);\n                        break;\n                    }\n                    if (profileData.likes) break;\n                }\n                if (profileData.likes) break;\n            }\n        }\n        // ESTRAT√âGIA 7: Buscar avatar\n        if (!profileData.avatar || profileData.avatar === \"\") {\n            const avatarSelectors = [\n                'img[alt*=\"profile\"]',\n                'img[alt*=\"avatar\"]',\n                \".avatar img\",\n                \".profile-img img\",\n                '[class*=\"avatar\"] img',\n                '[class*=\"profile\"] img',\n                'img[src*=\"avatar\"]',\n                'img[src*=\"head\"]',\n                'img[src*=\"profile\"]'\n            ];\n            for (const selector of avatarSelectors){\n                const img = $(selector).first();\n                const src = img.attr(\"src\") || img.attr(\"data-src\") || img.attr(\"data-lazy-src\") || \"\";\n                if (src && src.includes(\"http\")) {\n                    profileData.avatar = src;\n                    break;\n                }\n            }\n        }\n        // VALIDA√á√ÉO FINAL: Verificar se encontrou dados v√°lidos\n        const hasValidFollowers = isValidNumber(profileData.followers);\n        const hasValidLikes = isValidNumber(profileData.likes);\n        console.log(`[${profileData.username}] Resultado tentativa ${retryCount + 1}:`, {\n            followers: hasValidFollowers ? profileData.followers : \"INV\\xc1LIDO\",\n            likes: hasValidLikes ? profileData.likes : \"INV\\xc1LIDO\",\n            displayName: profileData.displayName,\n            metaDescription: metaDescription?.substring(0, 100) || \"N/A\"\n        });\n        // Se n√£o encontrou dados v√°lidos, tentar uma √∫ltima busca agressiva antes de desistir\n        if (!hasValidFollowers || !hasValidLikes) {\n            // Buscar TODOS os n√∫meros na p√°gina e tentar identificar pelo contexto\n            const allNumbers = fullText.match(/\\d+[\\d\\.\\,]*[kKmM]?/g) || [];\n            console.log(`[${profileData.username}] N√∫meros encontrados na p√°gina:`, allNumbers.slice(0, 20));\n            // Procurar padr√µes espec√≠ficos que podem estar escondidos\n            const hiddenPatterns = [\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*followers?\\s*/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*seguidores?\\s*/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*likes?\\s*/gi,\n                    type: \"likes\"\n                },\n                {\n                    pattern: /(\\d+[\\d\\.\\,]*)\\s*curtidas?\\s*/gi,\n                    type: \"likes\"\n                },\n                {\n                    pattern: /followers?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /seguidores?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"followers\"\n                },\n                {\n                    pattern: /likes?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"likes\"\n                },\n                {\n                    pattern: /curtidas?[:\\s=]+(\\d+[\\d\\.\\,]*)/gi,\n                    type: \"likes\"\n                }\n            ];\n            for (const { pattern, type } of hiddenPatterns){\n                const matches = [\n                    ...fullText.matchAll(pattern)\n                ];\n                for (const match of matches){\n                    if (match[1] && isValidNumber(match[1])) {\n                        const value = normalizeNumber(match[1]);\n                        if (type === \"followers\" && !hasValidFollowers) {\n                            profileData.followers = value;\n                            console.log(`[${profileData.username}] ‚úÖ Followers encontrado em padr√£o oculto:`, value);\n                        } else if (type === \"likes\" && !hasValidLikes) {\n                            profileData.likes = value;\n                            console.log(`[${profileData.username}] ‚úÖ Likes encontrado em padr√£o oculto:`, value);\n                        }\n                    }\n                }\n            }\n        }\n        const finalHasValidFollowers = isValidNumber(profileData.followers);\n        const finalHasValidLikes = isValidNumber(profileData.likes);\n        // Se n√£o encontrou dados v√°lidos e ainda tem tentativas, tentar novamente\n        if ((!finalHasValidFollowers || !finalHasValidLikes) && retryCount < MAX_RETRIES) {\n            console.log(`[${profileData.username}] ‚ö†Ô∏è Dados inv√°lidos encontrados ap√≥s todas estrat√©gias. Tentando novamente...`);\n            await sleep(2000) // Aguardar um pouco mais antes de tentar novamente\n            ;\n            return extractProfileData(url, retryCount + 1);\n        }\n        // Se ainda n√£o tem dados v√°lidos ap√≥s todas tentativas, retornar vazio\n        if (!hasValidFollowers) {\n            profileData.followers = \"\";\n        }\n        if (!hasValidLikes) {\n            profileData.likes = \"\";\n        }\n        return profileData;\n    } catch (error) {\n        // Se deu erro e ainda tem tentativas, tentar novamente\n        if (retryCount < MAX_RETRIES) {\n            console.log(`[${url}] Erro na tentativa ${retryCount + 1}: ${error.message}. Tentando novamente...`);\n            return extractProfileData(url, retryCount + 1);\n        }\n        throw error;\n    }\n}\nasync function POST(request) {\n    const auth = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.verifyAuth)(request);\n    if (!auth.authenticated) {\n        return auth.response;\n    }\n    try {\n        const { url } = await request.json();\n        if (!url) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"URL \\xe9 obrigat\\xf3ria\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(`\\nüîç Iniciando an√°lise de: ${url}`);\n        const profileData = await extractProfileData(url, 0);\n        console.log(`‚úÖ An√°lise conclu√≠da para: ${profileData.username}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(profileData);\n    } catch (error) {\n        console.error(\"‚ùå Erro ao extrair dados:\", error.message);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: `Erro ao analisar perfil: ${error.message}`\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPO1lBQW9CLEdBQzdCO2dCQUFFdkcsUUFBUTtZQUFJO1FBRWxCO1FBRUFkLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLDJCQUEyQixFQUFFUixJQUFJLENBQUM7UUFDL0MsTUFBTTZCLGNBQWMsTUFBTTlCLG1CQUFtQkMsS0FBSztRQUVsRE8sUUFBUUMsR0FBRyxDQUFDLENBQUMsMEJBQTBCLEVBQUVxQixZQUFZcEIsUUFBUSxDQUFDLENBQUM7UUFFL0QsT0FBT3BDLHFEQUFZQSxDQUFDNkosSUFBSSxDQUFDckc7SUFDM0IsRUFBRSxPQUFPK0YsT0FBWTtRQUNuQnJILFFBQVFxSCxLQUFLLENBQUMsNEJBQTRCQSxNQUFNQyxPQUFPO1FBQ3ZELE9BQU94SixxREFBWUEsQ0FBQzZKLElBQUksQ0FDdEI7WUFBRU4sT0FBTyxDQUFDLHlCQUF5QixFQUFFQSxNQUFNQyxPQUFPLENBQUMsQ0FBQztRQUFDLEdBQ3JEO1lBQUV4RyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2t3YWktcHJvZmlsZS1hbmFseXplci8uL2FwcC9hcGkvYW5hbHl6ZS9yb3V0ZS50cz80NmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCAqIGFzIGNoZWVyaW8gZnJvbSAnY2hlZXJpbydcbmltcG9ydCB7IHZlcmlmeUF1dGggfSBmcm9tICdAL2xpYi9hdXRoJ1xuXG4vLyBGdW7Dp8OjbyBwYXJhIHZhbGlkYXIgc2UgdW0gbsO6bWVybyDDqSB2w6FsaWRvIChuw6NvIMOpIDAsIHZhemlvIG91IE4vQSlcbmZ1bmN0aW9uIGlzVmFsaWROdW1iZXIodmFsdWU6IHN0cmluZyB8IG51bWJlcik6IGJvb2xlYW4ge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gZmFsc2VcbiAgY29uc3Qgc3RyID0gU3RyaW5nKHZhbHVlKS50cmltKCkudG9VcHBlckNhc2UoKVxuICBpZiAoc3RyID09PSAnJyB8fCBzdHIgPT09ICdOL0EnIHx8IHN0ciA9PT0gJzAnIHx8IHN0ciA9PT0gJ05VTEwnIHx8IHN0ciA9PT0gJ1VOREVGSU5FRCcpIHJldHVybiBmYWxzZVxuICBjb25zdCBudW0gPSBwYXJzZUludChzdHIucmVwbGFjZSgvW15cXGRdL2csICcnKSlcbiAgcmV0dXJuIG51bSA+IDBcbn1cblxuLy8gRnVuw6fDo28gcGFyYSBub3JtYWxpemFyIG7Dum1lcm8gKHJlbW92ZSBwb250b3MsIHbDrXJndWxhcywgbWFzIG1hbnTDqW0gSy9NL0IpXG5mdW5jdGlvbiBub3JtYWxpemVOdW1iZXIodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghdmFsdWUpIHJldHVybiAnJ1xuICBsZXQgbm9ybWFsaXplZCA9IHZhbHVlLnRyaW0oKVxuICBcbiAgLy8gU2UgdGVtIEssIE0sIEIgbm8gZmluYWwsIG1hbnRlclxuICBjb25zdCBoYXNTdWZmaXggPSAvW2ttYktNXSQvaS50ZXN0KG5vcm1hbGl6ZWQpXG4gIGNvbnN0IHN1ZmZpeCA9IGhhc1N1ZmZpeCA/IG5vcm1hbGl6ZWQuc2xpY2UoLTEpLnRvVXBwZXJDYXNlKCkgOiAnJ1xuICBjb25zdCBudW1iZXJQYXJ0ID0gaGFzU3VmZml4ID8gbm9ybWFsaXplZC5zbGljZSgwLCAtMSkgOiBub3JtYWxpemVkXG4gIFxuICAvLyBSZW1vdmVyIHBvbnRvcyBlIHbDrXJndWxhcyBkbyBuw7ptZXJvLCBtYXMgbWFudGVyIG8gbsO6bWVyb1xuICBjb25zdCBjbGVhbk51bWJlciA9IG51bWJlclBhcnQucmVwbGFjZSgvW15cXGRdL2csICcnKVxuICBcbiAgcmV0dXJuIGNsZWFuTnVtYmVyICsgc3VmZml4XG59XG5cbi8vIEZ1bsOnw6NvIHBhcmEgZXNwZXJhciAoZGVsYXkpXG5mdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKVxufVxuXG4vLyBGdW7Dp8OjbyBwcmluY2lwYWwgZGUgZXh0cmHDp8Ojb1xuYXN5bmMgZnVuY3Rpb24gZXh0cmFjdFByb2ZpbGVEYXRhKHVybDogc3RyaW5nLCByZXRyeUNvdW50OiBudW1iZXIgPSAwKTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgTUFYX1JFVFJJRVMgPSA1XG4gIGNvbnN0IERFTEFZX0JFVFdFRU5fUkVUUklFUyA9IDMwMDAgLy8gMyBzZWd1bmRvcyBlbnRyZSB0ZW50YXRpdmFzXG4gIFxuICB0cnkge1xuICAgIC8vIE5vcm1hbGl6YXIgVVJMIC0gc3Vwb3J0YXIgbcO6bHRpcGxvcyBmb3JtYXRvc1xuICAgIGxldCBub3JtYWxpemVkVXJsID0gdXJsLnRyaW0oKVxuICAgIFxuICAgIC8vIFJlbW92ZXIgZXNwYcOnb3MgZSBnYXJhbnRpciBxdWUgdGVtIHByb3RvY29sb1xuICAgIGlmICghbm9ybWFsaXplZFVybC5zdGFydHNXaXRoKCdodHRwOi8vJykgJiYgIW5vcm1hbGl6ZWRVcmwuc3RhcnRzV2l0aCgnaHR0cHM6Ly8nKSkge1xuICAgICAgbm9ybWFsaXplZFVybCA9ICdodHRwczovLycgKyBub3JtYWxpemVkVXJsXG4gICAgfVxuICAgIFxuICAgIC8vIFNlIGrDoSBmb3Iga3dhaS12aWRlby5jb20gb3Ugay5rd2FpLmNvbSBjb20gZm9ybWF0byBjb21wbGV0bywgbWFudGVyIGNvbW8gZXN0w6FcbiAgICBpZiAobm9ybWFsaXplZFVybC5pbmNsdWRlcygna3dhaS12aWRlby5jb20vdS9AJykgfHwgbm9ybWFsaXplZFVybC5pbmNsdWRlcygnay5rd2FpLmNvbS91L0AnKSkge1xuICAgICAgLy8gSsOhIGVzdMOhIG5vIGZvcm1hdG8gY29ycmV0bywgc8OzIGdhcmFudGlyIHF1ZSB0ZW0gaHR0cHNcbiAgICAgIGlmICghbm9ybWFsaXplZFVybC5zdGFydHNXaXRoKCdodHRwczovLycpKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRVcmwgPSBub3JtYWxpemVkVXJsLnJlcGxhY2UoL15odHRwOlxcL1xcLy8sICdodHRwczovLycpXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhgVVJMIGrDoSBlc3TDoSBubyBmb3JtYXRvIGNvcnJldG86ICR7bm9ybWFsaXplZFVybH1gKVxuICAgICAgLy8gQ29udGludWFyIGNvbSBhIFVSTCBjb21vIGVzdMOhXG4gICAgfSBlbHNlIGlmIChub3JtYWxpemVkVXJsLmluY2x1ZGVzKCd3d3cua3dhaS5jb20nKSkge1xuICAgICAgLy8gQ29udmVydGVyIHd3dy5rd2FpLmNvbSBwYXJhIGsua3dhaS5jb21cbiAgICAgIC8vIEV4dHJhaXIgdXNlcm5hbWUgZGUgcXVhbHF1ZXIgZm9ybWF0b1xuICAgICAgbGV0IHVzZXJuYW1lID0gJydcbiAgICAgIFxuICAgICAgLy8gVGVudGFyIGV4dHJhaXIgZGUgQHVzZXJuYW1lXG4gICAgICBjb25zdCB1c2VybmFtZU1hdGNoMSA9IG5vcm1hbGl6ZWRVcmwubWF0Y2goL0AoW15cXC9cXD8mI10rKS8pXG4gICAgICBpZiAodXNlcm5hbWVNYXRjaDEpIHtcbiAgICAgICAgdXNlcm5hbWUgPSB1c2VybmFtZU1hdGNoMVsxXVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGVudGFyIGV4dHJhaXIgZGUgL0B1c2VybmFtZSBvdSAvdXNlcm5hbWVcbiAgICAgICAgY29uc3QgdXNlcm5hbWVNYXRjaDIgPSBub3JtYWxpemVkVXJsLm1hdGNoKC9cXC8oPzp1XFwvKT9APyhbXlxcL1xcPyYjXSspLylcbiAgICAgICAgaWYgKHVzZXJuYW1lTWF0Y2gyKSB7XG4gICAgICAgICAgdXNlcm5hbWUgPSB1c2VybmFtZU1hdGNoMlsxXS5yZXBsYWNlKCdAJywgJycpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHVzZXJuYW1lKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRVcmwgPSBgaHR0cHM6Ly9rLmt3YWkuY29tL3UvQCR7dXNlcm5hbWV9YFxuICAgICAgICBjb25zb2xlLmxvZyhgVVJMIG5vcm1hbGl6YWRhIGRlICR7dXJsfSBwYXJhICR7bm9ybWFsaXplZFVybH1gKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBOw6NvIGZvaSBwb3Nzw612ZWwgZXh0cmFpciB1c2VybmFtZSBkZTogJHtub3JtYWxpemVkVXJsfWApXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub3JtYWxpemVkVXJsLmluY2x1ZGVzKCdrLmt3YWkuY29tJykgJiYgIW5vcm1hbGl6ZWRVcmwuaW5jbHVkZXMoJy91L0AnKSkge1xuICAgICAgLy8gR2FyYW50aXIgZm9ybWF0byBjb3JyZXRvIHNlIGrDoSBmb3Igay5rd2FpLmNvbSBtYXMgc2VtIC91L1xuICAgICAgY29uc3QgdXNlcm5hbWVNYXRjaCA9IG5vcm1hbGl6ZWRVcmwubWF0Y2goL0AoW15cXC9cXD8mI10rKS8pXG4gICAgICBpZiAodXNlcm5hbWVNYXRjaCkge1xuICAgICAgICBub3JtYWxpemVkVXJsID0gYGh0dHBzOi8vay5rd2FpLmNvbS91L0Ake3VzZXJuYW1lTWF0Y2hbMV19YFxuICAgICAgICBjb25zb2xlLmxvZyhgVVJMIGFqdXN0YWRhIHBhcmEgZm9ybWF0byBjb21wbGV0bzogJHtub3JtYWxpemVkVXJsfWApXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xMjAuMC4wLjAgU2FmYXJpLzUzNy4zNicsXG4gICAgICAnQWNjZXB0JzogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsKi8qO3E9MC44JyxcbiAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOiAncHQtQlIscHQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLFxuICAgICAgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsXG4gICAgICAnQ29ubmVjdGlvbic6ICdrZWVwLWFsaXZlJyxcbiAgICAgICdVcGdyYWRlLUluc2VjdXJlLVJlcXVlc3RzJzogJzEnLFxuICAgICAgJ1JlZmVyZXInOiAnaHR0cHM6Ly93d3cua3dhaS5jb20vJyxcbiAgICAgICdTZWMtRmV0Y2gtRGVzdCc6ICdkb2N1bWVudCcsXG4gICAgICAnU2VjLUZldGNoLU1vZGUnOiAnbmF2aWdhdGUnLFxuICAgICAgJ1NlYy1GZXRjaC1TaXRlJzogJ3NhbWUtc2l0ZSdcbiAgICB9XG5cbiAgICAvLyBBZ3VhcmRhciBhbnRlcyBkZSBmYXplciByZXF1aXNpw6fDo28gKGRhciB0ZW1wbyBwYXJhIHJlZGUpXG4gICAgaWYgKHJldHJ5Q291bnQgPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7bm9ybWFsaXplZFVybH1dIFRlbnRhdGl2YSAke3JldHJ5Q291bnQgKyAxfS8ke01BWF9SRVRSSUVTfSAtIEFndWFyZGFuZG8gJHtERUxBWV9CRVRXRUVOX1JFVFJJRVN9bXMuLi5gKVxuICAgICAgYXdhaXQgc2xlZXAoREVMQVlfQkVUV0VFTl9SRVRSSUVTKVxuICAgIH1cblxuICAgIC8vIEZhemVyIHJlcXVpc2nDp8OjbyBjb20gdGltZW91dCBtYWlvclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KG5vcm1hbGl6ZWRVcmwsIHsgXG4gICAgICBoZWFkZXJzLCBcbiAgICAgIHRpbWVvdXQ6IDIwMDAwLCAvLyAyMCBzZWd1bmRvc1xuICAgICAgbWF4UmVkaXJlY3RzOiA1LFxuICAgICAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIChzdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgNTAwIC8vIEFjZWl0YXIgYXTDqSA0eHggcGFyYSB2ZXIgbyBxdWUgcmV0b3JuYVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgLy8gVmVyaWZpY2FyIHNlIGEgcmVzcG9zdGEgZm9pIHbDoWxpZGFcbiAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDQwMCkge1xuICAgICAgY29uc29sZS5sb2coYFske25vcm1hbGl6ZWRVcmx9XSBTdGF0dXMgSFRUUDogJHtyZXNwb25zZS5zdGF0dXN9YClcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU3RhdHVzIEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YClcbiAgICB9XG4gICAgXG4gICAgLy8gQWd1YXJkYXIgdW0gcG91Y28gYXDDs3MgcmVjZWJlciByZXNwb3N0YSBwYXJhIGdhcmFudGlyIHF1ZSBIVE1MIGZvaSBwcm9jZXNzYWRvXG4gICAgYXdhaXQgc2xlZXAoMTAwMClcbiAgICBcbiAgICBjb25zdCAkID0gY2hlZXJpby5sb2FkKHJlc3BvbnNlLmRhdGEpXG4gICAgY29uc3QgaHRtbCA9IHJlc3BvbnNlLmRhdGFcbiAgICBcbiAgICAvLyBEZWJ1ZzogU2FsdmFyIEhUTUwgcGFyY2lhbCBlbSBjYXNvIGRlIGVycm8gKHByaW1laXJvcyA1MDAwIGNhcmFjdGVyZXMpXG4gICAgaWYgKHJldHJ5Q291bnQgPT09IE1BWF9SRVRSSUVTIC0gMSkge1xuICAgICAgY29uc29sZS5sb2coYFske25vcm1hbGl6ZWRVcmx9XSBIVE1MIFNhbXBsZSAoZmlyc3QgMjAwMCBjaGFycyk6YCwgaHRtbC5zdWJzdHJpbmcoMCwgMjAwMCkpXG4gICAgfVxuXG4gICAgY29uc3QgcHJvZmlsZURhdGE6IGFueSA9IHtcbiAgICAgIHVzZXJuYW1lOiAnJyxcbiAgICAgIGRpc3BsYXlOYW1lOiAnJyxcbiAgICAgIGF2YXRhcjogJycsXG4gICAgICBmb2xsb3dlcnM6ICcnLFxuICAgICAgbGlrZXM6ICcnLFxuICAgICAgYmlvOiAnJyxcbiAgICAgIHZlcmlmaWVkOiBmYWxzZVxuICAgIH1cblxuICAgIC8vIEV4dHJhaXIgdXNlcm5hbWUgZGEgVVJMXG4gICAgY29uc3QgdXNlcm5hbWVNYXRjaCA9IG5vcm1hbGl6ZWRVcmwubWF0Y2goL0AoW15cXC9cXD9dKykvKVxuICAgIGlmICh1c2VybmFtZU1hdGNoKSB7XG4gICAgICBwcm9maWxlRGF0YS51c2VybmFtZSA9IHVzZXJuYW1lTWF0Y2hbMV1cbiAgICB9XG5cbiAgICAvLyBFU1RSQVTDiUdJQSAxOiBNZXRhIFRhZ3MgT3BlbiBHcmFwaFxuICAgIHByb2ZpbGVEYXRhLmRpc3BsYXlOYW1lID0gJCgnbWV0YVtwcm9wZXJ0eT1cIm9nOnRpdGxlXCJdJykuYXR0cignY29udGVudCcpIHx8ICcnXG4gICAgcHJvZmlsZURhdGEuYXZhdGFyID0gJCgnbWV0YVtwcm9wZXJ0eT1cIm9nOmltYWdlXCJdJykuYXR0cignY29udGVudCcpIHx8ICcnXG4gICAgY29uc3QgbWV0YURlc2NyaXB0aW9uID0gJCgnbWV0YVtwcm9wZXJ0eT1cIm9nOmRlc2NyaXB0aW9uXCJdJykuYXR0cignY29udGVudCcpIHx8ICQoJ21ldGFbbmFtZT1cImRlc2NyaXB0aW9uXCJdJykuYXR0cignY29udGVudCcpIHx8ICcnXG4gICAgcHJvZmlsZURhdGEuYmlvID0gbWV0YURlc2NyaXB0aW9uXG5cbiAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSBUZW50YXRpdmEgJHtyZXRyeUNvdW50ICsgMX0gLSBJbmljaWFuZG8gZXh0cmHDp8Ojby4uLmApXG5cbiAgICAvLyBFU1RSQVTDiUdJQSAyOiBFeHRyYWlyIGRhIG1ldGEgZGVzY3JpcHRpb24gKGZvcm1hdG86IFwiNDQ5ODggQ3VydGlkYXMuIDQ4MTUgU2VndWlkb3Jlcy5cIilcbiAgICBpZiAobWV0YURlc2NyaXB0aW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSBNZXRhIERlc2NyaXB0aW9uOmAsIG1ldGFEZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgMjAwKSlcbiAgICAgIFxuICAgICAgLy8gUGFkcsO1ZXMgbWFpcyBmbGV4w612ZWlzIHBhcmEgbWV0YSBkZXNjcmlwdGlvblxuICAgICAgY29uc3QgZGVzY0xpa2VzUGF0dGVybnMgPSBbXG4gICAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKilcXHMqQ3VydGlkYXMvaSxcbiAgICAgICAgL0N1cnRpZGFzWzpcXHNcXC5dKihcXGQrW1xcZFxcLlxcLF0qKS9pLFxuICAgICAgICAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKmxpa2VzL2ksXG4gICAgICAgIC9saWtlc1s6XFxzXFwuXSooXFxkK1tcXGRcXC5cXCxdKikvaSxcbiAgICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qKVxccypMaWtlL2lcbiAgICAgIF1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIGRlc2NMaWtlc1BhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gbWV0YURlc2NyaXB0aW9uLm1hdGNoKHBhdHRlcm4pXG4gICAgICAgIGlmIChtYXRjaCAmJiBpc1ZhbGlkTnVtYmVyKG1hdGNoWzFdKSkge1xuICAgICAgICAgIHByb2ZpbGVEYXRhLmxpa2VzID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoWzFdKVxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBMaWtlcyBkYSBtZXRhIGRlc2NyaXB0aW9uOmAsIHByb2ZpbGVEYXRhLmxpa2VzKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGVzY0ZvbGxvd2Vyc1BhdHRlcm5zID0gW1xuICAgICAgICAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKlNlZ3VpZG9yZXMvaSxcbiAgICAgICAgL1NlZ3VpZG9yZXNbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSopL2ksXG4gICAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKilcXHMqZm9sbG93ZXJzL2ksXG4gICAgICAgIC9mb2xsb3dlcnNbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSopL2ksXG4gICAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKilcXHMqRm9sbG93ZXIvaSxcbiAgICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qKVxccypmYW5zL2ksXG4gICAgICAgIC9mYW5zWzpcXHNcXC5dKihcXGQrW1xcZFxcLlxcLF0qKS9pXG4gICAgICBdXG4gICAgICBcbiAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBkZXNjRm9sbG93ZXJzUGF0dGVybnMpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBtZXRhRGVzY3JpcHRpb24ubWF0Y2gocGF0dGVybilcbiAgICAgICAgaWYgKG1hdGNoICYmIGlzVmFsaWROdW1iZXIobWF0Y2hbMV0pKSB7XG4gICAgICAgICAgcHJvZmlsZURhdGEuZm9sbG93ZXJzID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoWzFdKVxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBGb2xsb3dlcnMgZGEgbWV0YSBkZXNjcmlwdGlvbjpgLCBwcm9maWxlRGF0YS5mb2xsb3dlcnMpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVTVFJBVMOJR0lBIDM6IEJ1c2NhciBlbSB0b2RvIG8gdGV4dG8gZGEgcMOhZ2luYVxuICAgIGNvbnN0IHBhZ2VUZXh0ID0gJC50ZXh0KClcbiAgICBjb25zdCBmdWxsVGV4dCA9IHBhZ2VUZXh0ICsgJyAnICsgbWV0YURlc2NyaXB0aW9uICsgJyAnICsgaHRtbFxuXG4gICAgLy8gUGFkcsO1ZXMgbWFpcyBmbGV4w612ZWlzIHBhcmEgc2VndWlkb3Jlc1xuICAgIGNvbnN0IGZvbGxvd2Vyc1BhdHRlcm5zID0gW1xuICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPylcXHMqU2VndWlkb3Jlcy9pLFxuICAgICAgL1NlZ3VpZG9yZXNbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KS9pLFxuICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPylcXHMqKD86c2VndWlkb3Jlc3xmb2xsb3dlcnN8ZsOjc3xmYW5zKS9pLFxuICAgICAgLyg/OnNlZ3VpZG9yZXN8Zm9sbG93ZXJzfGbDo3N8ZmFucylbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KS9pLFxuICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPylcXHMqZm9sbG93ZXIvaSxcbiAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKltrS21NXT8pXFxzKmZhbi9pLFxuICAgICAgL1wiZm9sbG93ZXJzXCJbOlxcc10qXCIoXFxkK1trS21NXT8pXCIvaSxcbiAgICAgIC8nZm9sbG93ZXJzJ1s6XFxzXSonKFxcZCtba0ttTV0/KScvaSxcbiAgICBdXG4gICAgXG4gICAgaWYgKCFpc1ZhbGlkTnVtYmVyKHByb2ZpbGVEYXRhLmZvbGxvd2VycykpIHtcbiAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBmb2xsb3dlcnNQYXR0ZXJucykge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gZnVsbFRleHQubWF0Y2gocGF0dGVybilcbiAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlc1sxXSAmJiBpc1ZhbGlkTnVtYmVyKG1hdGNoZXNbMV0pKSB7XG4gICAgICAgICAgcHJvZmlsZURhdGEuZm9sbG93ZXJzID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoZXNbMV0pXG4gICAgICAgICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0g4pyFIEZvbGxvd2VycyBlbmNvbnRyYWRvIG5vIHRleHRvOmAsIHByb2ZpbGVEYXRhLmZvbGxvd2VycylcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFBhZHLDtWVzIG1haXMgZmxleMOtdmVpcyBwYXJhIGN1cnRpZGFzXG4gICAgY29uc3QgbGlrZXNQYXR0ZXJucyA9IFtcbiAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKltrS21NXT8pXFxzKkN1cnRpZGFzL2ksXG4gICAgICAvQ3VydGlkYXNbOlxcc1xcLl0qKFxcZCtbXFxkXFwuXFwsXSpba0ttTV0/KS9pLFxuICAgICAgLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPylcXHMqKD86Y3VydGlkYXN8bGlrZXN8bGlrZWQpL2ksXG4gICAgICAvKD86Y3VydGlkYXN8bGlrZXN8bGlrZWQpWzpcXHNcXC5dKihcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPykvaSxcbiAgICAgIC8oXFxkK1tcXGRcXC5cXCxdKltrS21NXT8pXFxzKmxpa2UvaSxcbiAgICAgIC9cImxpa2VzXCJbOlxcc10qXCIoXFxkK1trS21NXT8pXCIvaSxcbiAgICAgIC8nbGlrZXMnWzpcXHNdKicoXFxkK1trS21NXT8pJy9pLFxuICAgICAgL1wibGlrZUNvdW50XCJbOlxcc10qXCIoXFxkK1trS21NXT8pXCIvaSxcbiAgICAgIC9cInRvdGFsTGlrZXNcIls6XFxzXSpcIihcXGQrW2tLbU1dPylcIi9pLFxuICAgIF1cbiAgICBcbiAgICBpZiAoIWlzVmFsaWROdW1iZXIocHJvZmlsZURhdGEubGlrZXMpKSB7XG4gICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YgbGlrZXNQYXR0ZXJucykge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gZnVsbFRleHQubWF0Y2gocGF0dGVybilcbiAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlc1sxXSAmJiBpc1ZhbGlkTnVtYmVyKG1hdGNoZXNbMV0pKSB7XG4gICAgICAgICAgcHJvZmlsZURhdGEubGlrZXMgPSBub3JtYWxpemVOdW1iZXIobWF0Y2hlc1sxXSlcbiAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgTGlrZXMgZW5jb250cmFkbyBubyB0ZXh0bzpgLCBwcm9maWxlRGF0YS5saWtlcylcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRVNUUkFUw4lHSUEgNDogQnVzY2FyIGVtIHNjcmlwdHMgSmF2YVNjcmlwdCAoSlNPTiBlbWJ1dGlkbylcbiAgICBjb25zdCBzY3JpcHRzID0gJCgnc2NyaXB0JykudG9BcnJheSgpXG4gICAgbGV0IGFsbFNjcmlwdENvbnRlbnQgPSAnJ1xuICAgIFxuICAgIGZvciAoY29uc3Qgc2NyaXB0IG9mIHNjcmlwdHMpIHtcbiAgICAgIGNvbnN0IHNjcmlwdENvbnRlbnQgPSAkKHNjcmlwdCkuaHRtbCgpIHx8ICcnXG4gICAgICBhbGxTY3JpcHRDb250ZW50ICs9IHNjcmlwdENvbnRlbnQgKyAnXFxuJ1xuICAgICAgXG4gICAgICAvLyBCdXNjYXIgSlNPTiBwYXR0ZXJuc1xuICAgICAgY29uc3QganNvblBhdHRlcm5zID0gW1xuICAgICAgICAvd2luZG93XFwuX19JTklUSUFMX1NUQVRFX19cXHMqPVxccyooe1tcXHNcXFNdKz99KTsvLFxuICAgICAgICAvd2luZG93XFwuX19QUkVMT0FERURfU1RBVEVfX1xccyo9XFxzKih7W1xcc1xcU10rP30pOy8sXG4gICAgICAgIC93aW5kb3dcXC5fX05VWFRfX1xccyo9XFxzKih7W1xcc1xcU10rP30pOy8sXG4gICAgICAgIC93aW5kb3dcXC5fX05FWFRfREFUQV9fXFxzKj1cXHMqKHtbXFxzXFxTXSs/fSk7LyxcbiAgICAgICAgL3ZhclxccytfX1VTRVJfX1xccyo9XFxzKih7W1xcc1xcU10rP30pOy8sXG4gICAgICAgIC9cInVzZXJcIlxccyo6XFxzKih7W1xcc1xcU10rP30pLyxcbiAgICAgICAgL1wicHJvZmlsZVwiXFxzKjpcXHMqKHtbXFxzXFxTXSs/fSkvLFxuICAgICAgICAvd2luZG93XFwuaW5pdGlhbFByb3BzXFxzKj1cXHMqKHtbXFxzXFxTXSs/fSk7LyxcbiAgICAgICAgL3dpbmRvd1xcLnBhZ2VQcm9wc1xccyo9XFxzKih7W1xcc1xcU10rP30pOy8sXG4gICAgICAgIC9cXHtcInVzZXJcIltefV0rXFx9LyxcbiAgICAgICAgL3VzZXJbXCJcXCddP1xccypbOj1dXFxzKihcXHtbXn1dK1xcfSkvLFxuICAgICAgXVxuXG4gICAgICBmb3IgKGNvbnN0IHBhdHRlcm4gb2YganNvblBhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IGpzb25NYXRjaGVzID0gc2NyaXB0Q29udGVudC5tYXRjaChwYXR0ZXJuKVxuICAgICAgICBpZiAoanNvbk1hdGNoZXMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRhdGE6IGFueVxuICAgICAgICAgICAgY29uc3QganNvblN0ciA9IGpzb25NYXRjaGVzWzFdLnRyaW0oKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoanNvblN0ci5zdGFydHNXaXRoKCd7JykpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShqc29uU3RyKVxuICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxsTWF0Y2ggPSBzY3JpcHRDb250ZW50Lm1hdGNoKC9cXHtbXnt9XSpcInVzZXJcIltee31dKlxcfS8pXG4gICAgICAgICAgICAgICAgaWYgKGZ1bGxNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZnVsbE1hdGNoWzBdKVxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGRhdGEudXNlciB8fCBkYXRhLnByb2ZpbGUgfHwgZGF0YS5kYXRhPy51c2VyIHx8IGRhdGEuZGF0YT8ucHJvZmlsZSB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEucmVzdWx0Py51c2VyIHx8IGRhdGEucmVzdWx0Py5wcm9maWxlIHx8IGRhdGEuY29udGVudD8udXNlciB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pbml0aWFsU3RhdGU/LnVzZXIgfHwgZGF0YS5wYWdlUHJvcHM/LnVzZXIgfHwgZGF0YVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKHVzZXJEYXRhICYmIHR5cGVvZiB1c2VyRGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAvLyBFeHRyYWlyIGZvbGxvd2VycyBjb20gdmFsaWRhw6fDo29cbiAgICAgICAgICAgICAgICBjb25zdCBmb2xsb3dlckNhbmRpZGF0ZXMgPSBbXG4gICAgICAgICAgICAgICAgICB1c2VyRGF0YS5mb2xsb3dlckNvdW50LCB1c2VyRGF0YS5mb2xsb3dlcnNDb3VudCwgdXNlckRhdGEuZm9sbG93ZXJzLFxuICAgICAgICAgICAgICAgICAgdXNlckRhdGEuZmFuQ291bnQsIHVzZXJEYXRhLmZhbl9jb3VudCwgdXNlckRhdGEuZmFucyxcbiAgICAgICAgICAgICAgICAgIHVzZXJEYXRhLnRvdGFsRm9sbG93ZXJzLCB1c2VyRGF0YS5mb2xsb3dlcl9jb3VudFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbmRpZGF0ZSBvZiBmb2xsb3dlckNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgIT09IHVuZGVmaW5lZCAmJiBjYW5kaWRhdGUgIT09IG51bGwgJiYgaXNWYWxpZE51bWJlcihTdHJpbmcoY2FuZGlkYXRlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZmlsZURhdGEuZm9sbG93ZXJzID0gbm9ybWFsaXplTnVtYmVyKFN0cmluZyhjYW5kaWRhdGUpKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgRm9sbG93ZXJzIGRvIEpTT046YCwgcHJvZmlsZURhdGEuZm9sbG93ZXJzKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEV4dHJhaXIgbGlrZXMgY29tIHZhbGlkYcOnw6NvXG4gICAgICAgICAgICAgICAgY29uc3QgbGlrZUNhbmRpZGF0ZXMgPSBbXG4gICAgICAgICAgICAgICAgICB1c2VyRGF0YS5saWtlQ291bnQsIHVzZXJEYXRhLnRvdGFsTGlrZXMsIHVzZXJEYXRhLmxpa2VzLFxuICAgICAgICAgICAgICAgICAgdXNlckRhdGEucmVjZWl2ZWRMaWtlQ291bnQsIHVzZXJEYXRhLmxpa2VfY291bnQsIHVzZXJEYXRhLnRvdGFsX2xpa2VzXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGxpa2VDYW5kaWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSB1bmRlZmluZWQgJiYgY2FuZGlkYXRlICE9PSBudWxsICYmIGlzVmFsaWROdW1iZXIoU3RyaW5nKGNhbmRpZGF0ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2ZpbGVEYXRhLmxpa2VzID0gbm9ybWFsaXplTnVtYmVyKFN0cmluZyhjYW5kaWRhdGUpKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgTGlrZXMgZG8gSlNPTjpgLCBwcm9maWxlRGF0YS5saWtlcylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YS5hdmF0YXIgPSBwcm9maWxlRGF0YS5hdmF0YXIgfHwgdXNlckRhdGEuYXZhdGFyIHx8IHVzZXJEYXRhLmF2YXRhclVybCB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEucHJvZmlsZVBpYyB8fCB1c2VyRGF0YS5oZWFkVXJsIHx8IHVzZXJEYXRhLmhlYWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEucHJvZmlsZV9pbWFnZSB8fCB1c2VyRGF0YS5pbWFnZSB8fCB1c2VyRGF0YS5waWN0dXJlIHx8ICcnXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvZmlsZURhdGEuZGlzcGxheU5hbWUgPSBwcm9maWxlRGF0YS5kaXNwbGF5TmFtZSB8fCB1c2VyRGF0YS5uaWNrbmFtZSB8fCB1c2VyRGF0YS5uYW1lIHx8IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckRhdGEuZGlzcGxheU5hbWUgfHwgdXNlckRhdGEudXNlck5hbWUgfHwgdXNlckRhdGEudXNlcm5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJEYXRhLnRpdGxlIHx8ICcnXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcHJvZmlsZURhdGEuYmlvID0gcHJvZmlsZURhdGEuYmlvIHx8IHVzZXJEYXRhLnNpZ25hdHVyZSB8fCB1c2VyRGF0YS5kZXNjcmlwdGlvbiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRGF0YS5iaW8gfHwgdXNlckRhdGEuYWJvdXQgfHwgdXNlckRhdGEuaW50cm8gfHwgJydcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YS52ZXJpZmllZCA9IHByb2ZpbGVEYXRhLnZlcmlmaWVkIHx8IHVzZXJEYXRhLnZlcmlmaWVkIHx8IHVzZXJEYXRhLmlzVmVyaWZpZWQgfHwgdXNlckRhdGEudmVyaWZpZWRfc3RhdHVzIHx8IGZhbHNlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9maWxlRGF0YS51c2VybmFtZSAmJiB1c2VyRGF0YS51bmlxdWVJZCkge1xuICAgICAgICAgICAgICAgICAgcHJvZmlsZURhdGEudXNlcm5hbWUgPSB1c2VyRGF0YS51bmlxdWVJZC5yZXBsYWNlKCdAJywgJycpXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghcHJvZmlsZURhdGEudXNlcm5hbWUgJiYgdXNlckRhdGEudXNlcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgIHByb2ZpbGVEYXRhLnVzZXJuYW1lID0gdXNlckRhdGEudXNlcm5hbWUucmVwbGFjZSgnQCcsICcnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIENvbnRpbnVhciB0ZW50YW5kb1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVTVFJBVMOJR0lBIDU6IEJ1c2NhciBwYWRyw7VlcyBlc3BlY8OtZmljb3MgZG8gS3dhaSBlbSBzY3JpcHRzXG4gICAgY29uc3Qga3dhaVBhdHRlcm5zID0ge1xuICAgICAgZm9sbG93ZXJzOiBbXG4gICAgICAgIC9bXCInXWZvbGxvd2VyQ291bnRbXCInXVxccyo6XFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9bXCInXWZvbGxvd2Vyc1tcIiddXFxzKjpcXHMqW1wiJ10/KFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPykvaSxcbiAgICAgICAgL1tcIiddZmFuQ291bnRbXCInXVxccyo6XFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9mb2xsb3dlckNvdW50W1wiJ10/XFxzKls6PV1cXHMqW1wiJ10/KFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPykvaSxcbiAgICAgICAgL2ZvbGxvd2Vyc1tcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9mYW5Db3VudFtcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KVxccypmb2xsb3dlci9pLFxuICAgICAgICAvKFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPylcXHMqZmFuL2ksXG4gICAgICBdLFxuICAgICAgbGlrZXM6IFtcbiAgICAgICAgL1tcIiddbGlrZUNvdW50W1wiJ11cXHMqOlxccypbXCInXT8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KS9pLFxuICAgICAgICAvW1wiJ110b3RhbExpa2VzW1wiJ11cXHMqOlxccypbXCInXT8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KS9pLFxuICAgICAgICAvW1wiJ11yZWNlaXZlZExpa2VDb3VudFtcIiddXFxzKjpcXHMqW1wiJ10/KFxcZCtbXFwuLF0/XFxkKltrS21NYkJdPykvaSxcbiAgICAgICAgL2xpa2VDb3VudFtcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC9saWtlc1tcIiddP1xccypbOj1dXFxzKltcIiddPyhcXGQrW1xcLixdP1xcZCpba0ttTWJCXT8pL2ksXG4gICAgICAgIC8oXFxkK1tcXC4sXT9cXGQqW2tLbU1iQl0/KVxccypsaWtlL2ksXG4gICAgICBdXG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBba2V5LCBwYXR0ZXJuc10gb2YgT2JqZWN0LmVudHJpZXMoa3dhaVBhdHRlcm5zKSkge1xuICAgICAgaWYgKCFpc1ZhbGlkTnVtYmVyKHByb2ZpbGVEYXRhW2tleV0pKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGF0dGVybiBvZiBwYXR0ZXJucykge1xuICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBhbGxTY3JpcHRDb250ZW50Lm1hdGNoKHBhdHRlcm4pXG4gICAgICAgICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlc1sxXSAmJiBpc1ZhbGlkTnVtYmVyKG1hdGNoZXNbMV0pKSB7XG4gICAgICAgICAgICBwcm9maWxlRGF0YVtrZXldID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoZXNbMV0pXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDinIUgJHtrZXl9IGVuY29udHJhZG8gZW0gc2NyaXB0OmAsIHByb2ZpbGVEYXRhW2tleV0pXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVTVFJBVMOJR0lBIDY6IEJ1c2NhciBlbSBhdHJpYnV0b3MgSFRNTCBlIGRhdGEtYXR0cmlidXRlc1xuICAgIGlmICghaXNWYWxpZE51bWJlcihwcm9maWxlRGF0YS5mb2xsb3dlcnMpKSB7XG4gICAgICBjb25zdCBmb2xsb3dlcnNTZWxlY3RvcnMgPSBbXG4gICAgICAgICdbY2xhc3MqPVwiZm9sbG93ZXJcIl0nLCAnW2NsYXNzKj1cImZhblwiXScsICdbZGF0YS1mb2xsb3dlcnNdJyxcbiAgICAgICAgJ1tkYXRhLWZvbGxvd2VyLWNvdW50XScsICdbZGF0YS1mYW4tY291bnRdJywgJ1tpZCo9XCJmb2xsb3dlclwiXSdcbiAgICAgIF1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBmb2xsb3dlcnNTZWxlY3RvcnMpIHtcbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSAkKHNlbGVjdG9yKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZWwgPSAkKGVsZW1lbnRzW2ldKVxuICAgICAgICAgIGNvbnN0IHRleHQgPSBlbC50ZXh0KCkgfHwgZWwuYXR0cignZGF0YS1mb2xsb3dlcnMnKSB8fCBlbC5hdHRyKCdkYXRhLWZvbGxvd2VyLWNvdW50JykgfHwgJydcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IHRleHQubWF0Y2goLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPykvaSlcbiAgICAgICAgICBpZiAobWF0Y2ggJiYgaXNWYWxpZE51bWJlcihtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVEYXRhLmZvbGxvd2VycyA9IG5vcm1hbGl6ZU51bWJlcihtYXRjaFsxXSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBGb2xsb3dlcnMgZW5jb250cmFkbyBlbSBlbGVtZW50byBIVE1MOmAsIHByb2ZpbGVEYXRhLmZvbGxvd2VycylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9maWxlRGF0YS5mb2xsb3dlcnMpIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2ZpbGVEYXRhLmZvbGxvd2VycykgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWROdW1iZXIocHJvZmlsZURhdGEubGlrZXMpKSB7XG4gICAgICBjb25zdCBsaWtlc1NlbGVjdG9ycyA9IFtcbiAgICAgICAgJ1tjbGFzcyo9XCJsaWtlXCJdJywgJ1tkYXRhLWxpa2VzXScsICdbZGF0YS1saWtlLWNvdW50XScsXG4gICAgICAgICdbaWQqPVwibGlrZVwiXScsICdbY2xhc3MqPVwiY3VydGlkYVwiXSdcbiAgICAgIF1cbiAgICAgIFxuICAgICAgZm9yIChjb25zdCBzZWxlY3RvciBvZiBsaWtlc1NlbGVjdG9ycykge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9ICQoc2VsZWN0b3IpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBlbCA9ICQoZWxlbWVudHNbaV0pXG4gICAgICAgICAgY29uc3QgdGV4dCA9IGVsLnRleHQoKSB8fCBlbC5hdHRyKCdkYXRhLWxpa2VzJykgfHwgZWwuYXR0cignZGF0YS1saWtlLWNvdW50JykgfHwgJydcbiAgICAgICAgICBjb25zdCBtYXRjaCA9IHRleHQubWF0Y2goLyhcXGQrW1xcZFxcLlxcLF0qW2tLbU1dPykvaSlcbiAgICAgICAgICBpZiAobWF0Y2ggJiYgaXNWYWxpZE51bWJlcihtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgIHByb2ZpbGVEYXRhLmxpa2VzID0gbm9ybWFsaXplTnVtYmVyKG1hdGNoWzFdKVxuICAgICAgICAgICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0g4pyFIExpa2VzIGVuY29udHJhZG8gZW0gZWxlbWVudG8gSFRNTDpgLCBwcm9maWxlRGF0YS5saWtlcylcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcm9maWxlRGF0YS5saWtlcykgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvZmlsZURhdGEubGlrZXMpIGJyZWFrXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRVNUUkFUw4lHSUEgNzogQnVzY2FyIGF2YXRhclxuICAgIGlmICghcHJvZmlsZURhdGEuYXZhdGFyIHx8IHByb2ZpbGVEYXRhLmF2YXRhciA9PT0gJycpIHtcbiAgICAgIGNvbnN0IGF2YXRhclNlbGVjdG9ycyA9IFtcbiAgICAgICAgJ2ltZ1thbHQqPVwicHJvZmlsZVwiXScsICdpbWdbYWx0Kj1cImF2YXRhclwiXScsICcuYXZhdGFyIGltZycsXG4gICAgICAgICcucHJvZmlsZS1pbWcgaW1nJywgJ1tjbGFzcyo9XCJhdmF0YXJcIl0gaW1nJywgJ1tjbGFzcyo9XCJwcm9maWxlXCJdIGltZycsXG4gICAgICAgICdpbWdbc3JjKj1cImF2YXRhclwiXScsICdpbWdbc3JjKj1cImhlYWRcIl0nLCAnaW1nW3NyYyo9XCJwcm9maWxlXCJdJ1xuICAgICAgXVxuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IHNlbGVjdG9yIG9mIGF2YXRhclNlbGVjdG9ycykge1xuICAgICAgICBjb25zdCBpbWcgPSAkKHNlbGVjdG9yKS5maXJzdCgpXG4gICAgICAgIGNvbnN0IHNyYyA9IGltZy5hdHRyKCdzcmMnKSB8fCBpbWcuYXR0cignZGF0YS1zcmMnKSB8fCBpbWcuYXR0cignZGF0YS1sYXp5LXNyYycpIHx8ICcnXG4gICAgICAgIGlmIChzcmMgJiYgc3JjLmluY2x1ZGVzKCdodHRwJykpIHtcbiAgICAgICAgICBwcm9maWxlRGF0YS5hdmF0YXIgPSBzcmNcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVkFMSURBw4fDg08gRklOQUw6IFZlcmlmaWNhciBzZSBlbmNvbnRyb3UgZGFkb3MgdsOhbGlkb3NcbiAgICBjb25zdCBoYXNWYWxpZEZvbGxvd2VycyA9IGlzVmFsaWROdW1iZXIocHJvZmlsZURhdGEuZm9sbG93ZXJzKVxuICAgIGNvbnN0IGhhc1ZhbGlkTGlrZXMgPSBpc1ZhbGlkTnVtYmVyKHByb2ZpbGVEYXRhLmxpa2VzKVxuXG4gICAgY29uc29sZS5sb2coYFske3Byb2ZpbGVEYXRhLnVzZXJuYW1lfV0gUmVzdWx0YWRvIHRlbnRhdGl2YSAke3JldHJ5Q291bnQgKyAxfTpgLCB7XG4gICAgICBmb2xsb3dlcnM6IGhhc1ZhbGlkRm9sbG93ZXJzID8gcHJvZmlsZURhdGEuZm9sbG93ZXJzIDogJ0lOVsOBTElETycsXG4gICAgICBsaWtlczogaGFzVmFsaWRMaWtlcyA/IHByb2ZpbGVEYXRhLmxpa2VzIDogJ0lOVsOBTElETycsXG4gICAgICBkaXNwbGF5TmFtZTogcHJvZmlsZURhdGEuZGlzcGxheU5hbWUsXG4gICAgICBtZXRhRGVzY3JpcHRpb246IG1ldGFEZXNjcmlwdGlvbj8uc3Vic3RyaW5nKDAsIDEwMCkgfHwgJ04vQSdcbiAgICB9KVxuXG4gICAgLy8gU2UgbsOjbyBlbmNvbnRyb3UgZGFkb3MgdsOhbGlkb3MsIHRlbnRhciB1bWEgw7psdGltYSBidXNjYSBhZ3Jlc3NpdmEgYW50ZXMgZGUgZGVzaXN0aXJcbiAgICBpZiAoKCFoYXNWYWxpZEZvbGxvd2VycyB8fCAhaGFzVmFsaWRMaWtlcykpIHtcbiAgICAgIC8vIEJ1c2NhciBUT0RPUyBvcyBuw7ptZXJvcyBuYSBww6FnaW5hIGUgdGVudGFyIGlkZW50aWZpY2FyIHBlbG8gY29udGV4dG9cbiAgICAgIGNvbnN0IGFsbE51bWJlcnMgPSBmdWxsVGV4dC5tYXRjaCgvXFxkK1tcXGRcXC5cXCxdKltrS21NXT8vZykgfHwgW11cbiAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIE7Dum1lcm9zIGVuY29udHJhZG9zIG5hIHDDoWdpbmE6YCwgYWxsTnVtYmVycy5zbGljZSgwLCAyMCkpXG4gICAgICBcbiAgICAgIC8vIFByb2N1cmFyIHBhZHLDtWVzIGVzcGVjw61maWNvcyBxdWUgcG9kZW0gZXN0YXIgZXNjb25kaWRvc1xuICAgICAgY29uc3QgaGlkZGVuUGF0dGVybnMgPSBbXG4gICAgICAgIHsgcGF0dGVybjogLyhcXGQrW1xcZFxcLlxcLF0qKVxccypmb2xsb3dlcnM/XFxzKi9naSwgdHlwZTogJ2ZvbGxvd2VycycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKnNlZ3VpZG9yZXM/XFxzKi9naSwgdHlwZTogJ2ZvbGxvd2VycycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKmxpa2VzP1xccyovZ2ksIHR5cGU6ICdsaWtlcycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvKFxcZCtbXFxkXFwuXFwsXSopXFxzKmN1cnRpZGFzP1xccyovZ2ksIHR5cGU6ICdsaWtlcycgfSxcbiAgICAgICAgeyBwYXR0ZXJuOiAvZm9sbG93ZXJzP1s6XFxzPV0rKFxcZCtbXFxkXFwuXFwsXSopL2dpLCB0eXBlOiAnZm9sbG93ZXJzJyB9LFxuICAgICAgICB7IHBhdHRlcm46IC9zZWd1aWRvcmVzP1s6XFxzPV0rKFxcZCtbXFxkXFwuXFwsXSopL2dpLCB0eXBlOiAnZm9sbG93ZXJzJyB9LFxuICAgICAgICB7IHBhdHRlcm46IC9saWtlcz9bOlxccz1dKyhcXGQrW1xcZFxcLlxcLF0qKS9naSwgdHlwZTogJ2xpa2VzJyB9LFxuICAgICAgICB7IHBhdHRlcm46IC9jdXJ0aWRhcz9bOlxccz1dKyhcXGQrW1xcZFxcLlxcLF0qKS9naSwgdHlwZTogJ2xpa2VzJyB9LFxuICAgICAgXVxuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IHsgcGF0dGVybiwgdHlwZSB9IG9mIGhpZGRlblBhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBbLi4uZnVsbFRleHQubWF0Y2hBbGwocGF0dGVybildXG4gICAgICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgIGlmIChtYXRjaFsxXSAmJiBpc1ZhbGlkTnVtYmVyKG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemVOdW1iZXIobWF0Y2hbMV0pXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2ZvbGxvd2VycycgJiYgIWhhc1ZhbGlkRm9sbG93ZXJzKSB7XG4gICAgICAgICAgICAgIHByb2ZpbGVEYXRhLmZvbGxvd2VycyA9IHZhbHVlXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBGb2xsb3dlcnMgZW5jb250cmFkbyBlbSBwYWRyw6NvIG9jdWx0bzpgLCB2YWx1ZSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xpa2VzJyAmJiAhaGFzVmFsaWRMaWtlcykge1xuICAgICAgICAgICAgICBwcm9maWxlRGF0YS5saWtlcyA9IHZhbHVlXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtwcm9maWxlRGF0YS51c2VybmFtZX1dIOKchSBMaWtlcyBlbmNvbnRyYWRvIGVtIHBhZHLDo28gb2N1bHRvOmAsIHZhbHVlKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZpbmFsSGFzVmFsaWRGb2xsb3dlcnMgPSBpc1ZhbGlkTnVtYmVyKHByb2ZpbGVEYXRhLmZvbGxvd2VycylcbiAgICBjb25zdCBmaW5hbEhhc1ZhbGlkTGlrZXMgPSBpc1ZhbGlkTnVtYmVyKHByb2ZpbGVEYXRhLmxpa2VzKVxuXG4gICAgLy8gU2UgbsOjbyBlbmNvbnRyb3UgZGFkb3MgdsOhbGlkb3MgZSBhaW5kYSB0ZW0gdGVudGF0aXZhcywgdGVudGFyIG5vdmFtZW50ZVxuICAgIGlmICgoIWZpbmFsSGFzVmFsaWRGb2xsb3dlcnMgfHwgIWZpbmFsSGFzVmFsaWRMaWtlcykgJiYgcmV0cnlDb3VudCA8IE1BWF9SRVRSSUVTKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7cHJvZmlsZURhdGEudXNlcm5hbWV9XSDimqDvuI8gRGFkb3MgaW52w6FsaWRvcyBlbmNvbnRyYWRvcyBhcMOzcyB0b2RhcyBlc3RyYXTDqWdpYXMuIFRlbnRhbmRvIG5vdmFtZW50ZS4uLmApXG4gICAgICBhd2FpdCBzbGVlcCgyMDAwKSAvLyBBZ3VhcmRhciB1bSBwb3VjbyBtYWlzIGFudGVzIGRlIHRlbnRhciBub3ZhbWVudGVcbiAgICAgIHJldHVybiBleHRyYWN0UHJvZmlsZURhdGEodXJsLCByZXRyeUNvdW50ICsgMSlcbiAgICB9XG5cbiAgICAvLyBTZSBhaW5kYSBuw6NvIHRlbSBkYWRvcyB2w6FsaWRvcyBhcMOzcyB0b2RhcyB0ZW50YXRpdmFzLCByZXRvcm5hciB2YXppb1xuICAgIGlmICghaGFzVmFsaWRGb2xsb3dlcnMpIHtcbiAgICAgIHByb2ZpbGVEYXRhLmZvbGxvd2VycyA9ICcnXG4gICAgfVxuICAgIGlmICghaGFzVmFsaWRMaWtlcykge1xuICAgICAgcHJvZmlsZURhdGEubGlrZXMgPSAnJ1xuICAgIH1cblxuICAgIHJldHVybiBwcm9maWxlRGF0YVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgLy8gU2UgZGV1IGVycm8gZSBhaW5kYSB0ZW0gdGVudGF0aXZhcywgdGVudGFyIG5vdmFtZW50ZVxuICAgIGlmIChyZXRyeUNvdW50IDwgTUFYX1JFVFJJRVMpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHt1cmx9XSBFcnJvIG5hIHRlbnRhdGl2YSAke3JldHJ5Q291bnQgKyAxfTogJHtlcnJvci5tZXNzYWdlfS4gVGVudGFuZG8gbm92YW1lbnRlLi4uYClcbiAgICAgIHJldHVybiBleHRyYWN0UHJvZmlsZURhdGEodXJsLCByZXRyeUNvdW50ICsgMSlcbiAgICB9XG4gICAgXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCBhdXRoID0gdmVyaWZ5QXV0aChyZXF1ZXN0KVxuICBpZiAoIWF1dGguYXV0aGVudGljYXRlZCkge1xuICAgIHJldHVybiBhdXRoLnJlc3BvbnNlIVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVybCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIGlmICghdXJsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdVUkwgw6kgb2JyaWdhdMOzcmlhJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgXFxu8J+UjSBJbmljaWFuZG8gYW7DoWxpc2UgZGU6ICR7dXJsfWApXG4gICAgY29uc3QgcHJvZmlsZURhdGEgPSBhd2FpdCBleHRyYWN0UHJvZmlsZURhdGEodXJsLCAwKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGDinIUgQW7DoWxpc2UgY29uY2x1w61kYSBwYXJhOiAke3Byb2ZpbGVEYXRhLnVzZXJuYW1lfWApXG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHByb2ZpbGVEYXRhKVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm8gYW8gZXh0cmFpciBkYWRvczonLCBlcnJvci5tZXNzYWdlKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6IGBFcnJvIGFvIGFuYWxpc2FyIHBlcmZpbDogJHtlcnJvci5tZXNzYWdlfWAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImF4aW9zIiwiY2hlZXJpbyIsInZlcmlmeUF1dGgiLCJpc1ZhbGlkTnVtYmVyIiwidmFsdWUiLCJzdHIiLCJTdHJpbmciLCJ0cmltIiwidG9VcHBlckNhc2UiLCJudW0iLCJwYXJzZUludCIsInJlcGxhY2UiLCJub3JtYWxpemVOdW1iZXIiLCJub3JtYWxpemVkIiwiaGFzU3VmZml4IiwidGVzdCIsInN1ZmZpeCIsInNsaWNlIiwibnVtYmVyUGFydCIsImNsZWFuTnVtYmVyIiwic2xlZXAiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImV4dHJhY3RQcm9maWxlRGF0YSIsInVybCIsInJldHJ5Q291bnQiLCJNQVhfUkVUUklFUyIsIkRFTEFZX0JFVFdFRU5fUkVUUklFUyIsIm5vcm1hbGl6ZWRVcmwiLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJjb25zb2xlIiwibG9nIiwidXNlcm5hbWUiLCJ1c2VybmFtZU1hdGNoMSIsIm1hdGNoIiwidXNlcm5hbWVNYXRjaDIiLCJ3YXJuIiwidXNlcm5hbWVNYXRjaCIsImhlYWRlcnMiLCJyZXNwb25zZSIsImdldCIsInRpbWVvdXQiLCJtYXhSZWRpcmVjdHMiLCJ2YWxpZGF0ZVN0YXR1cyIsInN0YXR1cyIsIkVycm9yIiwic3RhdHVzVGV4dCIsIiQiLCJsb2FkIiwiZGF0YSIsImh0bWwiLCJzdWJzdHJpbmciLCJwcm9maWxlRGF0YSIsImRpc3BsYXlOYW1lIiwiYXZhdGFyIiwiZm9sbG93ZXJzIiwibGlrZXMiLCJiaW8iLCJ2ZXJpZmllZCIsImF0dHIiLCJtZXRhRGVzY3JpcHRpb24iLCJkZXNjTGlrZXNQYXR0ZXJucyIsInBhdHRlcm4iLCJkZXNjRm9sbG93ZXJzUGF0dGVybnMiLCJwYWdlVGV4dCIsInRleHQiLCJmdWxsVGV4dCIsImZvbGxvd2Vyc1BhdHRlcm5zIiwibWF0Y2hlcyIsImxpa2VzUGF0dGVybnMiLCJzY3JpcHRzIiwidG9BcnJheSIsImFsbFNjcmlwdENvbnRlbnQiLCJzY3JpcHQiLCJzY3JpcHRDb250ZW50IiwianNvblBhdHRlcm5zIiwianNvbk1hdGNoZXMiLCJqc29uU3RyIiwiSlNPTiIsInBhcnNlIiwiZnVsbE1hdGNoIiwidXNlckRhdGEiLCJ1c2VyIiwicHJvZmlsZSIsInJlc3VsdCIsImNvbnRlbnQiLCJpbml0aWFsU3RhdGUiLCJwYWdlUHJvcHMiLCJmb2xsb3dlckNhbmRpZGF0ZXMiLCJmb2xsb3dlckNvdW50IiwiZm9sbG93ZXJzQ291bnQiLCJmYW5Db3VudCIsImZhbl9jb3VudCIsImZhbnMiLCJ0b3RhbEZvbGxvd2VycyIsImZvbGxvd2VyX2NvdW50IiwiY2FuZGlkYXRlIiwidW5kZWZpbmVkIiwibGlrZUNhbmRpZGF0ZXMiLCJsaWtlQ291bnQiLCJ0b3RhbExpa2VzIiwicmVjZWl2ZWRMaWtlQ291bnQiLCJsaWtlX2NvdW50IiwidG90YWxfbGlrZXMiLCJhdmF0YXJVcmwiLCJwcm9maWxlUGljIiwiaGVhZFVybCIsImhlYWQiLCJwcm9maWxlX2ltYWdlIiwiaW1hZ2UiLCJwaWN0dXJlIiwibmlja25hbWUiLCJuYW1lIiwidXNlck5hbWUiLCJ0aXRsZSIsInNpZ25hdHVyZSIsImRlc2NyaXB0aW9uIiwiYWJvdXQiLCJpbnRybyIsImlzVmVyaWZpZWQiLCJ2ZXJpZmllZF9zdGF0dXMiLCJ1bmlxdWVJZCIsImUiLCJrd2FpUGF0dGVybnMiLCJrZXkiLCJwYXR0ZXJucyIsIk9iamVjdCIsImVudHJpZXMiLCJmb2xsb3dlcnNTZWxlY3RvcnMiLCJzZWxlY3RvciIsImVsZW1lbnRzIiwiaSIsImxlbmd0aCIsImVsIiwibGlrZXNTZWxlY3RvcnMiLCJhdmF0YXJTZWxlY3RvcnMiLCJpbWciLCJmaXJzdCIsInNyYyIsImhhc1ZhbGlkRm9sbG93ZXJzIiwiaGFzVmFsaWRMaWtlcyIsImFsbE51bWJlcnMiLCJoaWRkZW5QYXR0ZXJucyIsInR5cGUiLCJtYXRjaEFsbCIsImZpbmFsSGFzVmFsaWRGb2xsb3dlcnMiLCJmaW5hbEhhc1ZhbGlkTGlrZXMiLCJlcnJvciIsIm1lc3NhZ2UiLCJQT1NUIiwicmVxdWVzdCIsImF1dGgiLCJhdXRoZW50aWNhdGVkIiwianNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analyze/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   verifyAuth: () => (/* binding */ verifyAuth)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./jwt */ \"(rsc)/./lib/jwt.ts\");\n\n\nfunction verifyAuth(request) {\n    const authToken = request.cookies.get(\"auth-token\");\n    if (!authToken) {\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"N\\xe3o autorizado. Fa\\xe7a login para continuar.\"\n            }, {\n                status: 401\n            })\n        };\n    }\n    // Verificar se o token JWT √© v√°lido\n    const payload = (0,_jwt__WEBPACK_IMPORTED_MODULE_1__.verifyToken)(authToken.value);\n    if (!payload) {\n        return {\n            authenticated: false,\n            response: next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Token inv\\xe1lido ou expirado. Fa\\xe7a login novamente.\"\n            }, {\n                status: 401\n            })\n        };\n    }\n    return {\n        authenticated: true\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUFDcEI7QUFFNUIsU0FBU0UsV0FBV0MsT0FBb0I7SUFDN0MsTUFBTUMsWUFBWUQsUUFBUUUsT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFFdEMsSUFBSSxDQUFDRixXQUFXO1FBQ2QsT0FBTztZQUNMRyxlQUFlO1lBQ2ZDLFVBQVVSLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3pCO2dCQUFFQyxPQUFPO1lBQTZDLEdBQ3REO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7SUFDRjtJQUVBLG9DQUFvQztJQUNwQyxNQUFNQyxVQUFVWCxpREFBV0EsQ0FBQ0csVUFBVVMsS0FBSztJQUMzQyxJQUFJLENBQUNELFNBQVM7UUFDWixPQUFPO1lBQ0xMLGVBQWU7WUFDZkMsVUFBVVIscURBQVlBLENBQUNTLElBQUksQ0FDekI7Z0JBQUVDLE9BQU87WUFBb0QsR0FDN0Q7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtJQUNGO0lBRUEsT0FBTztRQUFFSixlQUFlO0lBQUs7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9rd2FpLXByb2ZpbGUtYW5hbHl6ZXIvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHZlcmlmeVRva2VuIH0gZnJvbSAnLi9qd3QnXG5cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlBdXRoKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogeyBhdXRoZW50aWNhdGVkOiBib29sZWFuOyByZXNwb25zZT86IE5leHRSZXNwb25zZSB9IHtcbiAgY29uc3QgYXV0aFRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldCgnYXV0aC10b2tlbicpXG5cbiAgaWYgKCFhdXRoVG9rZW4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UsXG4gICAgICByZXNwb25zZTogTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdOw6NvIGF1dG9yaXphZG8uIEZhw6dhIGxvZ2luIHBhcmEgY29udGludWFyLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApLFxuICAgIH1cbiAgfVxuXG4gIC8vIFZlcmlmaWNhciBzZSBvIHRva2VuIEpXVCDDqSB2w6FsaWRvXG4gIGNvbnN0IHBheWxvYWQgPSB2ZXJpZnlUb2tlbihhdXRoVG9rZW4udmFsdWUpXG4gIGlmICghcGF5bG9hZCkge1xuICAgIHJldHVybiB7XG4gICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgIHJlc3BvbnNlOiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ1Rva2VuIGludsOhbGlkbyBvdSBleHBpcmFkby4gRmHDp2EgbG9naW4gbm92YW1lbnRlLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApLFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IGF1dGhlbnRpY2F0ZWQ6IHRydWUgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInZlcmlmeVRva2VuIiwidmVyaWZ5QXV0aCIsInJlcXVlc3QiLCJhdXRoVG9rZW4iLCJjb29raWVzIiwiZ2V0IiwiYXV0aGVudGljYXRlZCIsInJlc3BvbnNlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwicGF5bG9hZCIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/jwt.ts":
/*!********************!*\
  !*** ./lib/jwt.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"seu-secret-super-seguro-mude-em-producao\";\nconst JWT_EXPIRES_IN = \"7d\";\nfunction generateToken(username) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({\n        username\n    }, JWT_SECRET, {\n        expiresIn: JWT_EXPIRES_IN\n    });\n}\nfunction verifyToken(token) {\n    try {\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n        return decoded;\n    } catch (error) {\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvand0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEI7QUFFOUIsTUFBTUMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDRixVQUFVLElBQUk7QUFDN0MsTUFBTUcsaUJBQWlCO0FBUWhCLFNBQVNDLGNBQWNDLFFBQWdCO0lBQzVDLE9BQU9OLHdEQUFRLENBQUM7UUFBRU07SUFBUyxHQUFHTCxZQUFZO1FBQ3hDTyxXQUFXSjtJQUNiO0FBQ0Y7QUFFTyxTQUFTSyxZQUFZQyxLQUFhO0lBQ3ZDLElBQUk7UUFDRixNQUFNQyxVQUFVWCwwREFBVSxDQUFDVSxPQUFPVDtRQUNsQyxPQUFPVTtJQUNULEVBQUUsT0FBT0UsT0FBTztRQUNkLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va3dhaS1wcm9maWxlLWFuYWx5emVyLy4vbGliL2p3dC50cz9lYTIzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xyXG5cclxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NldS1zZWNyZXQtc3VwZXItc2VndXJvLW11ZGUtZW0tcHJvZHVjYW8nXHJcbmNvbnN0IEpXVF9FWFBJUkVTX0lOID0gJzdkJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBKV1RQYXlsb2FkIHtcclxuICB1c2VybmFtZTogc3RyaW5nXHJcbiAgaWF0PzogbnVtYmVyXHJcbiAgZXhwPzogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHVzZXJuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gIHJldHVybiBqd3Quc2lnbih7IHVzZXJuYW1lIH0sIEpXVF9TRUNSRVQsIHtcclxuICAgIGV4cGlyZXNJbjogSldUX0VYUElSRVNfSU4sXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuOiBzdHJpbmcpOiBKV1RQYXlsb2FkIHwgbnVsbCB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKSBhcyBKV1RQYXlsb2FkXHJcbiAgICByZXR1cm4gZGVjb2RlZFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxufVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6WyJqd3QiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsIkpXVF9FWFBJUkVTX0lOIiwiZ2VuZXJhdGVUb2tlbiIsInVzZXJuYW1lIiwic2lnbiIsImV4cGlyZXNJbiIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/jwt.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/undici","vendor-chunks/axios","vendor-chunks/iconv-lite","vendor-chunks/parse5","vendor-chunks/cheerio","vendor-chunks/css-select","vendor-chunks/asynckit","vendor-chunks/entities","vendor-chunks/domutils","vendor-chunks/math-intrinsics","vendor-chunks/htmlparser2","vendor-chunks/es-errors","vendor-chunks/whatwg-mimetype","vendor-chunks/call-bind-apply-helpers","vendor-chunks/nth-check","vendor-chunks/cheerio-select","vendor-chunks/whatwg-encoding","vendor-chunks/get-proto","vendor-chunks/encoding-sniffer","vendor-chunks/domhandler","vendor-chunks/dom-serializer","vendor-chunks/mime-db","vendor-chunks/has-symbols","vendor-chunks/gopd","vendor-chunks/function-bind","vendor-chunks/form-data","vendor-chunks/follow-redirects","vendor-chunks/css-what","vendor-chunks/parse5-parser-stream","vendor-chunks/parse5-htmlparser2-tree-adapter","vendor-chunks/domelementtype","vendor-chunks/safer-buffer","vendor-chunks/proxy-from-env","vendor-chunks/mime-types","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/get-intrinsic","vendor-chunks/es-set-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/es-define-property","vendor-chunks/dunder-proto","vendor-chunks/delayed-stream","vendor-chunks/combined-stream","vendor-chunks/boolbase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalyze%2Froute&page=%2Fapi%2Fanalyze%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalyze%2Froute.ts&appDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cdanie%5CDesktop%5Ckwai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();